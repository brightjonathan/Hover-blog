var mS=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var a2=mS((d2,ih)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function gS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uf={exports:{}},Il={},jf={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function yS(){if(c_)return xe;c_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,W={};function j(M,q,ge){this.props=M,this.context=q,this.refs=W,this.updater=ge||O}j.prototype.isReactComponent={},j.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function X(M,q,ge){this.props=M,this.context=q,this.refs=W,this.updater=ge||O}var re=X.prototype=new Y;re.constructor=X,F(re,j.prototype),re.isPureReactComponent=!0;var pe=Array.isArray,Ce=Object.prototype.hasOwnProperty,Re={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(M,q,ge){var De,Ne={},Fe=null,Ye=null;if(q!=null)for(De in q.ref!==void 0&&(Ye=q.ref),q.key!==void 0&&(Fe=""+q.key),q)Ce.call(q,De)&&!D.hasOwnProperty(De)&&(Ne[De]=q[De]);var qe=arguments.length-2;if(qe===1)Ne.children=ge;else if(1<qe){for(var Ze=Array(qe),xt=0;xt<qe;xt++)Ze[xt]=arguments[xt+2];Ne.children=Ze}if(M&&M.defaultProps)for(De in qe=M.defaultProps,qe)Ne[De]===void 0&&(Ne[De]=qe[De]);return{$$typeof:t,type:M,key:Fe,ref:Ye,props:Ne,_owner:Re.current}}function R(M,q){return{$$typeof:t,type:M.type,key:q,ref:M.ref,props:M.props,_owner:M._owner}}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function x(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ge){return q[ge]})}var L=/\/+/g;function P(M,q){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):q.toString(36)}function mt(M,q,ge,De,Ne){var Fe=typeof M;(Fe==="undefined"||Fe==="boolean")&&(M=null);var Ye=!1;if(M===null)Ye=!0;else switch(Fe){case"string":case"number":Ye=!0;break;case"object":switch(M.$$typeof){case t:case e:Ye=!0}}if(Ye)return Ye=M,Ne=Ne(Ye),M=De===""?"."+P(Ye,0):De,pe(Ne)?(ge="",M!=null&&(ge=M.replace(L,"$&/")+"/"),mt(Ne,q,ge,"",function(xt){return xt})):Ne!=null&&(C(Ne)&&(Ne=R(Ne,ge+(!Ne.key||Ye&&Ye.key===Ne.key?"":(""+Ne.key).replace(L,"$&/")+"/")+M)),q.push(Ne)),1;if(Ye=0,De=De===""?".":De+":",pe(M))for(var qe=0;qe<M.length;qe++){Fe=M[qe];var Ze=De+P(Fe,qe);Ye+=mt(Fe,q,ge,Ze,Ne)}else if(Ze=S(M),typeof Ze=="function")for(M=Ze.call(M),qe=0;!(Fe=M.next()).done;)Fe=Fe.value,Ze=De+P(Fe,qe++),Ye+=mt(Fe,q,ge,Ze,Ne);else if(Fe==="object")throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ye}function Ht(M,q,ge){if(M==null)return M;var De=[],Ne=0;return mt(M,De,"","",function(Fe){return q.call(ge,Fe,Ne++)}),De}function Yt(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(ge){(M._status===0||M._status===-1)&&(M._status=1,M._result=ge)},function(ge){(M._status===0||M._status===-1)&&(M._status=2,M._result=ge)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var Qe={current:null},ne={transition:null},_e={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Re};function oe(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:Ht,forEach:function(M,q,ge){Ht(M,function(){q.apply(this,arguments)},ge)},count:function(M){var q=0;return Ht(M,function(){q++}),q},toArray:function(M){return Ht(M,function(q){return q})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xe.Component=j,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=X,xe.StrictMode=i,xe.Suspense=p,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,xe.act=oe,xe.cloneElement=function(M,q,ge){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var De=F({},M.props),Ne=M.key,Fe=M.ref,Ye=M._owner;if(q!=null){if(q.ref!==void 0&&(Fe=q.ref,Ye=Re.current),q.key!==void 0&&(Ne=""+q.key),M.type&&M.type.defaultProps)var qe=M.type.defaultProps;for(Ze in q)Ce.call(q,Ze)&&!D.hasOwnProperty(Ze)&&(De[Ze]=q[Ze]===void 0&&qe!==void 0?qe[Ze]:q[Ze])}var Ze=arguments.length-2;if(Ze===1)De.children=ge;else if(1<Ze){qe=Array(Ze);for(var xt=0;xt<Ze;xt++)qe[xt]=arguments[xt+2];De.children=qe}return{$$typeof:t,type:M.type,key:Ne,ref:Fe,props:De,_owner:Ye}},xe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},xe.createElement=I,xe.createFactory=function(M){var q=I.bind(null,M);return q.type=M,q},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:f,render:M}},xe.isValidElement=C,xe.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:Yt}},xe.memo=function(M,q){return{$$typeof:y,type:M,compare:q===void 0?null:q}},xe.startTransition=function(M){var q=ne.transition;ne.transition={};try{M()}finally{ne.transition=q}},xe.unstable_act=oe,xe.useCallback=function(M,q){return Qe.current.useCallback(M,q)},xe.useContext=function(M){return Qe.current.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M){return Qe.current.useDeferredValue(M)},xe.useEffect=function(M,q){return Qe.current.useEffect(M,q)},xe.useId=function(){return Qe.current.useId()},xe.useImperativeHandle=function(M,q,ge){return Qe.current.useImperativeHandle(M,q,ge)},xe.useInsertionEffect=function(M,q){return Qe.current.useInsertionEffect(M,q)},xe.useLayoutEffect=function(M,q){return Qe.current.useLayoutEffect(M,q)},xe.useMemo=function(M,q){return Qe.current.useMemo(M,q)},xe.useReducer=function(M,q,ge){return Qe.current.useReducer(M,q,ge)},xe.useRef=function(M){return Qe.current.useRef(M)},xe.useState=function(M){return Qe.current.useState(M)},xe.useSyncExternalStore=function(M,q,ge){return Qe.current.useSyncExternalStore(M,q,ge)},xe.useTransition=function(){return Qe.current.useTransition()},xe.version="18.3.1",xe}var h_;function Up(){return h_||(h_=1,jf.exports=yS()),jf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function _S(){if(d_)return Il;d_=1;var t=Up(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,y){var w,T={},S=null,O=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(O=p.ref);for(w in p)i.call(p,w)&&!a.hasOwnProperty(w)&&(T[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:f,key:S,ref:O,props:T,_owner:o.current}}return Il.Fragment=n,Il.jsx=c,Il.jsxs=c,Il}var f_;function vS(){return f_||(f_=1,Uf.exports=_S()),Uf.exports}var de=vS(),Oc={},zf={exports:{}},mn={},Bf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function wS(){return p_||(p_=1,function(t){function e(ne,_e){var oe=ne.length;ne.push(_e);e:for(;0<oe;){var M=oe-1>>>1,q=ne[M];if(0<o(q,_e))ne[M]=_e,ne[oe]=q,oe=M;else break e}}function n(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var _e=ne[0],oe=ne.pop();if(oe!==_e){ne[0]=oe;e:for(var M=0,q=ne.length,ge=q>>>1;M<ge;){var De=2*(M+1)-1,Ne=ne[De],Fe=De+1,Ye=ne[Fe];if(0>o(Ne,oe))Fe<q&&0>o(Ye,Ne)?(ne[M]=Ye,ne[Fe]=oe,M=Fe):(ne[M]=Ne,ne[De]=oe,M=De);else if(Fe<q&&0>o(Ye,oe))ne[M]=Ye,ne[Fe]=oe,M=Fe;else break e}}return _e}function o(ne,_e){var oe=ne.sortIndex-_e.sortIndex;return oe!==0?oe:ne.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],y=[],w=1,T=null,S=3,O=!1,F=!1,W=!1,j=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ne){for(var _e=n(y);_e!==null;){if(_e.callback===null)i(y);else if(_e.startTime<=ne)i(y),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(y)}}function pe(ne){if(W=!1,re(ne),!F)if(n(p)!==null)F=!0,Yt(Ce);else{var _e=n(y);_e!==null&&Qe(pe,_e.startTime-ne)}}function Ce(ne,_e){F=!1,W&&(W=!1,Y(I),I=-1),O=!0;var oe=S;try{for(re(_e),T=n(p);T!==null&&(!(T.expirationTime>_e)||ne&&!x());){var M=T.callback;if(typeof M=="function"){T.callback=null,S=T.priorityLevel;var q=M(T.expirationTime<=_e);_e=t.unstable_now(),typeof q=="function"?T.callback=q:T===n(p)&&i(p),re(_e)}else i(p);T=n(p)}if(T!==null)var ge=!0;else{var De=n(y);De!==null&&Qe(pe,De.startTime-_e),ge=!1}return ge}finally{T=null,S=oe,O=!1}}var Re=!1,D=null,I=-1,R=5,C=-1;function x(){return!(t.unstable_now()-C<R)}function L(){if(D!==null){var ne=t.unstable_now();C=ne;var _e=!0;try{_e=D(!0,ne)}finally{_e?P():(Re=!1,D=null)}}else Re=!1}var P;if(typeof X=="function")P=function(){X(L)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Ht=mt.port2;mt.port1.onmessage=L,P=function(){Ht.postMessage(null)}}else P=function(){j(L,0)};function Yt(ne){D=ne,Re||(Re=!0,P())}function Qe(ne,_e){I=j(function(){ne(t.unstable_now())},_e)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){F||O||(F=!0,Yt(Ce))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var _e=3;break;default:_e=S}var oe=S;S=_e;try{return ne()}finally{S=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,_e){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=S;S=ne;try{return _e()}finally{S=oe}},t.unstable_scheduleCallback=function(ne,_e,oe){var M=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?M+oe:M):oe=M,ne){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=oe+q,ne={id:w++,callback:_e,priorityLevel:ne,startTime:oe,expirationTime:q,sortIndex:-1},oe>M?(ne.sortIndex=oe,e(y,ne),n(p)===null&&ne===n(y)&&(W?(Y(I),I=-1):W=!0,Qe(pe,oe-M))):(ne.sortIndex=q,e(p,ne),F||O||(F=!0,Yt(Ce))),ne},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(ne){var _e=S;return function(){var oe=S;S=_e;try{return ne.apply(this,arguments)}finally{S=oe}}}}(Wf)),Wf}var m_;function ES(){return m_||(m_=1,Bf.exports=wS()),Bf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function TS(){if(g_)return mn;g_=1;var t=Up(),e=ES();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(r){return p.call(T,r)?!0:p.call(w,r)?!1:y.test(r)?T[r]=!0:(w[r]=!0,!1)}function O(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F(r,s,l,h){if(s===null||typeof s>"u"||O(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function W(r,s,l,h,d,g,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=v}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new W(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new W(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new W(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new W(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new W(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new W(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new W(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new W(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new W(r,5,!1,r.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Y,X);j[s]=new W(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Y,X);j[s]=new W(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Y,X);j[s]=new W(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new W(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new W(r,1,!1,r.toLowerCase(),null,!0,!0)});function re(r,s,l,h){var d=j.hasOwnProperty(s)?j[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,l,d,h)&&(l=null),h||d===null?S(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):d.mustUseProperty?r[d.propertyName]=l===null?d.type===3?!1:"":l:(s=d.attributeName,h=d.attributeNamespace,l===null?r.removeAttribute(s):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var pe=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Re=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),Ht=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function _e(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,M;function q(r){if(M===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var ge=!1;function De(r,s){if(!r||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),g=h.stack.split(`
`),v=d.length-1,k=g.length-1;1<=v&&0<=k&&d[v]!==g[k];)k--;for(;1<=v&&0<=k;v--,k--)if(d[v]!==g[k]){if(v!==1||k!==1)do if(v--,k--,0>k||d[v]!==g[k]){var A=`
`+d[v].replace(" at new "," at ");return r.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",r.displayName)),A}while(1<=v&&0<=k);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?q(r):""}function Ne(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=De(r.type,!1),r;case 11:return r=De(r.type.render,!1),r;case 1:return r=De(r.type,!0),r;default:return""}}function Fe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case Re:return"Portal";case R:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case mt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Consumer";case C:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ht:return s=r.displayName||null,s!==null?s:Fe(r.type)||"Memo";case Yt:s=r._payload,r=r._init;try{return Fe(r(s))}catch{}}return null}function Ye(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ze(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xt(r){var s=Ze(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){h=""+v,g.call(this,v)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(v){h=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Or(r){r._valueTracker||(r._valueTracker=xt(r))}function eo(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ze(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function vi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function cs(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function to(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=qe(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Da(r,s){s=s.checked,s!=null&&re(r,"checked",s,!1)}function Na(r,s){Da(r,s);var l=qe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?no(r,s.type,l):s.hasOwnProperty("defaultValue")&&no(r,s.type,qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function _u(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function no(r,s,l){(s!=="number"||vi(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Mr=Array.isArray;function Lr(r,s,l,h){if(r=r.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<r.length;l++)d=s.hasOwnProperty("$"+r[l].value),r[l].selected!==d&&(r[l].selected=d),d&&h&&(r[l].defaultSelected=!0)}else{for(l=""+qe(l),s=null,d=0;d<r.length;d++){if(r[d].value===l){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function xa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ro(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Mr(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:qe(l)}}function io(r,s){var l=qe(s.value),h=qe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Oa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function St(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?St(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Vr,Ma=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function wi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ds=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(r){ds.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),hs[s]=hs[r]})});function La(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||hs.hasOwnProperty(r)&&hs[r]?(""+s).trim():s+"px"}function Va(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,d=La(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,d):r[l]=d}}var ba=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fa(r,s){if(s){if(ba[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Ua(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fs=null;function so(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var oo=null,Cn=null,ur=null;function ao(r){if(r=ul(r)){if(typeof oo!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Gu(s),oo(r.stateNode,r.type,s))}}function cr(r){Cn?ur?ur.push(r):ur=[r]:Cn=r}function ja(){if(Cn){var r=Cn,s=ur;if(ur=Cn=null,ao(r),s)for(r=0;r<s.length;r++)ao(s[r])}}function ps(r,s){return r(s)}function za(){}var br=!1;function Ba(r,s,l){if(br)return r(s,l);br=!0;try{return ps(r,s,l)}finally{br=!1,(Cn!==null||ur!==null)&&(za(),ja())}}function gt(r,s){var l=r.stateNode;if(l===null)return null;var h=Gu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var lo=!1;if(f)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{lo=!1}function ms(r,s,l,h,d,g,v,k,A){var z=Array.prototype.slice.call(arguments,3);try{s.apply(l,z)}catch(K){this.onError(K)}}var gs=!1,uo=null,Wn=!1,Wa=null,dd={onError:function(r){gs=!0,uo=r}};function co(r,s,l,h,d,g,v,k,A){gs=!1,uo=null,ms.apply(dd,arguments)}function vu(r,s,l,h,d,g,v,k,A){if(co.apply(this,arguments),gs){if(gs){var z=uo;gs=!1,uo=null}else throw Error(n(198));Wn||(Wn=!0,Wa=z)}}function $n(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function ys(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Hn(r){if($n(r)!==r)throw Error(n(188))}function wu(r){var s=r.alternate;if(!s){if(s=$n(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var d=l.return;if(d===null)break;var g=d.alternate;if(g===null){if(h=d.return,h!==null){l=h;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===l)return Hn(d),r;if(g===h)return Hn(d),s;g=g.sibling}throw Error(n(188))}if(l.return!==h.return)l=d,h=g;else{for(var v=!1,k=d.child;k;){if(k===l){v=!0,l=d,h=g;break}if(k===h){v=!0,h=d,l=g;break}k=k.sibling}if(!v){for(k=g.child;k;){if(k===l){v=!0,l=g,h=d;break}if(k===h){v=!0,h=g,l=d;break}k=k.sibling}if(!v)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function $a(r){return r=wu(r),r!==null?ho(r):null}function ho(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ho(r);if(s!==null)return s;r=r.sibling}return null}var fo=e.unstable_scheduleCallback,Ha=e.unstable_cancelCallback,Eu=e.unstable_shouldYield,fd=e.unstable_requestPaint,et=e.unstable_now,Tu=e.unstable_getCurrentPriorityLevel,_s=e.unstable_ImmediatePriority,Ei=e.unstable_UserBlockingPriority,Dn=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,Su=e.unstable_IdlePriority,vs=null,vn=null;function Iu(r){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(vs,r,void 0,(r.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Ru,qa=Math.log,ku=Math.LN2;function Ru(r){return r>>>=0,r===0?32:31-(qa(r)/ku|0)|0}var po=64,mo=4194304;function Ti(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ws(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,d=r.suspendedLanes,g=r.pingedLanes,v=l&268435455;if(v!==0){var k=v&~d;k!==0?h=Ti(k):(g&=v,g!==0&&(h=Ti(g)))}else v=l&~d,v!==0?h=Ti(v):g!==0&&(h=Ti(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&d)&&(d=h&-h,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-nn(s),d=1<<l,h|=r[l],s&=~d;return h}function pd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var v=31-nn(g),k=1<<v,A=d[v];A===-1?(!(k&l)||k&h)&&(d[v]=pd(k,s)):A<=s&&(r.expiredLanes|=k),g&=~k}}function wn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Es(){var r=po;return po<<=1,!(po&4194240)&&(po=64),r}function Si(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ii(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-nn(s),r[s]=l}function Je(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var d=31-nn(l),g=1<<d;s[d]=0,h[d]=-1,r[d]=-1,l&=~g}}function ki(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-nn(l),d=1<<h;d&s|r[h]&s&&(r[h]|=s),l&=~d}}var Ve=0;function Ri(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Pu,go,Au,Cu,Du,Ga=!1,hr=[],Ft=null,Yn=null,qn=null,Pi=new Map,Nn=new Map,dr=[],md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nu(r,s){switch(r){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Pi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(s.pointerId)}}function ln(r,s,l,h,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ul(s),s!==null&&go(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function gd(r,s,l,h,d){switch(s){case"focusin":return Ft=ln(Ft,r,s,l,h,d),!0;case"dragenter":return Yn=ln(Yn,r,s,l,h,d),!0;case"mouseover":return qn=ln(qn,r,s,l,h,d),!0;case"pointerover":var g=d.pointerId;return Pi.set(g,ln(Pi.get(g)||null,r,s,l,h,d)),!0;case"gotpointercapture":return g=d.pointerId,Nn.set(g,ln(Nn.get(g)||null,r,s,l,h,d)),!0}return!1}function xu(r){var s=Rs(r.target);if(s!==null){var l=$n(s);if(l!==null){if(s=l.tag,s===13){if(s=ys(l),s!==null){r.blockedOn=s,Du(r.priority,function(){Au(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ur(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=yo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);fs=h,l.target.dispatchEvent(h),fs=null}else return s=ul(l),s!==null&&go(s),r.blockedOn=l,!1;s.shift()}return!0}function Ts(r,s,l){Ur(r)&&l.delete(s)}function Ou(){Ga=!1,Ft!==null&&Ur(Ft)&&(Ft=null),Yn!==null&&Ur(Yn)&&(Yn=null),qn!==null&&Ur(qn)&&(qn=null),Pi.forEach(Ts),Nn.forEach(Ts)}function Gn(r,s){r.blockedOn===s&&(r.blockedOn=null,Ga||(Ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ou)))}function Kn(r){function s(d){return Gn(d,r)}if(0<hr.length){Gn(hr[0],r);for(var l=1;l<hr.length;l++){var h=hr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Ft!==null&&Gn(Ft,r),Yn!==null&&Gn(Yn,r),qn!==null&&Gn(qn,r),Pi.forEach(s),Nn.forEach(s),l=0;l<dr.length;l++)h=dr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<dr.length&&(l=dr[0],l.blockedOn===null);)xu(l),l.blockedOn===null&&dr.shift()}var jr=pe.ReactCurrentBatchConfig,Ai=!0;function ot(r,s,l,h){var d=Ve,g=jr.transition;jr.transition=null;try{Ve=1,Ka(r,s,l,h)}finally{Ve=d,jr.transition=g}}function yd(r,s,l,h){var d=Ve,g=jr.transition;jr.transition=null;try{Ve=4,Ka(r,s,l,h)}finally{Ve=d,jr.transition=g}}function Ka(r,s,l,h){if(Ai){var d=yo(r,s,l,h);if(d===null)Ad(r,s,h,Ss,l),Nu(r,h);else if(gd(d,r,s,l,h))h.stopPropagation();else if(Nu(r,h),s&4&&-1<md.indexOf(r)){for(;d!==null;){var g=ul(d);if(g!==null&&Pu(g),g=yo(r,s,l,h),g===null&&Ad(r,s,h,Ss,l),g===d)break;d=g}d!==null&&h.stopPropagation()}else Ad(r,s,h,null,l)}}var Ss=null;function yo(r,s,l,h){if(Ss=null,r=so(h),r=Rs(r),r!==null)if(s=$n(r),s===null)r=null;else if(l=s.tag,l===13){if(r=ys(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ss=r,null}function Qa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tu()){case _s:return 1;case Ei:return 4;case Dn:case Ya:return 16;case Su:return 536870912;default:return 16}default:return 16}}var En=null,_o=null,un=null;function Xa(){if(un)return un;var r,s=_o,l=s.length,h,d="value"in En?En.value:En.textContent,g=d.length;for(r=0;r<l&&s[r]===d[r];r++);var v=l-r;for(h=1;h<=v&&s[l-h]===d[g-h];h++);return un=d.slice(r,1<h?1-h:void 0)}function vo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function fr(){return!0}function Ja(){return!1}function Ut(r){function s(l,h,d,g,v){this._reactName=l,this._targetInst=d,this.type=h,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?fr:Ja,this.isPropagationStopped=Ja,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),s}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Ut(Qn),pr=oe({},Qn,{view:0,detail:0}),_d=Ut(pr),Eo,zr,Ci,Is=oe({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ci&&(Ci&&r.type==="mousemove"?(Eo=r.screenX-Ci.screenX,zr=r.screenY-Ci.screenY):zr=Eo=0,Ci=r),Eo)},movementY:function(r){return"movementY"in r?r.movementY:zr}}),To=Ut(Is),Za=oe({},Is,{dataTransfer:0}),Mu=Ut(Za),So=oe({},pr,{relatedTarget:0}),Io=Ut(So),Lu=oe({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Br=Ut(Lu),Vu=oe({},Qn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),bu=Ut(Vu),Fu=oe({},Qn,{data:0}),el=Ut(Fu),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Uu[r])?!!s[r]:!1}function mr(){return ju}var u=oe({},pr,{key:function(r){if(r.key){var s=ko[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=vo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(r){return r.type==="keypress"?vo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Ut(u),_=oe({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Ut(_),V=oe({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),B=Ut(V),te=oe({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Ut(te),kt=oe({},Is,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Ut(kt),Ot=[9,13,27,32],wt=f&&"CompositionEvent"in window,xn=null;f&&"documentMode"in document&&(xn=document.documentMode);var Tn=f&&"TextEvent"in window&&!xn,ks=f&&(!wt||xn&&8<xn&&11>=xn),Ro=" ",ig=!1;function sg(r,s){switch(r){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Po=!1;function f0(r,s){switch(r){case"compositionend":return og(s);case"keypress":return s.which!==32?null:(ig=!0,Ro);case"textInput":return r=s.data,r===Ro&&ig?null:r;default:return null}}function p0(r,s){if(Po)return r==="compositionend"||!wt&&sg(r,s)?(r=Xa(),un=_o=En=null,Po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ks&&s.locale!=="ko"?null:s.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!m0[r.type]:s==="textarea"}function lg(r,s,l,h){cr(h),s=Hu(s,"onChange"),0<s.length&&(l=new wo("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var tl=null,nl=null;function g0(r){Rg(r,0)}function zu(r){var s=xo(r);if(eo(s))return r}function y0(r,s){if(r==="change")return s}var ug=!1;if(f){var vd;if(f){var wd="oninput"in document;if(!wd){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),wd=typeof cg.oninput=="function"}vd=wd}else vd=!1;ug=vd&&(!document.documentMode||9<document.documentMode)}function hg(){tl&&(tl.detachEvent("onpropertychange",dg),nl=tl=null)}function dg(r){if(r.propertyName==="value"&&zu(nl)){var s=[];lg(s,nl,r,so(r)),Ba(g0,s)}}function _0(r,s,l){r==="focusin"?(hg(),tl=s,nl=l,tl.attachEvent("onpropertychange",dg)):r==="focusout"&&hg()}function v0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zu(nl)}function w0(r,s){if(r==="click")return zu(s)}function E0(r,s){if(r==="input"||r==="change")return zu(s)}function T0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Xn=typeof Object.is=="function"?Object.is:T0;function rl(r,s){if(Xn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var d=l[h];if(!p.call(s,d)||!Xn(r[d],s[d]))return!1}return!0}function fg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pg(r,s){var l=fg(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=fg(l)}}function mg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?mg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function gg(){for(var r=window,s=vi();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=vi(r.document)}return s}function Ed(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function S0(r){var s=gg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&mg(l.ownerDocument.documentElement,l)){if(h!==null&&Ed(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=l.textContent.length,g=Math.min(h.start,d);h=h.end===void 0?g:Math.min(h.end,d),!r.extend&&g>h&&(d=h,h=g,g=d),d=pg(l,g);var v=pg(l,h);d&&v&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var I0=f&&"documentMode"in document&&11>=document.documentMode,Ao=null,Td=null,il=null,Sd=!1;function yg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sd||Ao==null||Ao!==vi(h)||(h=Ao,"selectionStart"in h&&Ed(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),il&&rl(il,h)||(il=h,h=Hu(Td,"onSelect"),0<h.length&&(s=new wo("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=Ao)))}function Bu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Co={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},Id={},_g={};f&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Wu(r){if(Id[r])return Id[r];if(!Co[r])return r;var s=Co[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in _g)return Id[r]=s[l];return r}var vg=Wu("animationend"),wg=Wu("animationiteration"),Eg=Wu("animationstart"),Tg=Wu("transitionend"),Sg=new Map,Ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(r,s){Sg.set(r,s),a(s,[r])}for(var kd=0;kd<Ig.length;kd++){var Rd=Ig[kd],k0=Rd.toLowerCase(),R0=Rd[0].toUpperCase()+Rd.slice(1);Di(k0,"on"+R0)}Di(vg,"onAnimationEnd"),Di(wg,"onAnimationIteration"),Di(Eg,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Tg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P0=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function kg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,vu(h,s,void 0,r),r.currentTarget=null}function Rg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],d=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var v=h.length-1;0<=v;v--){var k=h[v],A=k.instance,z=k.currentTarget;if(k=k.listener,A!==g&&d.isPropagationStopped())break e;kg(d,k,z),g=A}else for(v=0;v<h.length;v++){if(k=h[v],A=k.instance,z=k.currentTarget,k=k.listener,A!==g&&d.isPropagationStopped())break e;kg(d,k,z),g=A}}}if(Wn)throw r=Wa,Wn=!1,Wa=null,r}function nt(r,s){var l=s[Md];l===void 0&&(l=s[Md]=new Set);var h=r+"__bubble";l.has(h)||(Pg(s,r,2,!1),l.add(h))}function Pd(r,s,l){var h=0;s&&(h|=4),Pg(l,r,h,s)}var $u="_reactListening"+Math.random().toString(36).slice(2);function ol(r){if(!r[$u]){r[$u]=!0,i.forEach(function(l){l!=="selectionchange"&&(P0.has(l)||Pd(l,!1,r),Pd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[$u]||(s[$u]=!0,Pd("selectionchange",!1,s))}}function Pg(r,s,l,h){switch(Qa(s)){case 1:var d=ot;break;case 4:d=yd;break;default:d=Ka}l=d.bind(null,s,l,r),d=void 0,!lo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,l,{capture:!0,passive:d}):r.addEventListener(s,l,!0):d!==void 0?r.addEventListener(s,l,{passive:d}):r.addEventListener(s,l,!1)}function Ad(r,s,l,h,d){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var v=h.tag;if(v===3||v===4){var k=h.stateNode.containerInfo;if(k===d||k.nodeType===8&&k.parentNode===d)break;if(v===4)for(v=h.return;v!==null;){var A=v.tag;if((A===3||A===4)&&(A=v.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;v=v.return}for(;k!==null;){if(v=Rs(k),v===null)return;if(A=v.tag,A===5||A===6){h=g=v;continue e}k=k.parentNode}}h=h.return}Ba(function(){var z=g,K=so(l),J=[];e:{var G=Sg.get(r);if(G!==void 0){var se=wo,ce=r;switch(r){case"keypress":if(vo(l)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ce="focus",se=Io;break;case"focusout":ce="blur",se=Io;break;case"beforeblur":case"afterblur":se=Io;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=B;break;case vg:case wg:case Eg:se=Br;break;case Tg:se=Ke;break;case"scroll":se=_d;break;case"wheel":se=Ue;break;case"copy":case"cut":case"paste":se=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var he=(s&4)!==0,yt=!he&&r==="scroll",b=he?G!==null?G+"Capture":null:G;he=[];for(var N=z,U;N!==null;){U=N;var ee=U.stateNode;if(U.tag===5&&ee!==null&&(U=ee,b!==null&&(ee=gt(N,b),ee!=null&&he.push(al(N,ee,U)))),yt)break;N=N.return}0<he.length&&(G=new se(G,ce,null,l,K),J.push({event:G,listeners:he}))}}if(!(s&7)){e:{if(G=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",G&&l!==fs&&(ce=l.relatedTarget||l.fromElement)&&(Rs(ce)||ce[Wr]))break e;if((se||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,se?(ce=l.relatedTarget||l.toElement,se=z,ce=ce?Rs(ce):null,ce!==null&&(yt=$n(ce),ce!==yt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=z),se!==ce)){if(he=To,ee="onMouseLeave",b="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(he=E,ee="onPointerLeave",b="onPointerEnter",N="pointer"),yt=se==null?G:xo(se),U=ce==null?G:xo(ce),G=new he(ee,N+"leave",se,l,K),G.target=yt,G.relatedTarget=U,ee=null,Rs(K)===z&&(he=new he(b,N+"enter",ce,l,K),he.target=U,he.relatedTarget=yt,ee=he),yt=ee,se&&ce)t:{for(he=se,b=ce,N=0,U=he;U;U=Do(U))N++;for(U=0,ee=b;ee;ee=Do(ee))U++;for(;0<N-U;)he=Do(he),N--;for(;0<U-N;)b=Do(b),U--;for(;N--;){if(he===b||b!==null&&he===b.alternate)break t;he=Do(he),b=Do(b)}he=null}else he=null;se!==null&&Ag(J,G,se,he,!1),ce!==null&&yt!==null&&Ag(J,yt,ce,he,!0)}}e:{if(G=z?xo(z):window,se=G.nodeName&&G.nodeName.toLowerCase(),se==="select"||se==="input"&&G.type==="file")var fe=y0;else if(ag(G))if(ug)fe=E0;else{fe=v0;var ve=_0}else(se=G.nodeName)&&se.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(fe=w0);if(fe&&(fe=fe(r,z))){lg(J,fe,l,K);break e}ve&&ve(r,G,z),r==="focusout"&&(ve=G._wrapperState)&&ve.controlled&&G.type==="number"&&no(G,"number",G.value)}switch(ve=z?xo(z):window,r){case"focusin":(ag(ve)||ve.contentEditable==="true")&&(Ao=ve,Td=z,il=null);break;case"focusout":il=Td=Ao=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,yg(J,l,K);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":yg(J,l,K)}var we;if(wt)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Po?sg(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(ks&&l.locale!=="ko"&&(Po||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Po&&(we=Xa()):(En=K,_o="value"in En?En.value:En.textContent,Po=!0)),ve=Hu(z,Te),0<ve.length&&(Te=new el(Te,r,null,l,K),J.push({event:Te,listeners:ve}),we?Te.data=we:(we=og(l),we!==null&&(Te.data=we)))),(we=Tn?f0(r,l):p0(r,l))&&(z=Hu(z,"onBeforeInput"),0<z.length&&(K=new el("onBeforeInput","beforeinput",null,l,K),J.push({event:K,listeners:z}),K.data=we))}Rg(J,s)})}function al(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Hu(r,s){for(var l=s+"Capture",h=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=gt(r,l),g!=null&&h.unshift(al(r,g,d)),g=gt(r,s),g!=null&&h.push(al(r,g,d))),r=r.return}return h}function Do(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ag(r,s,l,h,d){for(var g=s._reactName,v=[];l!==null&&l!==h;){var k=l,A=k.alternate,z=k.stateNode;if(A!==null&&A===h)break;k.tag===5&&z!==null&&(k=z,d?(A=gt(l,g),A!=null&&v.unshift(al(l,A,k))):d||(A=gt(l,g),A!=null&&v.push(al(l,A,k)))),l=l.return}v.length!==0&&r.push({event:s,listeners:v})}var A0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function Cg(r){return(typeof r=="string"?r:""+r).replace(A0,`
`).replace(C0,"")}function Yu(r,s,l){if(s=Cg(s),Cg(r)!==s&&l)throw Error(n(425))}function qu(){}var Cd=null,Dd=null;function Nd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xd=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,Dg=typeof Promise=="function"?Promise:void 0,N0=typeof queueMicrotask=="function"?queueMicrotask:typeof Dg<"u"?function(r){return Dg.resolve(null).then(r).catch(x0)}:xd;function x0(r){setTimeout(function(){throw r})}function Od(r,s){var l=s,h=0;do{var d=l.nextSibling;if(r.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(h===0){r.removeChild(d),Kn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=d}while(l);Kn(s)}function Ni(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Ng(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var No=Math.random().toString(36).slice(2),gr="__reactFiber$"+No,ll="__reactProps$"+No,Wr="__reactContainer$"+No,Md="__reactEvents$"+No,O0="__reactListeners$"+No,M0="__reactHandles$"+No;function Rs(r){var s=r[gr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Wr]||l[gr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Ng(r);r!==null;){if(l=r[gr])return l;r=Ng(r)}return s}r=l,l=r.parentNode}return null}function ul(r){return r=r[gr]||r[Wr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function xo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Gu(r){return r[ll]||null}var Ld=[],Oo=-1;function xi(r){return{current:r}}function rt(r){0>Oo||(r.current=Ld[Oo],Ld[Oo]=null,Oo--)}function tt(r,s){Oo++,Ld[Oo]=r.current,r.current=s}var Oi={},qt=xi(Oi),cn=xi(!1),Ps=Oi;function Mo(r,s){var l=r.type.contextTypes;if(!l)return Oi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in l)d[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function hn(r){return r=r.childContextTypes,r!=null}function Ku(){rt(cn),rt(qt)}function xg(r,s,l){if(qt.current!==Oi)throw Error(n(168));tt(qt,s),tt(cn,l)}function Og(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(n(108,Ye(r)||"Unknown",d));return oe({},l,h)}function Qu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Oi,Ps=qt.current,tt(qt,r),tt(cn,cn.current),!0}function Mg(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=Og(r,s,Ps),h.__reactInternalMemoizedMergedChildContext=r,rt(cn),rt(qt),tt(qt,r)):rt(cn),tt(cn,l)}var $r=null,Xu=!1,Vd=!1;function Lg(r){$r===null?$r=[r]:$r.push(r)}function L0(r){Xu=!0,Lg(r)}function Mi(){if(!Vd&&$r!==null){Vd=!0;var r=0,s=Ve;try{var l=$r;for(Ve=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}$r=null,Xu=!1}catch(d){throw $r!==null&&($r=$r.slice(r+1)),fo(_s,Mi),d}finally{Ve=s,Vd=!1}}return null}var Lo=[],Vo=0,Ju=null,Zu=0,On=[],Mn=0,As=null,Hr=1,Yr="";function Cs(r,s){Lo[Vo++]=Zu,Lo[Vo++]=Ju,Ju=r,Zu=s}function Vg(r,s,l){On[Mn++]=Hr,On[Mn++]=Yr,On[Mn++]=As,As=r;var h=Hr;r=Yr;var d=32-nn(h)-1;h&=~(1<<d),l+=1;var g=32-nn(s)+d;if(30<g){var v=d-d%5;g=(h&(1<<v)-1).toString(32),h>>=v,d-=v,Hr=1<<32-nn(s)+d|l<<d|h,Yr=g+r}else Hr=1<<g|l<<d|h,Yr=r}function bd(r){r.return!==null&&(Cs(r,1),Vg(r,1,0))}function Fd(r){for(;r===Ju;)Ju=Lo[--Vo],Lo[Vo]=null,Zu=Lo[--Vo],Lo[Vo]=null;for(;r===As;)As=On[--Mn],On[Mn]=null,Yr=On[--Mn],On[Mn]=null,Hr=On[--Mn],On[Mn]=null}var Sn=null,In=null,at=!1,Jn=null;function bg(r,s){var l=Fn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Fg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Sn=r,In=Ni(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Sn=r,In=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=As!==null?{id:Hr,overflow:Yr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Fn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Sn=r,In=null,!0):!1;default:return!1}}function Ud(r){return(r.mode&1)!==0&&(r.flags&128)===0}function jd(r){if(at){var s=In;if(s){var l=s;if(!Fg(r,s)){if(Ud(r))throw Error(n(418));s=Ni(l.nextSibling);var h=Sn;s&&Fg(r,s)?bg(h,l):(r.flags=r.flags&-4097|2,at=!1,Sn=r)}}else{if(Ud(r))throw Error(n(418));r.flags=r.flags&-4097|2,at=!1,Sn=r}}}function Ug(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Sn=r}function ec(r){if(r!==Sn)return!1;if(!at)return Ug(r),at=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Nd(r.type,r.memoizedProps)),s&&(s=In)){if(Ud(r))throw jg(),Error(n(418));for(;s;)bg(r,s),s=Ni(s.nextSibling)}if(Ug(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){In=Ni(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}In=null}}else In=Sn?Ni(r.stateNode.nextSibling):null;return!0}function jg(){for(var r=In;r;)r=Ni(r.nextSibling)}function bo(){In=Sn=null,at=!1}function zd(r){Jn===null?Jn=[r]:Jn.push(r)}var V0=pe.ReactCurrentBatchConfig;function cl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var d=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(v){var k=d.refs;v===null?delete k[g]:k[g]=v},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function tc(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function zg(r){var s=r._init;return s(r._payload)}function Bg(r){function s(b,N){if(r){var U=b.deletions;U===null?(b.deletions=[N],b.flags|=16):U.push(N)}}function l(b,N){if(!r)return null;for(;N!==null;)s(b,N),N=N.sibling;return null}function h(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function d(b,N){return b=Bi(b,N),b.index=0,b.sibling=null,b}function g(b,N,U){return b.index=U,r?(U=b.alternate,U!==null?(U=U.index,U<N?(b.flags|=2,N):U):(b.flags|=2,N)):(b.flags|=1048576,N)}function v(b){return r&&b.alternate===null&&(b.flags|=2),b}function k(b,N,U,ee){return N===null||N.tag!==6?(N=Of(U,b.mode,ee),N.return=b,N):(N=d(N,U),N.return=b,N)}function A(b,N,U,ee){var fe=U.type;return fe===D?K(b,N,U.props.children,ee,U.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Yt&&zg(fe)===N.type)?(ee=d(N,U.props),ee.ref=cl(b,N,U),ee.return=b,ee):(ee=kc(U.type,U.key,U.props,null,b.mode,ee),ee.ref=cl(b,N,U),ee.return=b,ee)}function z(b,N,U,ee){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Mf(U,b.mode,ee),N.return=b,N):(N=d(N,U.children||[]),N.return=b,N)}function K(b,N,U,ee,fe){return N===null||N.tag!==7?(N=bs(U,b.mode,ee,fe),N.return=b,N):(N=d(N,U),N.return=b,N)}function J(b,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Of(""+N,b.mode,U),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ce:return U=kc(N.type,N.key,N.props,null,b.mode,U),U.ref=cl(b,null,N),U.return=b,U;case Re:return N=Mf(N,b.mode,U),N.return=b,N;case Yt:var ee=N._init;return J(b,ee(N._payload),U)}if(Mr(N)||_e(N))return N=bs(N,b.mode,U,null),N.return=b,N;tc(b,N)}return null}function G(b,N,U,ee){var fe=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return fe!==null?null:k(b,N,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:return U.key===fe?A(b,N,U,ee):null;case Re:return U.key===fe?z(b,N,U,ee):null;case Yt:return fe=U._init,G(b,N,fe(U._payload),ee)}if(Mr(U)||_e(U))return fe!==null?null:K(b,N,U,ee,null);tc(b,U)}return null}function se(b,N,U,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return b=b.get(U)||null,k(N,b,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ce:return b=b.get(ee.key===null?U:ee.key)||null,A(N,b,ee,fe);case Re:return b=b.get(ee.key===null?U:ee.key)||null,z(N,b,ee,fe);case Yt:var ve=ee._init;return se(b,N,U,ve(ee._payload),fe)}if(Mr(ee)||_e(ee))return b=b.get(U)||null,K(N,b,ee,fe,null);tc(N,ee)}return null}function ce(b,N,U,ee){for(var fe=null,ve=null,we=N,Te=N=0,Vt=null;we!==null&&Te<U.length;Te++){we.index>Te?(Vt=we,we=null):Vt=we.sibling;var We=G(b,we,U[Te],ee);if(We===null){we===null&&(we=Vt);break}r&&we&&We.alternate===null&&s(b,we),N=g(We,N,Te),ve===null?fe=We:ve.sibling=We,ve=We,we=Vt}if(Te===U.length)return l(b,we),at&&Cs(b,Te),fe;if(we===null){for(;Te<U.length;Te++)we=J(b,U[Te],ee),we!==null&&(N=g(we,N,Te),ve===null?fe=we:ve.sibling=we,ve=we);return at&&Cs(b,Te),fe}for(we=h(b,we);Te<U.length;Te++)Vt=se(we,b,Te,U[Te],ee),Vt!==null&&(r&&Vt.alternate!==null&&we.delete(Vt.key===null?Te:Vt.key),N=g(Vt,N,Te),ve===null?fe=Vt:ve.sibling=Vt,ve=Vt);return r&&we.forEach(function(Wi){return s(b,Wi)}),at&&Cs(b,Te),fe}function he(b,N,U,ee){var fe=_e(U);if(typeof fe!="function")throw Error(n(150));if(U=fe.call(U),U==null)throw Error(n(151));for(var ve=fe=null,we=N,Te=N=0,Vt=null,We=U.next();we!==null&&!We.done;Te++,We=U.next()){we.index>Te?(Vt=we,we=null):Vt=we.sibling;var Wi=G(b,we,We.value,ee);if(Wi===null){we===null&&(we=Vt);break}r&&we&&Wi.alternate===null&&s(b,we),N=g(Wi,N,Te),ve===null?fe=Wi:ve.sibling=Wi,ve=Wi,we=Vt}if(We.done)return l(b,we),at&&Cs(b,Te),fe;if(we===null){for(;!We.done;Te++,We=U.next())We=J(b,We.value,ee),We!==null&&(N=g(We,N,Te),ve===null?fe=We:ve.sibling=We,ve=We);return at&&Cs(b,Te),fe}for(we=h(b,we);!We.done;Te++,We=U.next())We=se(we,b,Te,We.value,ee),We!==null&&(r&&We.alternate!==null&&we.delete(We.key===null?Te:We.key),N=g(We,N,Te),ve===null?fe=We:ve.sibling=We,ve=We);return r&&we.forEach(function(pS){return s(b,pS)}),at&&Cs(b,Te),fe}function yt(b,N,U,ee){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:e:{for(var fe=U.key,ve=N;ve!==null;){if(ve.key===fe){if(fe=U.type,fe===D){if(ve.tag===7){l(b,ve.sibling),N=d(ve,U.props.children),N.return=b,b=N;break e}}else if(ve.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Yt&&zg(fe)===ve.type){l(b,ve.sibling),N=d(ve,U.props),N.ref=cl(b,ve,U),N.return=b,b=N;break e}l(b,ve);break}else s(b,ve);ve=ve.sibling}U.type===D?(N=bs(U.props.children,b.mode,ee,U.key),N.return=b,b=N):(ee=kc(U.type,U.key,U.props,null,b.mode,ee),ee.ref=cl(b,N,U),ee.return=b,b=ee)}return v(b);case Re:e:{for(ve=U.key;N!==null;){if(N.key===ve)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){l(b,N.sibling),N=d(N,U.children||[]),N.return=b,b=N;break e}else{l(b,N);break}else s(b,N);N=N.sibling}N=Mf(U,b.mode,ee),N.return=b,b=N}return v(b);case Yt:return ve=U._init,yt(b,N,ve(U._payload),ee)}if(Mr(U))return ce(b,N,U,ee);if(_e(U))return he(b,N,U,ee);tc(b,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(l(b,N.sibling),N=d(N,U),N.return=b,b=N):(l(b,N),N=Of(U,b.mode,ee),N.return=b,b=N),v(b)):l(b,N)}return yt}var Fo=Bg(!0),Wg=Bg(!1),nc=xi(null),rc=null,Uo=null,Bd=null;function Wd(){Bd=Uo=rc=null}function $d(r){var s=nc.current;rt(nc),r._currentValue=s}function Hd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function jo(r,s){rc=r,Bd=Uo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(dn=!0),r.firstContext=null)}function Ln(r){var s=r._currentValue;if(Bd!==r)if(r={context:r,memoizedValue:s,next:null},Uo===null){if(rc===null)throw Error(n(308));Uo=r,rc.dependencies={lanes:0,firstContext:r}}else Uo=Uo.next=r;return s}var Ds=null;function Yd(r){Ds===null?Ds=[r]:Ds.push(r)}function $g(r,s,l,h){var d=s.interleaved;return d===null?(l.next=l,Yd(s)):(l.next=d.next,d.next=l),s.interleaved=l,qr(r,h)}function qr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Li=!1;function qd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Gr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Vi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Be&2){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,qr(r,l)}return d=h.interleaved,d===null?(s.next=s,Yd(h)):(s.next=d.next,d.next=s),h.interleaved=s,qr(r,l)}function ic(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,ki(r,l)}}function Yg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var d=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var v={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?d=g=v:g=g.next=v,l=l.next}while(l!==null);g===null?d=g=s:g=g.next=s}else d=g=s;l={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function sc(r,s,l,h){var d=r.updateQueue;Li=!1;var g=d.firstBaseUpdate,v=d.lastBaseUpdate,k=d.shared.pending;if(k!==null){d.shared.pending=null;var A=k,z=A.next;A.next=null,v===null?g=z:v.next=z,v=A;var K=r.alternate;K!==null&&(K=K.updateQueue,k=K.lastBaseUpdate,k!==v&&(k===null?K.firstBaseUpdate=z:k.next=z,K.lastBaseUpdate=A))}if(g!==null){var J=d.baseState;v=0,K=z=A=null,k=g;do{var G=k.lane,se=k.eventTime;if((h&G)===G){K!==null&&(K=K.next={eventTime:se,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ce=r,he=k;switch(G=s,se=l,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){J=ce.call(se,J,G);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,G=typeof ce=="function"?ce.call(se,J,G):ce,G==null)break e;J=oe({},J,G);break e;case 2:Li=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,G=d.effects,G===null?d.effects=[k]:G.push(k))}else se={eventTime:se,lane:G,tag:k.tag,payload:k.payload,callback:k.callback,next:null},K===null?(z=K=se,A=J):K=K.next=se,v|=G;if(k=k.next,k===null){if(k=d.shared.pending,k===null)break;G=k,k=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(K===null&&(A=J),d.baseState=A,d.firstBaseUpdate=z,d.lastBaseUpdate=K,s=d.shared.interleaved,s!==null){d=s;do v|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);Os|=v,r.lanes=v,r.memoizedState=J}}function qg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=l,typeof d!="function")throw Error(n(191,d));d.call(h)}}}var hl={},yr=xi(hl),dl=xi(hl),fl=xi(hl);function Ns(r){if(r===hl)throw Error(n(174));return r}function Gd(r,s){switch(tt(fl,s),tt(dl,r),tt(yr,hl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:It(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=It(s,r)}rt(yr),tt(yr,s)}function zo(){rt(yr),rt(dl),rt(fl)}function Gg(r){Ns(fl.current);var s=Ns(yr.current),l=It(s,r.type);s!==l&&(tt(dl,r),tt(yr,l))}function Kd(r){dl.current===r&&(rt(yr),rt(dl))}var ct=xi(0);function oc(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qd=[];function Xd(){for(var r=0;r<Qd.length;r++)Qd[r]._workInProgressVersionPrimary=null;Qd.length=0}var ac=pe.ReactCurrentDispatcher,Jd=pe.ReactCurrentBatchConfig,xs=0,ht=null,Rt=null,Mt=null,lc=!1,pl=!1,ml=0,b0=0;function Gt(){throw Error(n(321))}function Zd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Xn(r[l],s[l]))return!1;return!0}function ef(r,s,l,h,d,g){if(xs=g,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ac.current=r===null||r.memoizedState===null?z0:B0,r=l(h,d),pl){g=0;do{if(pl=!1,ml=0,25<=g)throw Error(n(301));g+=1,Mt=Rt=null,s.updateQueue=null,ac.current=W0,r=l(h,d)}while(pl)}if(ac.current=hc,s=Rt!==null&&Rt.next!==null,xs=0,Mt=Rt=ht=null,lc=!1,s)throw Error(n(300));return r}function tf(){var r=ml!==0;return ml=0,r}function _r(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ht.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function Vn(){if(Rt===null){var r=ht.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var s=Mt===null?ht.memoizedState:Mt.next;if(s!==null)Mt=s,Rt=r;else{if(r===null)throw Error(n(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Mt===null?ht.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function gl(r,s){return typeof s=="function"?s(r):s}function nf(r){var s=Vn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=Rt,d=h.baseQueue,g=l.pending;if(g!==null){if(d!==null){var v=d.next;d.next=g.next,g.next=v}h.baseQueue=d=g,l.pending=null}if(d!==null){g=d.next,h=h.baseState;var k=v=null,A=null,z=g;do{var K=z.lane;if((xs&K)===K)A!==null&&(A=A.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var J={lane:K,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};A===null?(k=A=J,v=h):A=A.next=J,ht.lanes|=K,Os|=K}z=z.next}while(z!==null&&z!==g);A===null?v=h:A.next=k,Xn(h,s.memoizedState)||(dn=!0),s.memoizedState=h,s.baseState=v,s.baseQueue=A,l.lastRenderedState=h}if(r=l.interleaved,r!==null){d=r;do g=d.lane,ht.lanes|=g,Os|=g,d=d.next;while(d!==r)}else d===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function rf(r){var s=Vn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,d=l.pending,g=s.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do g=r(g,v.action),v=v.next;while(v!==d);Xn(g,s.memoizedState)||(dn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function Kg(){}function Qg(r,s){var l=ht,h=Vn(),d=s(),g=!Xn(h.memoizedState,d);if(g&&(h.memoizedState=d,dn=!0),h=h.queue,sf(Zg.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,yl(9,Jg.bind(null,l,h,d,s),void 0,null),Lt===null)throw Error(n(349));xs&30||Xg(l,s,d)}return d}function Xg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Jg(r,s,l,h){s.value=l,s.getSnapshot=h,ey(s)&&ty(r)}function Zg(r,s,l){return l(function(){ey(s)&&ty(r)})}function ey(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Xn(r,l)}catch{return!0}}function ty(r){var s=qr(r,1);s!==null&&nr(s,r,1,-1)}function ny(r){var s=_r();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:r},s.queue=r,r=r.dispatch=j0.bind(null,ht,r),[s.memoizedState,r]}function yl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ht.updateQueue,s===null?(s={lastEffect:null,stores:null},ht.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function ry(){return Vn().memoizedState}function uc(r,s,l,h){var d=_r();ht.flags|=r,d.memoizedState=yl(1|s,l,void 0,h===void 0?null:h)}function cc(r,s,l,h){var d=Vn();h=h===void 0?null:h;var g=void 0;if(Rt!==null){var v=Rt.memoizedState;if(g=v.destroy,h!==null&&Zd(h,v.deps)){d.memoizedState=yl(s,l,g,h);return}}ht.flags|=r,d.memoizedState=yl(1|s,l,g,h)}function iy(r,s){return uc(8390656,8,r,s)}function sf(r,s){return cc(2048,8,r,s)}function sy(r,s){return cc(4,2,r,s)}function oy(r,s){return cc(4,4,r,s)}function ay(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ly(r,s,l){return l=l!=null?l.concat([r]):null,cc(4,4,ay.bind(null,s,r),l)}function of(){}function uy(r,s){var l=Vn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Zd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function cy(r,s){var l=Vn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Zd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function hy(r,s,l){return xs&21?(Xn(l,s)||(l=Es(),ht.lanes|=l,Os|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,dn=!0),r.memoizedState=l)}function F0(r,s){var l=Ve;Ve=l!==0&&4>l?l:4,r(!0);var h=Jd.transition;Jd.transition={};try{r(!1),s()}finally{Ve=l,Jd.transition=h}}function dy(){return Vn().memoizedState}function U0(r,s,l){var h=ji(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},fy(r))py(s,l);else if(l=$g(r,s,l,h),l!==null){var d=on();nr(l,r,h,d),my(l,s,h)}}function j0(r,s,l){var h=ji(r),d={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(fy(r))py(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var v=s.lastRenderedState,k=g(v,l);if(d.hasEagerState=!0,d.eagerState=k,Xn(k,v)){var A=s.interleaved;A===null?(d.next=d,Yd(s)):(d.next=A.next,A.next=d),s.interleaved=d;return}}catch{}finally{}l=$g(r,s,d,h),l!==null&&(d=on(),nr(l,r,h,d),my(l,s,h))}}function fy(r){var s=r.alternate;return r===ht||s!==null&&s===ht}function py(r,s){pl=lc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function my(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,ki(r,l)}}var hc={readContext:Ln,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},z0={readContext:Ln,useCallback:function(r,s){return _r().memoizedState=[r,s===void 0?null:s],r},useContext:Ln,useEffect:iy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,uc(4194308,4,ay.bind(null,s,r),l)},useLayoutEffect:function(r,s){return uc(4194308,4,r,s)},useInsertionEffect:function(r,s){return uc(4,2,r,s)},useMemo:function(r,s){var l=_r();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=_r();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=U0.bind(null,ht,r),[h.memoizedState,r]},useRef:function(r){var s=_r();return r={current:r},s.memoizedState=r},useState:ny,useDebugValue:of,useDeferredValue:function(r){return _r().memoizedState=r},useTransition:function(){var r=ny(!1),s=r[0];return r=F0.bind(null,r[1]),_r().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ht,d=_r();if(at){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Lt===null)throw Error(n(349));xs&30||Xg(h,s,l)}d.memoizedState=l;var g={value:l,getSnapshot:s};return d.queue=g,iy(Zg.bind(null,h,g,r),[r]),h.flags|=2048,yl(9,Jg.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=_r(),s=Lt.identifierPrefix;if(at){var l=Yr,h=Hr;l=(h&~(1<<32-nn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=ml++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=b0++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},B0={readContext:Ln,useCallback:uy,useContext:Ln,useEffect:sf,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:oy,useMemo:cy,useReducer:nf,useRef:ry,useState:function(){return nf(gl)},useDebugValue:of,useDeferredValue:function(r){var s=Vn();return hy(s,Rt.memoizedState,r)},useTransition:function(){var r=nf(gl)[0],s=Vn().memoizedState;return[r,s]},useMutableSource:Kg,useSyncExternalStore:Qg,useId:dy,unstable_isNewReconciler:!1},W0={readContext:Ln,useCallback:uy,useContext:Ln,useEffect:sf,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:oy,useMemo:cy,useReducer:rf,useRef:ry,useState:function(){return rf(gl)},useDebugValue:of,useDeferredValue:function(r){var s=Vn();return Rt===null?s.memoizedState=r:hy(s,Rt.memoizedState,r)},useTransition:function(){var r=rf(gl)[0],s=Vn().memoizedState;return[r,s]},useMutableSource:Kg,useSyncExternalStore:Qg,useId:dy,unstable_isNewReconciler:!1};function Zn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function af(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var dc={isMounted:function(r){return(r=r._reactInternals)?$n(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=on(),d=ji(r),g=Gr(h,d);g.payload=s,l!=null&&(g.callback=l),s=Vi(r,g,d),s!==null&&(nr(s,r,d,h),ic(s,r,d))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=on(),d=ji(r),g=Gr(h,d);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Vi(r,g,d),s!==null&&(nr(s,r,d,h),ic(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=on(),h=ji(r),d=Gr(l,h);d.tag=2,s!=null&&(d.callback=s),s=Vi(r,d,h),s!==null&&(nr(s,r,h,l),ic(s,r,h))}};function gy(r,s,l,h,d,g,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,v):s.prototype&&s.prototype.isPureReactComponent?!rl(l,h)||!rl(d,g):!0}function yy(r,s,l){var h=!1,d=Oi,g=s.contextType;return typeof g=="object"&&g!==null?g=Ln(g):(d=hn(s)?Ps:qt.current,h=s.contextTypes,g=(h=h!=null)?Mo(r,d):Oi),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=dc,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function _y(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&dc.enqueueReplaceState(s,s.state,null)}function lf(r,s,l,h){var d=r.stateNode;d.props=l,d.state=r.memoizedState,d.refs={},qd(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=Ln(g):(g=hn(s)?Ps:qt.current,d.context=Mo(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(af(r,s,g,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&dc.enqueueReplaceState(d,d.state,null),sc(r,l,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Bo(r,s){try{var l="",h=s;do l+=Ne(h),h=h.return;while(h);var d=l}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function uf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function cf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var $0=typeof WeakMap=="function"?WeakMap:Map;function vy(r,s,l){l=Gr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){vc||(vc=!0,kf=h),cf(r,s)},l}function wy(r,s,l){l=Gr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;l.payload=function(){return h(d)},l.callback=function(){cf(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){cf(r,s),typeof h!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),l}function Ey(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new $0;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(l)||(d.add(l),r=iS.bind(null,r,s,l),s.then(r,r))}function Ty(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Sy(r,s,l,h,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Gr(-1,1),s.tag=2,Vi(l,s,1))),l.lanes|=1),r)}var H0=pe.ReactCurrentOwner,dn=!1;function sn(r,s,l,h){s.child=r===null?Wg(s,null,l,h):Fo(s,r.child,l,h)}function Iy(r,s,l,h,d){l=l.render;var g=s.ref;return jo(s,d),h=ef(r,s,l,h,g,d),l=tf(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Kr(r,s,d)):(at&&l&&bd(s),s.flags|=1,sn(r,s,h,d),s.child)}function ky(r,s,l,h,d){if(r===null){var g=l.type;return typeof g=="function"&&!xf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Ry(r,s,g,h,d)):(r=kc(l.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&d)){var v=g.memoizedProps;if(l=l.compare,l=l!==null?l:rl,l(v,h)&&r.ref===s.ref)return Kr(r,s,d)}return s.flags|=1,r=Bi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Ry(r,s,l,h,d){if(r!==null){var g=r.memoizedProps;if(rl(g,h)&&r.ref===s.ref)if(dn=!1,s.pendingProps=h=g,(r.lanes&d)!==0)r.flags&131072&&(dn=!0);else return s.lanes=r.lanes,Kr(r,s,d)}return hf(r,s,l,h,d)}function Py(r,s,l){var h=s.pendingProps,d=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt($o,kn),kn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,tt($o,kn),kn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,tt($o,kn),kn|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,tt($o,kn),kn|=h;return sn(r,s,d,l),s.child}function Ay(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function hf(r,s,l,h,d){var g=hn(l)?Ps:qt.current;return g=Mo(s,g),jo(s,d),l=ef(r,s,l,h,g,d),h=tf(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Kr(r,s,d)):(at&&h&&bd(s),s.flags|=1,sn(r,s,l,d),s.child)}function Cy(r,s,l,h,d){if(hn(l)){var g=!0;Qu(s)}else g=!1;if(jo(s,d),s.stateNode===null)pc(r,s),yy(s,l,h),lf(s,l,h,d),h=!0;else if(r===null){var v=s.stateNode,k=s.memoizedProps;v.props=k;var A=v.context,z=l.contextType;typeof z=="object"&&z!==null?z=Ln(z):(z=hn(l)?Ps:qt.current,z=Mo(s,z));var K=l.getDerivedStateFromProps,J=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function";J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==h||A!==z)&&_y(s,v,h,z),Li=!1;var G=s.memoizedState;v.state=G,sc(s,h,v,d),A=s.memoizedState,k!==h||G!==A||cn.current||Li?(typeof K=="function"&&(af(s,l,K,h),A=s.memoizedState),(k=Li||gy(s,l,k,h,G,A,z))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=A),v.props=h,v.state=A,v.context=z,h=k):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{v=s.stateNode,Hg(r,s),k=s.memoizedProps,z=s.type===s.elementType?k:Zn(s.type,k),v.props=z,J=s.pendingProps,G=v.context,A=l.contextType,typeof A=="object"&&A!==null?A=Ln(A):(A=hn(l)?Ps:qt.current,A=Mo(s,A));var se=l.getDerivedStateFromProps;(K=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==J||G!==A)&&_y(s,v,h,A),Li=!1,G=s.memoizedState,v.state=G,sc(s,h,v,d);var ce=s.memoizedState;k!==J||G!==ce||cn.current||Li?(typeof se=="function"&&(af(s,l,se,h),ce=s.memoizedState),(z=Li||gy(s,l,z,h,G,ce,A)||!1)?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,ce,A),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,ce,A)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||k===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ce),v.props=h,v.state=ce,v.context=A,h=z):(typeof v.componentDidUpdate!="function"||k===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),h=!1)}return df(r,s,l,h,g,d)}function df(r,s,l,h,d,g){Ay(r,s);var v=(s.flags&128)!==0;if(!h&&!v)return d&&Mg(s,l,!1),Kr(r,s,g);h=s.stateNode,H0.current=s;var k=v&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&v?(s.child=Fo(s,r.child,null,g),s.child=Fo(s,null,k,g)):sn(r,s,k,g),s.memoizedState=h.state,d&&Mg(s,l,!0),s.child}function Dy(r){var s=r.stateNode;s.pendingContext?xg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&xg(r,s.context,!1),Gd(r,s.containerInfo)}function Ny(r,s,l,h,d){return bo(),zd(d),s.flags|=256,sn(r,s,l,h),s.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function pf(r){return{baseLanes:r,cachePool:null,transitions:null}}function xy(r,s,l){var h=s.pendingProps,d=ct.current,g=!1,v=(s.flags&128)!==0,k;if((k=v)||(k=r!==null&&r.memoizedState===null?!1:(d&2)!==0),k?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),tt(ct,d&1),r===null)return jd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(v=h.children,r=h.fallback,g?(h=s.mode,g=s.child,v={mode:"hidden",children:v},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=v):g=Rc(v,h,0,null),r=bs(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=pf(l),s.memoizedState=ff,r):mf(s,v));if(d=r.memoizedState,d!==null&&(k=d.dehydrated,k!==null))return Y0(r,s,v,h,k,d,l);if(g){g=h.fallback,v=s.mode,d=r.child,k=d.sibling;var A={mode:"hidden",children:h.children};return!(v&1)&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=A,s.deletions=null):(h=Bi(d,A),h.subtreeFlags=d.subtreeFlags&14680064),k!==null?g=Bi(k,g):(g=bs(g,v,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,v=r.child.memoizedState,v=v===null?pf(l):{baseLanes:v.baseLanes|l,cachePool:null,transitions:v.transitions},g.memoizedState=v,g.childLanes=r.childLanes&~l,s.memoizedState=ff,h}return g=r.child,r=g.sibling,h=Bi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function mf(r,s){return s=Rc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function fc(r,s,l,h){return h!==null&&zd(h),Fo(s,r.child,null,l),r=mf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Y0(r,s,l,h,d,g,v){if(l)return s.flags&256?(s.flags&=-257,h=uf(Error(n(422))),fc(r,s,v,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,d=s.mode,h=Rc({mode:"visible",children:h.children},d,0,null),g=bs(g,d,v,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Fo(s,r.child,null,v),s.child.memoizedState=pf(v),s.memoizedState=ff,g);if(!(s.mode&1))return fc(r,s,v,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var k=h.dgst;return h=k,g=Error(n(419)),h=uf(g,h,void 0),fc(r,s,v,h)}if(k=(v&r.childLanes)!==0,dn||k){if(h=Lt,h!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(h.suspendedLanes|v)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,qr(r,d),nr(h,r,d,-1))}return Nf(),h=uf(Error(n(421))),fc(r,s,v,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=sS.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,In=Ni(d.nextSibling),Sn=s,at=!0,Jn=null,r!==null&&(On[Mn++]=Hr,On[Mn++]=Yr,On[Mn++]=As,Hr=r.id,Yr=r.overflow,As=s),s=mf(s,h.children),s.flags|=4096,s)}function Oy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Hd(r.return,s,l)}function gf(r,s,l,h,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=d)}function My(r,s,l){var h=s.pendingProps,d=h.revealOrder,g=h.tail;if(sn(r,s,h.children,l),h=ct.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Oy(r,l,s);else if(r.tag===19)Oy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(tt(ct,h),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(l=s.child,d=null;l!==null;)r=l.alternate,r!==null&&oc(r)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),gf(s,!1,d,l,g);break;case"backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&oc(r)===null){s.child=d;break}r=d.sibling,d.sibling=l,l=d,d=r}gf(s,!0,l,null,g);break;case"together":gf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pc(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Kr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Os|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Bi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Bi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function q0(r,s,l){switch(s.tag){case 3:Dy(s),bo();break;case 5:Gg(s);break;case 1:hn(s.type)&&Qu(s);break;case 4:Gd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;tt(nc,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(tt(ct,ct.current&1),s.flags|=128,null):l&s.child.childLanes?xy(r,s,l):(tt(ct,ct.current&1),r=Kr(r,s,l),r!==null?r.sibling:null);tt(ct,ct.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return My(r,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),tt(ct,ct.current),h)break;return null;case 22:case 23:return s.lanes=0,Py(r,s,l)}return Kr(r,s,l)}var Ly,yf,Vy,by;Ly=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},yf=function(){},Vy=function(r,s,l,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Ns(yr.current);var g=null;switch(l){case"input":d=cs(r,d),h=cs(r,h),g=[];break;case"select":d=oe({},d,{value:void 0}),h=oe({},h,{value:void 0}),g=[];break;case"textarea":d=xa(r,d),h=xa(r,h),g=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=qu)}Fa(l,h);var v;l=null;for(z in d)if(!h.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var k=d[z];for(v in k)k.hasOwnProperty(v)&&(l||(l={}),l[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var A=h[z];if(k=d!=null?d[z]:void 0,h.hasOwnProperty(z)&&A!==k&&(A!=null||k!=null))if(z==="style")if(k){for(v in k)!k.hasOwnProperty(v)||A&&A.hasOwnProperty(v)||(l||(l={}),l[v]="");for(v in A)A.hasOwnProperty(v)&&k[v]!==A[v]&&(l||(l={}),l[v]=A[v])}else l||(g||(g=[]),g.push(z,l)),l=A;else z==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,k=k?k.__html:void 0,A!=null&&k!==A&&(g=g||[]).push(z,A)):z==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push(z,""+A):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(A!=null&&z==="onScroll"&&nt("scroll",r),g||k===A||(g=[])):(g=g||[]).push(z,A))}l&&(g=g||[]).push("style",l);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},by=function(r,s,l,h){l!==h&&(s.flags|=4)};function _l(r,s){if(!at)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Kt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var d=r.child;d!==null;)l|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)l|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function G0(r,s,l){var h=s.pendingProps;switch(Fd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return hn(s.type)&&Ku(),Kt(s),null;case 3:return h=s.stateNode,zo(),rt(cn),rt(qt),Xd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ec(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Jn!==null&&(Af(Jn),Jn=null))),yf(r,s),Kt(s),null;case 5:Kd(s);var d=Ns(fl.current);if(l=s.type,r!==null&&s.stateNode!=null)Vy(r,s,l,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Kt(s),null}if(r=Ns(yr.current),ec(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[gr]=s,h[ll]=g,r=(s.mode&1)!==0,l){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(d=0;d<sl.length;d++)nt(sl[d],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":to(h,g),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},nt("invalid",h);break;case"textarea":ro(h,g),nt("invalid",h)}Fa(l,g),d=null;for(var v in g)if(g.hasOwnProperty(v)){var k=g[v];v==="children"?typeof k=="string"?h.textContent!==k&&(g.suppressHydrationWarning!==!0&&Yu(h.textContent,k,r),d=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&Yu(h.textContent,k,r),d=["children",""+k]):o.hasOwnProperty(v)&&k!=null&&v==="onScroll"&&nt("scroll",h)}switch(l){case"input":Or(h),_u(h,g,!0);break;case"textarea":Or(h),Oa(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=qu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=St(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=v.createElement(l,{is:h.is}):(r=v.createElement(l),l==="select"&&(v=r,h.multiple?v.multiple=!0:h.size&&(v.size=h.size))):r=v.createElementNS(r,l),r[gr]=s,r[ll]=h,Ly(r,s,!1,!1),s.stateNode=r;e:{switch(v=Ua(l,h),l){case"dialog":nt("cancel",r),nt("close",r),d=h;break;case"iframe":case"object":case"embed":nt("load",r),d=h;break;case"video":case"audio":for(d=0;d<sl.length;d++)nt(sl[d],r);d=h;break;case"source":nt("error",r),d=h;break;case"img":case"image":case"link":nt("error",r),nt("load",r),d=h;break;case"details":nt("toggle",r),d=h;break;case"input":to(r,h),d=cs(r,h),nt("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=oe({},h,{value:void 0}),nt("invalid",r);break;case"textarea":ro(r,h),d=xa(r,h),nt("invalid",r);break;default:d=h}Fa(l,d),k=d;for(g in k)if(k.hasOwnProperty(g)){var A=k[g];g==="style"?Va(r,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Ma(r,A)):g==="children"?typeof A=="string"?(l!=="textarea"||A!=="")&&wi(r,A):typeof A=="number"&&wi(r,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?A!=null&&g==="onScroll"&&nt("scroll",r):A!=null&&re(r,g,A,v))}switch(l){case"input":Or(r),_u(r,h,!1);break;case"textarea":Or(r),Oa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+qe(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Lr(r,!!h.multiple,g,!1):h.defaultValue!=null&&Lr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=qu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Kt(s),null;case 6:if(r&&s.stateNode!=null)by(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=Ns(fl.current),Ns(yr.current),ec(s)){if(h=s.stateNode,l=s.memoizedProps,h[gr]=s,(g=h.nodeValue!==l)&&(r=Sn,r!==null))switch(r.tag){case 3:Yu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Yu(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[gr]=s,s.stateNode=h}return Kt(s),null;case 13:if(rt(ct),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(at&&In!==null&&s.mode&1&&!(s.flags&128))jg(),bo(),s.flags|=98560,g=!1;else if(g=ec(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[gr]=s}else bo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Kt(s),g=!1}else Jn!==null&&(Af(Jn),Jn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||ct.current&1?Pt===0&&(Pt=3):Nf())),s.updateQueue!==null&&(s.flags|=4),Kt(s),null);case 4:return zo(),yf(r,s),r===null&&ol(s.stateNode.containerInfo),Kt(s),null;case 10:return $d(s.type._context),Kt(s),null;case 17:return hn(s.type)&&Ku(),Kt(s),null;case 19:if(rt(ct),g=s.memoizedState,g===null)return Kt(s),null;if(h=(s.flags&128)!==0,v=g.rendering,v===null)if(h)_l(g,!1);else{if(Pt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(v=oc(r),v!==null){for(s.flags|=128,_l(g,!1),h=v.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,v=g.alternate,v===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=v.childLanes,g.lanes=v.lanes,g.child=v.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=v.memoizedProps,g.memoizedState=v.memoizedState,g.updateQueue=v.updateQueue,g.type=v.type,r=v.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return tt(ct,ct.current&1|2),s.child}r=r.sibling}g.tail!==null&&et()>Ho&&(s.flags|=128,h=!0,_l(g,!1),s.lanes=4194304)}else{if(!h)if(r=oc(v),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),_l(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!at)return Kt(s),null}else 2*et()-g.renderingStartTime>Ho&&l!==1073741824&&(s.flags|=128,h=!0,_l(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(l=g.last,l!==null?l.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=et(),s.sibling=null,l=ct.current,tt(ct,h?l&1|2:l&1),s):(Kt(s),null);case 22:case 23:return Df(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?kn&1073741824&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function K0(r,s){switch(Fd(s),s.tag){case 1:return hn(s.type)&&Ku(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return zo(),rt(cn),rt(qt),Xd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Kd(s),null;case 13:if(rt(ct),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));bo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return rt(ct),null;case 4:return zo(),null;case 10:return $d(s.type._context),null;case 22:case 23:return Df(),null;case 24:return null;default:return null}}var mc=!1,Qt=!1,Q0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Wo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){pt(r,s,h)}else l.current=null}function _f(r,s,l){try{l()}catch(h){pt(r,s,h)}}var Fy=!1;function X0(r,s){if(Cd=Ai,r=gg(),Ed(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var d=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var v=0,k=-1,A=-1,z=0,K=0,J=r,G=null;t:for(;;){for(var se;J!==l||d!==0&&J.nodeType!==3||(k=v+d),J!==g||h!==0&&J.nodeType!==3||(A=v+h),J.nodeType===3&&(v+=J.nodeValue.length),(se=J.firstChild)!==null;)G=J,J=se;for(;;){if(J===r)break t;if(G===l&&++z===d&&(k=v),G===g&&++K===h&&(A=v),(se=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=se}l=k===-1||A===-1?null:{start:k,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Dd={focusedElem:r,selectionRange:l},Ai=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,yt=ce.memoizedState,b=s.stateNode,N=b.getSnapshotBeforeUpdate(s.elementType===s.type?he:Zn(s.type,he),yt);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){pt(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return ce=Fy,Fy=!1,ce}function vl(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&_f(s,l,g)}d=d.next}while(d!==h)}}function gc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function vf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Uy(r){var s=r.alternate;s!==null&&(r.alternate=null,Uy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[gr],delete s[ll],delete s[Md],delete s[O0],delete s[M0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function jy(r){return r.tag===5||r.tag===3||r.tag===4}function zy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=qu));else if(h!==4&&(r=r.child,r!==null))for(wf(r,s,l),r=r.sibling;r!==null;)wf(r,s,l),r=r.sibling}function Ef(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Ef(r,s,l),r=r.sibling;r!==null;)Ef(r,s,l),r=r.sibling}var jt=null,er=!1;function bi(r,s,l){for(l=l.child;l!==null;)By(r,s,l),l=l.sibling}function By(r,s,l){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(vs,l)}catch{}switch(l.tag){case 5:Qt||Wo(l,s);case 6:var h=jt,d=er;jt=null,bi(r,s,l),jt=h,er=d,jt!==null&&(er?(r=jt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):jt.removeChild(l.stateNode));break;case 18:jt!==null&&(er?(r=jt,l=l.stateNode,r.nodeType===8?Od(r.parentNode,l):r.nodeType===1&&Od(r,l),Kn(r)):Od(jt,l.stateNode));break;case 4:h=jt,d=er,jt=l.stateNode.containerInfo,er=!0,bi(r,s,l),jt=h,er=d;break;case 0:case 11:case 14:case 15:if(!Qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var g=d,v=g.destroy;g=g.tag,v!==void 0&&(g&2||g&4)&&_f(l,s,v),d=d.next}while(d!==h)}bi(r,s,l);break;case 1:if(!Qt&&(Wo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){pt(l,s,k)}bi(r,s,l);break;case 21:bi(r,s,l);break;case 22:l.mode&1?(Qt=(h=Qt)||l.memoizedState!==null,bi(r,s,l),Qt=h):bi(r,s,l);break;default:bi(r,s,l)}}function Wy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Q0),s.forEach(function(h){var d=oS.bind(null,r,h);l.has(h)||(l.add(h),h.then(d,d))})}}function tr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];try{var g=r,v=s,k=v;e:for(;k!==null;){switch(k.tag){case 5:jt=k.stateNode,er=!1;break e;case 3:jt=k.stateNode.containerInfo,er=!0;break e;case 4:jt=k.stateNode.containerInfo,er=!0;break e}k=k.return}if(jt===null)throw Error(n(160));By(g,v,d),jt=null,er=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(z){pt(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)$y(s,r),s=s.sibling}function $y(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(tr(s,r),vr(r),h&4){try{vl(3,r,r.return),gc(3,r)}catch(he){pt(r,r.return,he)}try{vl(5,r,r.return)}catch(he){pt(r,r.return,he)}}break;case 1:tr(s,r),vr(r),h&512&&l!==null&&Wo(l,l.return);break;case 5:if(tr(s,r),vr(r),h&512&&l!==null&&Wo(l,l.return),r.flags&32){var d=r.stateNode;try{wi(d,"")}catch(he){pt(r,r.return,he)}}if(h&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,v=l!==null?l.memoizedProps:g,k=r.type,A=r.updateQueue;if(r.updateQueue=null,A!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&Da(d,g),Ua(k,v);var z=Ua(k,g);for(v=0;v<A.length;v+=2){var K=A[v],J=A[v+1];K==="style"?Va(d,J):K==="dangerouslySetInnerHTML"?Ma(d,J):K==="children"?wi(d,J):re(d,K,J,z)}switch(k){case"input":Na(d,g);break;case"textarea":io(d,g);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?Lr(d,!!g.multiple,se,!1):G!==!!g.multiple&&(g.defaultValue!=null?Lr(d,!!g.multiple,g.defaultValue,!0):Lr(d,!!g.multiple,g.multiple?[]:"",!1))}d[ll]=g}catch(he){pt(r,r.return,he)}}break;case 6:if(tr(s,r),vr(r),h&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(he){pt(r,r.return,he)}}break;case 3:if(tr(s,r),vr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Kn(s.containerInfo)}catch(he){pt(r,r.return,he)}break;case 4:tr(s,r),vr(r);break;case 13:tr(s,r),vr(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(If=et())),h&4&&Wy(r);break;case 22:if(K=l!==null&&l.memoizedState!==null,r.mode&1?(Qt=(z=Qt)||K,tr(s,r),Qt=z):tr(s,r),vr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!K&&r.mode&1)for(ue=r,K=r.child;K!==null;){for(J=ue=K;ue!==null;){switch(G=ue,se=G.child,G.tag){case 0:case 11:case 14:case 15:vl(4,G,G.return);break;case 1:Wo(G,G.return);var ce=G.stateNode;if(typeof ce.componentWillUnmount=="function"){h=G,l=G.return;try{s=h,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){pt(h,l,he)}}break;case 5:Wo(G,G.return);break;case 22:if(G.memoizedState!==null){qy(J);continue}}se!==null?(se.return=G,ue=se):qy(J)}K=K.sibling}e:for(K=null,J=r;;){if(J.tag===5){if(K===null){K=J;try{d=J.stateNode,z?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=J.stateNode,A=J.memoizedProps.style,v=A!=null&&A.hasOwnProperty("display")?A.display:null,k.style.display=La("display",v))}catch(he){pt(r,r.return,he)}}}else if(J.tag===6){if(K===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(he){pt(r,r.return,he)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;K===J&&(K=null),J=J.return}K===J&&(K=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:tr(s,r),vr(r),h&4&&Wy(r);break;case 21:break;default:tr(s,r),vr(r)}}function vr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(jy(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(wi(d,""),h.flags&=-33);var g=zy(r);Ef(r,g,d);break;case 3:case 4:var v=h.stateNode.containerInfo,k=zy(r);wf(r,k,v);break;default:throw Error(n(161))}}catch(A){pt(r,r.return,A)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function J0(r,s,l){ue=r,Hy(r)}function Hy(r,s,l){for(var h=(r.mode&1)!==0;ue!==null;){var d=ue,g=d.child;if(d.tag===22&&h){var v=d.memoizedState!==null||mc;if(!v){var k=d.alternate,A=k!==null&&k.memoizedState!==null||Qt;k=mc;var z=Qt;if(mc=v,(Qt=A)&&!z)for(ue=d;ue!==null;)v=ue,A=v.child,v.tag===22&&v.memoizedState!==null?Gy(d):A!==null?(A.return=v,ue=A):Gy(d);for(;g!==null;)ue=g,Hy(g),g=g.sibling;ue=d,mc=k,Qt=z}Yy(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,ue=g):Yy(r)}}function Yy(r){for(;ue!==null;){var s=ue;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Qt||gc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Qt)if(l===null)h.componentDidMount();else{var d=s.elementType===s.type?l.memoizedProps:Zn(s.type,l.memoizedProps);h.componentDidUpdate(d,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&qg(s,g,h);break;case 3:var v=s.updateQueue;if(v!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}qg(s,v,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var A=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&l.focus();break;case"img":A.src&&(l.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var K=z.memoizedState;if(K!==null){var J=K.dehydrated;J!==null&&Kn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||s.flags&512&&vf(s)}catch(G){pt(s,s.return,G)}}if(s===r){ue=null;break}if(l=s.sibling,l!==null){l.return=s.return,ue=l;break}ue=s.return}}function qy(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ue=l;break}ue=s.return}}function Gy(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{gc(4,s)}catch(A){pt(s,l,A)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(A){pt(s,d,A)}}var g=s.return;try{vf(s)}catch(A){pt(s,g,A)}break;case 5:var v=s.return;try{vf(s)}catch(A){pt(s,v,A)}}}catch(A){pt(s,s.return,A)}if(s===r){ue=null;break}var k=s.sibling;if(k!==null){k.return=s.return,ue=k;break}ue=s.return}}var Z0=Math.ceil,yc=pe.ReactCurrentDispatcher,Tf=pe.ReactCurrentOwner,bn=pe.ReactCurrentBatchConfig,Be=0,Lt=null,Et=null,zt=0,kn=0,$o=xi(0),Pt=0,wl=null,Os=0,_c=0,Sf=0,El=null,fn=null,If=0,Ho=1/0,Qr=null,vc=!1,kf=null,Fi=null,wc=!1,Ui=null,Ec=0,Tl=0,Rf=null,Tc=-1,Sc=0;function on(){return Be&6?et():Tc!==-1?Tc:Tc=et()}function ji(r){return r.mode&1?Be&2&&zt!==0?zt&-zt:V0.transition!==null?(Sc===0&&(Sc=Es()),Sc):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Qa(r.type)),r):1}function nr(r,s,l,h){if(50<Tl)throw Tl=0,Rf=null,Error(n(185));Ii(r,l,h),(!(Be&2)||r!==Lt)&&(r===Lt&&(!(Be&2)&&(_c|=l),Pt===4&&zi(r,zt)),pn(r,h),l===1&&Be===0&&!(s.mode&1)&&(Ho=et()+500,Xu&&Mi()))}function pn(r,s){var l=r.callbackNode;Fr(r,s);var h=ws(r,r===Lt?zt:0);if(h===0)l!==null&&Ha(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Ha(l),s===1)r.tag===0?L0(Qy.bind(null,r)):Lg(Qy.bind(null,r)),N0(function(){!(Be&6)&&Mi()}),l=null;else{switch(Ri(h)){case 1:l=_s;break;case 4:l=Ei;break;case 16:l=Dn;break;case 536870912:l=Su;break;default:l=Dn}l=i_(l,Ky.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Ky(r,s){if(Tc=-1,Sc=0,Be&6)throw Error(n(327));var l=r.callbackNode;if(Yo()&&r.callbackNode!==l)return null;var h=ws(r,r===Lt?zt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Ic(r,h);else{s=h;var d=Be;Be|=2;var g=Jy();(Lt!==r||zt!==s)&&(Qr=null,Ho=et()+500,Ls(r,s));do try{nS();break}catch(k){Xy(r,k)}while(!0);Wd(),yc.current=g,Be=d,Et!==null?s=0:(Lt=null,zt=0,s=Pt)}if(s!==0){if(s===2&&(d=wn(r),d!==0&&(h=d,s=Pf(r,d))),s===1)throw l=wl,Ls(r,0),zi(r,h),pn(r,et()),l;if(s===6)zi(r,h);else{if(d=r.current.alternate,!(h&30)&&!eS(d)&&(s=Ic(r,h),s===2&&(g=wn(r),g!==0&&(h=g,s=Pf(r,g))),s===1))throw l=wl,Ls(r,0),zi(r,h),pn(r,et()),l;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:Vs(r,fn,Qr);break;case 3:if(zi(r,h),(h&130023424)===h&&(s=If+500-et(),10<s)){if(ws(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){on(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=xd(Vs.bind(null,r,fn,Qr),s);break}Vs(r,fn,Qr);break;case 4:if(zi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var v=31-nn(h);g=1<<v,v=s[v],v>d&&(d=v),h&=~g}if(h=d,h=et()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Z0(h/1960))-h,10<h){r.timeoutHandle=xd(Vs.bind(null,r,fn,Qr),h);break}Vs(r,fn,Qr);break;case 5:Vs(r,fn,Qr);break;default:throw Error(n(329))}}}return pn(r,et()),r.callbackNode===l?Ky.bind(null,r):null}function Pf(r,s){var l=El;return r.current.memoizedState.isDehydrated&&(Ls(r,s).flags|=256),r=Ic(r,s),r!==2&&(s=fn,fn=l,s!==null&&Af(s)),r}function Af(r){fn===null?fn=r:fn.push.apply(fn,r)}function eS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var d=l[h],g=d.getSnapshot;d=d.value;try{if(!Xn(g(),d))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zi(r,s){for(s&=~Sf,s&=~_c,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-nn(s),h=1<<l;r[l]=-1,s&=~h}}function Qy(r){if(Be&6)throw Error(n(327));Yo();var s=ws(r,0);if(!(s&1))return pn(r,et()),null;var l=Ic(r,s);if(r.tag!==0&&l===2){var h=wn(r);h!==0&&(s=h,l=Pf(r,h))}if(l===1)throw l=wl,Ls(r,0),zi(r,s),pn(r,et()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Vs(r,fn,Qr),pn(r,et()),null}function Cf(r,s){var l=Be;Be|=1;try{return r(s)}finally{Be=l,Be===0&&(Ho=et()+500,Xu&&Mi())}}function Ms(r){Ui!==null&&Ui.tag===0&&!(Be&6)&&Yo();var s=Be;Be|=1;var l=bn.transition,h=Ve;try{if(bn.transition=null,Ve=1,r)return r()}finally{Ve=h,bn.transition=l,Be=s,!(Be&6)&&Mi()}}function Df(){kn=$o.current,rt($o)}function Ls(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,D0(l)),Et!==null)for(l=Et.return;l!==null;){var h=l;switch(Fd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ku();break;case 3:zo(),rt(cn),rt(qt),Xd();break;case 5:Kd(h);break;case 4:zo();break;case 13:rt(ct);break;case 19:rt(ct);break;case 10:$d(h.type._context);break;case 22:case 23:Df()}l=l.return}if(Lt=r,Et=r=Bi(r.current,null),zt=kn=s,Pt=0,wl=null,Sf=_c=Os=0,fn=El=null,Ds!==null){for(s=0;s<Ds.length;s++)if(l=Ds[s],h=l.interleaved,h!==null){l.interleaved=null;var d=h.next,g=l.pending;if(g!==null){var v=g.next;g.next=d,h.next=v}l.pending=h}Ds=null}return r}function Xy(r,s){do{var l=Et;try{if(Wd(),ac.current=hc,lc){for(var h=ht.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}lc=!1}if(xs=0,Mt=Rt=ht=null,pl=!1,ml=0,Tf.current=null,l===null||l.return===null){Pt=1,wl=s,Et=null;break}e:{var g=r,v=l.return,k=l,A=s;if(s=zt,k.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=A,K=k,J=K.tag;if(!(K.mode&1)&&(J===0||J===11||J===15)){var G=K.alternate;G?(K.updateQueue=G.updateQueue,K.memoizedState=G.memoizedState,K.lanes=G.lanes):(K.updateQueue=null,K.memoizedState=null)}var se=Ty(v);if(se!==null){se.flags&=-257,Sy(se,v,k,g,s),se.mode&1&&Ey(g,z,s),s=se,A=z;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(A),s.updateQueue=he}else ce.add(A);break e}else{if(!(s&1)){Ey(g,z,s),Nf();break e}A=Error(n(426))}}else if(at&&k.mode&1){var yt=Ty(v);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Sy(yt,v,k,g,s),zd(Bo(A,k));break e}}g=A=Bo(A,k),Pt!==4&&(Pt=2),El===null?El=[g]:El.push(g),g=v;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var b=vy(g,A,s);Yg(g,b);break e;case 1:k=A;var N=g.type,U=g.stateNode;if(!(g.flags&128)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Fi===null||!Fi.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var ee=wy(g,k,s);Yg(g,ee);break e}}g=g.return}while(g!==null)}e_(l)}catch(fe){s=fe,Et===l&&l!==null&&(Et=l=l.return);continue}break}while(!0)}function Jy(){var r=yc.current;return yc.current=hc,r===null?hc:r}function Nf(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||!(Os&268435455)&&!(_c&268435455)||zi(Lt,zt)}function Ic(r,s){var l=Be;Be|=2;var h=Jy();(Lt!==r||zt!==s)&&(Qr=null,Ls(r,s));do try{tS();break}catch(d){Xy(r,d)}while(!0);if(Wd(),Be=l,yc.current=h,Et!==null)throw Error(n(261));return Lt=null,zt=0,Pt}function tS(){for(;Et!==null;)Zy(Et)}function nS(){for(;Et!==null&&!Eu();)Zy(Et)}function Zy(r){var s=r_(r.alternate,r,kn);r.memoizedProps=r.pendingProps,s===null?e_(r):Et=s,Tf.current=null}function e_(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=K0(l,s),l!==null){l.flags&=32767,Et=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,Et=null;return}}else if(l=G0(l,s,kn),l!==null){Et=l;return}if(s=s.sibling,s!==null){Et=s;return}Et=s=r}while(s!==null);Pt===0&&(Pt=5)}function Vs(r,s,l){var h=Ve,d=bn.transition;try{bn.transition=null,Ve=1,rS(r,s,l,h)}finally{bn.transition=d,Ve=h}return null}function rS(r,s,l,h){do Yo();while(Ui!==null);if(Be&6)throw Error(n(327));l=r.finishedWork;var d=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Je(r,g),r===Lt&&(Et=Lt=null,zt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||wc||(wc=!0,i_(Dn,function(){return Yo(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=bn.transition,bn.transition=null;var v=Ve;Ve=1;var k=Be;Be|=4,Tf.current=null,X0(r,l),$y(l,r),S0(Dd),Ai=!!Cd,Dd=Cd=null,r.current=l,J0(l),fd(),Be=k,Ve=v,bn.transition=g}else r.current=l;if(wc&&(wc=!1,Ui=r,Ec=d),g=r.pendingLanes,g===0&&(Fi=null),Iu(l.stateNode),pn(r,et()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)d=s[l],h(d.value,{componentStack:d.stack,digest:d.digest});if(vc)throw vc=!1,r=kf,kf=null,r;return Ec&1&&r.tag!==0&&Yo(),g=r.pendingLanes,g&1?r===Rf?Tl++:(Tl=0,Rf=r):Tl=0,Mi(),null}function Yo(){if(Ui!==null){var r=Ri(Ec),s=bn.transition,l=Ve;try{if(bn.transition=null,Ve=16>r?16:r,Ui===null)var h=!1;else{if(r=Ui,Ui=null,Ec=0,Be&6)throw Error(n(331));var d=Be;for(Be|=4,ue=r.current;ue!==null;){var g=ue,v=g.child;if(ue.flags&16){var k=g.deletions;if(k!==null){for(var A=0;A<k.length;A++){var z=k[A];for(ue=z;ue!==null;){var K=ue;switch(K.tag){case 0:case 11:case 15:vl(8,K,g)}var J=K.child;if(J!==null)J.return=K,ue=J;else for(;ue!==null;){K=ue;var G=K.sibling,se=K.return;if(Uy(K),K===z){ue=null;break}if(G!==null){G.return=se,ue=G;break}ue=se}}}var ce=g.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var yt=he.sibling;he.sibling=null,he=yt}while(he!==null)}}ue=g}}if(g.subtreeFlags&2064&&v!==null)v.return=g,ue=v;else e:for(;ue!==null;){if(g=ue,g.flags&2048)switch(g.tag){case 0:case 11:case 15:vl(9,g,g.return)}var b=g.sibling;if(b!==null){b.return=g.return,ue=b;break e}ue=g.return}}var N=r.current;for(ue=N;ue!==null;){v=ue;var U=v.child;if(v.subtreeFlags&2064&&U!==null)U.return=v,ue=U;else e:for(v=N;ue!==null;){if(k=ue,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:gc(9,k)}}catch(fe){pt(k,k.return,fe)}if(k===v){ue=null;break e}var ee=k.sibling;if(ee!==null){ee.return=k.return,ue=ee;break e}ue=k.return}}if(Be=d,Mi(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(vs,r)}catch{}h=!0}return h}finally{Ve=l,bn.transition=s}}return!1}function t_(r,s,l){s=Bo(l,s),s=vy(r,s,1),r=Vi(r,s,1),s=on(),r!==null&&(Ii(r,1,s),pn(r,s))}function pt(r,s,l){if(r.tag===3)t_(r,r,l);else for(;s!==null;){if(s.tag===3){t_(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Fi===null||!Fi.has(h))){r=Bo(l,r),r=wy(s,r,1),s=Vi(s,r,1),r=on(),s!==null&&(Ii(s,1,r),pn(s,r));break}}s=s.return}}function iS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=on(),r.pingedLanes|=r.suspendedLanes&l,Lt===r&&(zt&l)===l&&(Pt===4||Pt===3&&(zt&130023424)===zt&&500>et()-If?Ls(r,0):Sf|=l),pn(r,s)}function n_(r,s){s===0&&(r.mode&1?(s=mo,mo<<=1,!(mo&130023424)&&(mo=4194304)):s=1);var l=on();r=qr(r,s),r!==null&&(Ii(r,s,l),pn(r,l))}function sS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),n_(r,l)}function oS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(l=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),n_(r,l)}var r_;r_=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||cn.current)dn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return dn=!1,q0(r,s,l);dn=!!(r.flags&131072)}else dn=!1,at&&s.flags&1048576&&Vg(s,Zu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;pc(r,s),r=s.pendingProps;var d=Mo(s,qt.current);jo(s,l),d=ef(null,s,h,r,d,l);var g=tf();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hn(h)?(g=!0,Qu(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,qd(s),d.updater=dc,s.stateNode=d,d._reactInternals=s,lf(s,h,r,l),s=df(null,s,h,!0,g,l)):(s.tag=0,at&&g&&bd(s),sn(null,s,d,l),s=s.child),s;case 16:h=s.elementType;e:{switch(pc(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=lS(h),r=Zn(h,r),d){case 0:s=hf(null,s,h,r,l);break e;case 1:s=Cy(null,s,h,r,l);break e;case 11:s=Iy(null,s,h,r,l);break e;case 14:s=ky(null,s,h,Zn(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Zn(h,d),hf(r,s,h,d,l);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Zn(h,d),Cy(r,s,h,d,l);case 3:e:{if(Dy(s),r===null)throw Error(n(387));h=s.pendingProps,g=s.memoizedState,d=g.element,Hg(r,s),sc(s,h,null,l);var v=s.memoizedState;if(h=v.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=Bo(Error(n(423)),s),s=Ny(r,s,h,l,d);break e}else if(h!==d){d=Bo(Error(n(424)),s),s=Ny(r,s,h,l,d);break e}else for(In=Ni(s.stateNode.containerInfo.firstChild),Sn=s,at=!0,Jn=null,l=Wg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(bo(),h===d){s=Kr(r,s,l);break e}sn(r,s,h,l)}s=s.child}return s;case 5:return Gg(s),r===null&&jd(s),h=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,v=d.children,Nd(h,d)?v=null:g!==null&&Nd(h,g)&&(s.flags|=32),Ay(r,s),sn(r,s,v,l),s.child;case 6:return r===null&&jd(s),null;case 13:return xy(r,s,l);case 4:return Gd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Fo(s,null,h,l):sn(r,s,h,l),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Zn(h,d),Iy(r,s,h,d,l);case 7:return sn(r,s,s.pendingProps,l),s.child;case 8:return sn(r,s,s.pendingProps.children,l),s.child;case 12:return sn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,g=s.memoizedProps,v=d.value,tt(nc,h._currentValue),h._currentValue=v,g!==null)if(Xn(g.value,v)){if(g.children===d.children&&!cn.current){s=Kr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var k=g.dependencies;if(k!==null){v=g.child;for(var A=k.firstContext;A!==null;){if(A.context===h){if(g.tag===1){A=Gr(-1,l&-l),A.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var K=z.pending;K===null?A.next=A:(A.next=K.next,K.next=A),z.pending=A}}g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),Hd(g.return,l,s),k.lanes|=l;break}A=A.next}}else if(g.tag===10)v=g.type===s.type?null:g.child;else if(g.tag===18){if(v=g.return,v===null)throw Error(n(341));v.lanes|=l,k=v.alternate,k!==null&&(k.lanes|=l),Hd(v,l,s),v=g.sibling}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===s){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}sn(r,s,d.children,l),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,jo(s,l),d=Ln(d),h=h(d),s.flags|=1,sn(r,s,h,l),s.child;case 14:return h=s.type,d=Zn(h,s.pendingProps),d=Zn(h.type,d),ky(r,s,h,d,l);case 15:return Ry(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Zn(h,d),pc(r,s),s.tag=1,hn(h)?(r=!0,Qu(s)):r=!1,jo(s,l),yy(s,h,d),lf(s,h,d,l),df(null,s,h,!0,r,l);case 19:return My(r,s,l);case 22:return Py(r,s,l)}throw Error(n(156,s.tag))};function i_(r,s){return fo(r,s)}function aS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(r,s,l,h){return new aS(r,s,l,h)}function xf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function lS(r){if(typeof r=="function")return xf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Ht)return 14}return 2}function Bi(r,s){var l=r.alternate;return l===null?(l=Fn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function kc(r,s,l,h,d,g){var v=2;if(h=r,typeof r=="function")xf(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case D:return bs(l.children,d,g,s);case I:v=8,d|=8;break;case R:return r=Fn(12,l,s,d|2),r.elementType=R,r.lanes=g,r;case P:return r=Fn(13,l,s,d),r.elementType=P,r.lanes=g,r;case mt:return r=Fn(19,l,s,d),r.elementType=mt,r.lanes=g,r;case Qe:return Rc(l,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:v=10;break e;case x:v=9;break e;case L:v=11;break e;case Ht:v=14;break e;case Yt:v=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Fn(v,l,s,d),s.elementType=r,s.type=h,s.lanes=g,s}function bs(r,s,l,h){return r=Fn(7,r,h,s),r.lanes=l,r}function Rc(r,s,l,h){return r=Fn(22,r,h,s),r.elementType=Qe,r.lanes=l,r.stateNode={isHidden:!1},r}function Of(r,s,l){return r=Fn(6,r,null,s),r.lanes=l,r}function Mf(r,s,l){return s=Fn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function uS(r,s,l,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Lf(r,s,l,h,d,g,v,k,A){return r=new uS(r,s,l,k,A),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Fn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(g),r}function cS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function s_(r){if(!r)return Oi;r=r._reactInternals;e:{if($n(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(hn(l))return Og(r,l,s)}return s}function o_(r,s,l,h,d,g,v,k,A){return r=Lf(l,h,!0,r,d,g,v,k,A),r.context=s_(null),l=r.current,h=on(),d=ji(l),g=Gr(h,d),g.callback=s??null,Vi(l,g,d),r.current.lanes=d,Ii(r,d,h),pn(r,h),r}function Pc(r,s,l,h){var d=s.current,g=on(),v=ji(d);return l=s_(l),s.context===null?s.context=l:s.pendingContext=l,s=Gr(g,v),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Vi(d,s,v),r!==null&&(nr(r,d,v,g),ic(r,d,v)),v}function Ac(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function a_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Vf(r,s){a_(r,s),(r=r.alternate)&&a_(r,s)}var l_=typeof reportError=="function"?reportError:function(r){console.error(r)};function bf(r){this._internalRoot=r}Cc.prototype.render=bf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Pc(r,s,null,null)},Cc.prototype.unmount=bf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ms(function(){Pc(null,r,null,null)}),s[Wr]=null}};function Cc(r){this._internalRoot=r}Cc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Cu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<dr.length&&s!==0&&s<dr[l].priority;l++);dr.splice(l,0,r),l===0&&xu(r)}};function Ff(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Dc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function u_(){}function hS(r,s,l,h,d){if(d){if(typeof h=="function"){var g=h;h=function(){var z=Ac(v);g.call(z)}}var v=o_(s,h,r,0,null,!1,!1,"",u_);return r._reactRootContainer=v,r[Wr]=v.current,ol(r.nodeType===8?r.parentNode:r),Ms(),v}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var k=h;h=function(){var z=Ac(A);k.call(z)}}var A=Lf(r,0,!1,null,null,!1,!1,"",u_);return r._reactRootContainer=A,r[Wr]=A.current,ol(r.nodeType===8?r.parentNode:r),Ms(function(){Pc(s,A,l,h)}),A}function Nc(r,s,l,h,d){var g=l._reactRootContainer;if(g){var v=g;if(typeof d=="function"){var k=d;d=function(){var A=Ac(v);k.call(A)}}Pc(s,v,r,d)}else v=hS(l,s,r,d,h);return Ac(v)}Pu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ti(s.pendingLanes);l!==0&&(ki(s,l|1),pn(s,et()),!(Be&6)&&(Ho=et()+500,Mi()))}break;case 13:Ms(function(){var h=qr(r,1);if(h!==null){var d=on();nr(h,r,1,d)}}),Vf(r,1)}},go=function(r){if(r.tag===13){var s=qr(r,134217728);if(s!==null){var l=on();nr(s,r,134217728,l)}Vf(r,134217728)}},Au=function(r){if(r.tag===13){var s=ji(r),l=qr(r,s);if(l!==null){var h=on();nr(l,r,s,h)}Vf(r,s)}},Cu=function(){return Ve},Du=function(r,s){var l=Ve;try{return Ve=r,s()}finally{Ve=l}},oo=function(r,s,l){switch(s){case"input":if(Na(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var d=Gu(h);if(!d)throw Error(n(90));eo(h),Na(h,d)}}}break;case"textarea":io(r,l);break;case"select":s=l.value,s!=null&&Lr(r,!!l.multiple,s,!1)}},ps=Cf,za=Ms;var dS={usingClientEntryPoint:!1,Events:[ul,xo,Gu,cr,ja,Cf]},Sl={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fS={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=$a(r),r===null?null:r.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{vs=xc.inject(fS),vn=xc}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS,mn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ff(s))throw Error(n(200));return cS(r,s,null,l)},mn.createRoot=function(r,s){if(!Ff(r))throw Error(n(299));var l=!1,h="",d=l_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Lf(r,1,!1,null,null,l,!1,h,d),r[Wr]=s.current,ol(r.nodeType===8?r.parentNode:r),new bf(s)},mn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=$a(s),r=r===null?null:r.stateNode,r},mn.flushSync=function(r){return Ms(r)},mn.hydrate=function(r,s,l){if(!Dc(s))throw Error(n(200));return Nc(null,r,s,!0,l)},mn.hydrateRoot=function(r,s,l){if(!Ff(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,d=!1,g="",v=l_;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),s=o_(s,null,r,1,l??null,d,!1,g,v),r[Wr]=s.current,ol(r),h)for(r=0;r<h.length;r++)l=h[r],d=l._getVersion,d=d(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,d]:s.mutableSourceEagerHydrationData.push(l,d);return new Cc(s)},mn.render=function(r,s,l){if(!Dc(s))throw Error(n(200));return Nc(null,r,s,!1,l)},mn.unmountComponentAtNode=function(r){if(!Dc(r))throw Error(n(40));return r._reactRootContainer?(Ms(function(){Nc(null,null,r,!1,function(){r._reactRootContainer=null,r[Wr]=null})}),!0):!1},mn.unstable_batchedUpdates=Cf,mn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Dc(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Nc(r,s,l,!1,h)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var y_;function SS(){if(y_)return zf.exports;y_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zf.exports=TS(),zf.exports}var __;function IS(){if(__)return Oc;__=1;var t=SS();return Oc.createRoot=t.createRoot,Oc.hydrateRoot=t.hydrateRoot,Oc}var kS=IS(),$=Up();const Ws=gS($);var kl={},v_;function RS(){if(v_)return kl;v_=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=c,kl.serialize=y;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,O){const F=new a,W=S.length;if(W<2)return F;const j=(O==null?void 0:O.decode)||w;let Y=0;do{const X=S.indexOf("=",Y);if(X===-1)break;const re=S.indexOf(";",Y),pe=re===-1?W:re;if(X>pe){Y=S.lastIndexOf(";",X-1)+1;continue}const Ce=f(S,Y,X),Re=p(S,X,Ce),D=S.slice(Ce,Re);if(F[D]===void 0){let I=f(S,X+1,pe),R=p(S,pe,I);const C=j(S.slice(I,R));F[D]=C}Y=pe+1}while(Y<W);return F}function f(S,O,F){do{const W=S.charCodeAt(O);if(W!==32&&W!==9)return O}while(++O<F);return F}function p(S,O,F){for(;O>F;){const W=S.charCodeAt(--O);if(W!==32&&W!==9)return O+1}return F}function y(S,O,F){const W=(F==null?void 0:F.encode)||encodeURIComponent;if(!t.test(S))throw new TypeError(`argument name is invalid: ${S}`);const j=W(O);if(!e.test(j))throw new TypeError(`argument val is invalid: ${O}`);let Y=S+"="+j;if(!F)return Y;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);Y+="; Max-Age="+F.maxAge}if(F.domain){if(!n.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);Y+="; Domain="+F.domain}if(F.path){if(!i.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);Y+="; Path="+F.path}if(F.expires){if(!T(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);Y+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(Y+="; HttpOnly"),F.secure&&(Y+="; Secure"),F.partitioned&&(Y+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return Y}function w(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return kl}RS();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w_="popstate";function PS(t={}){function e(i,o){let{pathname:a,search:c,hash:f}=i.location;return ap("",{pathname:a,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:zl(o)}return CS(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AS(){return Math.random().toString(36).substring(2,10)}function E_(t,e){return{usr:t.state,key:t.key,idx:e}}function ap(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:n,key:e&&e.key||i||AS()}}function zl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function CS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,f="POP",p=null,y=w();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function w(){return(c.state||{idx:null}).idx}function T(){f="POP";let j=w(),Y=j==null?null:j-y;y=j,p&&p({action:f,location:W.location,delta:Y})}function S(j,Y){f="PUSH";let X=ap(W.location,j,Y);y=w()+1;let re=E_(X,y),pe=W.createHref(X);try{c.pushState(re,"",pe)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;o.location.assign(pe)}a&&p&&p({action:f,location:W.location,delta:1})}function O(j,Y){f="REPLACE";let X=ap(W.location,j,Y);y=w();let re=E_(X,y),pe=W.createHref(X);c.replaceState(re,"",pe),a&&p&&p({action:f,location:W.location,delta:0})}function F(j){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof j=="string"?j:zl(j);return X=X.replace(/ $/,"%20"),dt(Y,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,Y)}let W={get action(){return f},get location(){return t(o,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(w_,T),p=j,()=>{o.removeEventListener(w_,T),p=null}},createHref(j){return e(o,j)},createURL:F,encodeLocation(j){let Y=F(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:O,go(j){return c.go(j)}};return W}function Hv(t,e,n="/"){return DS(t,e,n,!1)}function DS(t,e,n,i){let o=typeof e=="string"?ya(e):e,a=ns(o.pathname||"/",n);if(a==null)return null;let c=Yv(t);NS(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let y=BS(a);f=jS(c[p],y,i)}return f}function Yv(t,e=[],n=[],i=""){let o=(a,c,f)=>{let p={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(dt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=oi([i,p.relativePath]),w=n.concat(p);a.children&&a.children.length>0&&(dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Yv(a.children,e,w,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:FS(y,a.index),routesMeta:w})};return t.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,c);else for(let p of qv(a.path))o(a,c,p)}),e}function qv(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=qv(i.join("/")),f=[];return f.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function NS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:US(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var xS=/^:[\w-]+$/,OS=3,MS=2,LS=1,VS=10,bS=-2,T_=t=>t==="*";function FS(t,e){let n=t.split("/"),i=n.length;return n.some(T_)&&(i+=bS),e&&(i+=MS),n.filter(o=>!T_(o)).reduce((o,a)=>o+(xS.test(a)?OS:a===""?LS:VS),i)}function US(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function jS(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,w=a==="/"?e:e.slice(a.length)||"/",T=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),S=p.route;if(!T&&y&&n&&!i[i.length-1].route.index&&(T=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:oi([a,T.pathname]),pathnameBase:YS(oi([a,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(a=oi([a,T.pathnameBase]))}return c}function sh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=zS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:T},S)=>{if(w==="*"){let F=f[S]||"";c=a.slice(0,a.length-F.length).replace(/(.)\/+$/,"$1")}const O=f[S];return T&&!O?y[w]=void 0:y[w]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:t}}function zS(t,e=!1,n=!0){Ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function BS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function WS(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?ya(t):t;return{pathname:n?n.startsWith("/")?n:$S(n,e):e,search:qS(i),hash:GS(o)}}function $S(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $f(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gv(t){let e=HS(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Kv(t,e,n,i=!1){let o;typeof t=="string"?o=ya(t):(o={...t},dt(!o.pathname||!o.pathname.includes("?"),$f("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),$f("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),$f("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,f;if(c==null)f=n;else{let T=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}f=T>=0?e[T]:"/"}let p=WS(o,f),y=c&&c!=="/"&&c.endsWith("/"),w=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var oi=t=>t.join("/").replace(/\/\/+/g,"/"),YS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Qv=["POST","PUT","PATCH","DELETE"];new Set(Qv);var QS=["GET",...Qv];new Set(QS);var _a=$.createContext(null);_a.displayName="DataRouter";var Nh=$.createContext(null);Nh.displayName="DataRouterState";var Xv=$.createContext({isTransitioning:!1});Xv.displayName="ViewTransition";var XS=$.createContext(new Map);XS.displayName="Fetchers";var JS=$.createContext(null);JS.displayName="Await";var Cr=$.createContext(null);Cr.displayName="Navigation";var nu=$.createContext(null);nu.displayName="Location";var Dr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var jp=$.createContext(null);jp.displayName="RouteError";function ZS(t,{relative:e}={}){dt(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=$.useContext(Cr),{hash:o,pathname:a,search:c}=iu(t,{relative:e}),f=a;return n!=="/"&&(f=a==="/"?n:oi([n,a])),i.createHref({pathname:f,search:c,hash:o})}function ru(){return $.useContext(nu)!=null}function Qs(){return dt(ru(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(nu).location}var Jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zv(t){$.useContext(Cr).static||$.useLayoutEffect(t)}function va(){let{isDataRoute:t}=$.useContext(Dr);return t?fI():eI()}function eI(){dt(ru(),"useNavigate() may be used only in the context of a <Router> component.");let t=$.useContext(_a),{basename:e,navigator:n}=$.useContext(Cr),{matches:i}=$.useContext(Dr),{pathname:o}=Qs(),a=JSON.stringify(Gv(i)),c=$.useRef(!1);return Zv(()=>{c.current=!0}),$.useCallback((p,y={})=>{if(Ir(c.current,Jv),!c.current)return;if(typeof p=="number"){n.go(p);return}let w=Kv(p,JSON.parse(a),o,y.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:oi([e,w.pathname])),(y.replace?n.replace:n.push)(w,y.state,y)},[e,n,a,o,t])}$.createContext(null);function tI(){let{matches:t}=$.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function iu(t,{relative:e}={}){let{matches:n}=$.useContext(Dr),{pathname:i}=Qs(),o=JSON.stringify(Gv(n));return $.useMemo(()=>Kv(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function nI(t,e){return ew(t,e)}function ew(t,e,n,i){var Y;dt(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(Cr),{matches:a}=$.useContext(Dr),c=a[a.length-1],f=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",w=c&&c.route;{let X=w&&w.path||"";tw(p,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let T=Qs(),S;if(e){let X=typeof e=="string"?ya(e):e;dt(y==="/"||((Y=X.pathname)==null?void 0:Y.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${X.pathname}" was given in the \`location\` prop.`),S=X}else S=T;let O=S.pathname||"/",F=O;if(y!=="/"){let X=y.replace(/^\//,"").split("/");F="/"+O.replace(/^\//,"").split("/").slice(X.length).join("/")}let W=Hv(t,{pathname:F});Ir(w||W!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ir(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=aI(W&&W.map(X=>Object.assign({},X,{params:Object.assign({},f,X.params),pathname:oi([y,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:oi([y,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),a,n,i);return e&&j?$.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function rI(){let t=dI(),e=KS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:o},n):null,c)}var iI=$.createElement(rI,null),sI=class extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?$.createElement(Dr.Provider,{value:this.props.routeContext},$.createElement(jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oI({routeContext:t,match:e,children:n}){let i=$.useContext(_a);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Dr.Provider,{value:t},n)}function aI(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let p=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:w,errors:T}=n,S=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,w)=>{let T,S=!1,O=null,F=null;n&&(T=a&&y.route.id?a[y.route.id]:void 0,O=y.route.errorElement||iI,c&&(f<0&&w===0?(tw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,F=null):f===w&&(S=!0,F=y.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,w+1)),j=()=>{let Y;return T?Y=O:S?Y=F:y.route.Component?Y=$.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,$.createElement(oI,{match:y,routeContext:{outlet:p,matches:W,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?$.createElement(sI,{location:n.location,revalidation:n.revalidation,component:O,error:T,children:j(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):j()},null)}function zp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lI(t){let e=$.useContext(_a);return dt(e,zp(t)),e}function uI(t){let e=$.useContext(Nh);return dt(e,zp(t)),e}function cI(t){let e=$.useContext(Dr);return dt(e,zp(t)),e}function Bp(t){let e=cI(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hI(){return Bp("useRouteId")}function dI(){var i;let t=$.useContext(jp),e=uI("useRouteError"),n=Bp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function fI(){let{router:t}=lI("useNavigate"),e=Bp("useNavigate"),n=$.useRef(!1);return Zv(()=>{n.current=!0}),$.useCallback(async(o,a={})=>{Ir(n.current,Jv),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var S_={};function tw(t,e,n){!e&&!S_[t]&&(S_[t]=!0,Ir(!1,n))}$.memo(pI);function pI({routes:t,future:e,state:n}){return ew(t,void 0,n,e)}function Cl(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){dt(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=$.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=ya(n));let{pathname:p="/",search:y="",hash:w="",state:T=null,key:S="default"}=n,O=$.useMemo(()=>{let F=ns(p,c);return F==null?null:{location:{pathname:F,search:y,hash:w,state:T,key:S},navigationType:i}},[c,p,y,w,T,S,i]);return Ir(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:$.createElement(Cr.Provider,{value:f},$.createElement(nu.Provider,{children:e,value:O}))}function gI({children:t,location:e}){return nI(lp(t),e)}function lp(t,e=[]){let n=[];return $.Children.forEach(t,(i,o)=>{if(!$.isValidElement(i))return;let a=[...e,o];if(i.type===$.Fragment){n.push.apply(n,lp(i.props.children,a));return}dt(i.type===Cl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=lp(i.props.children,a)),n.push(c)}),n}var Wc="get",$c="application/x-www-form-urlencoded";function xh(t){return t!=null&&typeof t.tagName=="string"}function yI(t){return xh(t)&&t.tagName.toLowerCase()==="button"}function _I(t){return xh(t)&&t.tagName.toLowerCase()==="form"}function vI(t){return xh(t)&&t.tagName.toLowerCase()==="input"}function wI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EI(t,e){return t.button===0&&(!e||e==="_self")&&!wI(t)}var Mc=null;function TI(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var SI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hf(t){return t!=null&&!SI.has(t)?(Ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):t}function II(t,e){let n,i,o,a,c;if(_I(t)){let f=t.getAttribute("action");i=f?ns(f,e):null,n=t.getAttribute("method")||Wc,o=Hf(t.getAttribute("enctype"))||$c,a=new FormData(t)}else if(yI(t)||vI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(i=p?ns(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Wc,o=Hf(t.getAttribute("formenctype"))||Hf(f.getAttribute("enctype"))||$c,a=new FormData(f,t),!TI()){let{name:y,type:w,value:T}=t;if(w==="image"){let S=y?`${y}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else y&&a.append(y,T)}}else{if(xh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,i=null,o=$c,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:c}}function Wp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function kI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PI(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await kI(a,n);return c.links?c.links():[]}return[]}));return NI(i.flat(1).filter(RI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I_(t,e,n,i,o,a){let c=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,f=(p,y)=>{var w;return n[y].pathname!==p.pathname||((w=n[y].route.path)==null?void 0:w.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,y)=>c(p,y)||f(p,y)):a==="data"?e.filter((p,y)=>{var T;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(c(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function AI(t,e){return CI(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function CI(t){return[...new Set(t)]}function DI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function NI(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(DI(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function xI(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function OI(){let t=$.useContext(_a);return Wp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MI(){let t=$.useContext(Nh);return Wp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $p=$.createContext(void 0);$p.displayName="FrameworkContext";function nw(){let t=$.useContext($p);return Wp(t,"You must render this element inside a <HydratedRouter> element"),t}function LI(t,e){let n=$.useContext($p),[i,o]=$.useState(!1),[a,c]=$.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,S=$.useRef(null);$.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let W=Y=>{Y.forEach(X=>{c(X.isIntersecting)})},j=new IntersectionObserver(W,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[t]),$.useEffect(()=>{if(i){let W=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(W)}}},[i]);let O=()=>{o(!0)},F=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,S,{}]:[a,S,{onFocus:Rl(f,O),onBlur:Rl(p,F),onMouseEnter:Rl(y,O),onMouseLeave:Rl(w,F),onTouchStart:Rl(T,O)}]:[!1,S,{}]}function Rl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VI({page:t,...e}){let{router:n}=OI(),i=$.useMemo(()=>Hv(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?$.createElement(FI,{page:t,matches:i,...e}):null}function bI(t){let{manifest:e,routeModules:n}=nw(),[i,o]=$.useState([]);return $.useEffect(()=>{let a=!1;return PI(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),i}function FI({page:t,matches:e,...n}){let i=Qs(),{manifest:o,routeModules:a}=nw(),{loaderData:c,matches:f}=MI(),p=$.useMemo(()=>I_(t,e,f,o,i,"data"),[t,e,f,o,i]),y=$.useMemo(()=>I_(t,e,f,o,i,"assets"),[t,e,f,o,i]),w=$.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let O=new Set,F=!1;if(e.forEach(j=>{var X;let Y=o.routes[j.route.id];!Y||!Y.hasLoader||(!p.some(re=>re.route.id===j.route.id)&&j.route.id in c&&((X=a[j.route.id])!=null&&X.shouldRevalidate)||Y.hasClientLoader?F=!0:O.add(j.route.id))}),O.size===0)return[];let W=xI(t);return F&&O.size>0&&W.searchParams.set("_routes",e.filter(j=>O.has(j.route.id)).map(j=>j.route.id).join(",")),[W.pathname+W.search]},[c,i,o,p,e,t,a]),T=$.useMemo(()=>AI(y,o),[y,o]),S=bI(y);return $.createElement($.Fragment,null,w.map(O=>$.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),T.map(O=>$.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),S.map(({key:O,link:F})=>$.createElement("link",{key:O,...F})))}function UI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rw&&(window.__reactRouterVersion="7.1.1")}catch{}function jI({basename:t,children:e,window:n}){let i=$.useRef();i.current==null&&(i.current=PS({window:n,v5Compat:!0}));let o=i.current,[a,c]=$.useState({action:o.action,location:o.location}),f=$.useCallback(p=>{$.startTransition(()=>c(p))},[c]);return $.useLayoutEffect(()=>o.listen(f),[o,f]),$.createElement(mI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ml=$.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:f,target:p,to:y,preventScrollReset:w,viewTransition:T,...S},O){let{basename:F}=$.useContext(Cr),W=typeof y=="string"&&iw.test(y),j,Y=!1;if(typeof y=="string"&&W&&(j=y,rw))try{let R=new URL(window.location.href),C=y.startsWith("//")?new URL(R.protocol+y):new URL(y),x=ns(C.pathname,F);C.origin===R.origin&&x!=null?y=x+C.search+C.hash:Y=!0}catch{Ir(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=ZS(y,{relative:o}),[re,pe,Ce]=LI(i,S),Re=$I(y,{replace:c,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:T});function D(R){e&&e(R),R.defaultPrevented||Re(R)}let I=$.createElement("a",{...S,...Ce,href:j||X,onClick:Y||a?e:D,ref:UI(O,pe),target:p,"data-discover":!W&&n==="render"?"true":void 0});return re&&!W?$.createElement($.Fragment,null,I,$.createElement(VI,{page:X})):I});Ml.displayName="Link";var zI=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:f,children:p,...y},w){let T=iu(c,{relative:y.relative}),S=Qs(),O=$.useContext(Nh),{navigator:F,basename:W}=$.useContext(Cr),j=O!=null&&KI(T)&&f===!0,Y=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,X=S.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(X=X.toLowerCase(),re=re?re.toLowerCase():null,Y=Y.toLowerCase()),re&&W&&(re=ns(re,W)||re);const pe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let Ce=X===Y||!o&&X.startsWith(Y)&&X.charAt(pe)==="/",Re=re!=null&&(re===Y||!o&&re.startsWith(Y)&&re.charAt(Y.length)==="/"),D={isActive:Ce,isPending:Re,isTransitioning:j},I=Ce?e:void 0,R;typeof i=="function"?R=i(D):R=[i,Ce?"active":null,Re?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(D):a;return $.createElement(Ml,{...y,"aria-current":I,className:R,ref:w,style:C,to:c,viewTransition:f},typeof p=="function"?p(D):p)});zI.displayName="NavLink";var BI=$.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:c=Wc,action:f,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:T,...S},O)=>{let F=qI(),W=GI(f,{relative:y}),j=c.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&iw.test(f),X=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let pe=re.nativeEvent.submitter,Ce=(pe==null?void 0:pe.getAttribute("formmethod"))||c;F(pe||re.currentTarget,{fetcherKey:e,method:Ce,navigate:n,replace:o,state:a,relative:y,preventScrollReset:w,viewTransition:T})};return $.createElement("form",{ref:O,method:j,action:W,onSubmit:i?p:X,...S,"data-discover":!Y&&t==="render"?"true":void 0})});BI.displayName="Form";function WI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sw(t){let e=$.useContext(_a);return dt(e,WI(t)),e}function $I(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let f=va(),p=Qs(),y=iu(t,{relative:a});return $.useCallback(w=>{if(EI(w,e)){w.preventDefault();let T=n!==void 0?n:zl(p)===zl(y);f(t,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,f,y,n,i,e,t,o,a,c])}var HI=0,YI=()=>`__${String(++HI)}__`;function qI(){let{router:t}=sw("useSubmit"),{basename:e}=$.useContext(Cr),n=hI();return $.useCallback(async(i,o={})=>{let{action:a,method:c,encType:f,formData:p,body:y}=II(i,e);if(o.navigate===!1){let w=o.fetcherKey||YI();await t.fetch(w,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function GI(t,{relative:e}={}){let{basename:n}=$.useContext(Cr),i=$.useContext(Dr);dt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...iu(t||".",{relative:e})},c=Qs();if(t==null){a.search=c.search;let f=new URLSearchParams(a.search),p=f.getAll("index");if(p.some(w=>w==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:oi([n,a.pathname])),zl(a)}function KI(t,e={}){let n=$.useContext(Xv);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=sw("useViewTransitionState"),o=iu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ns(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=ns(n.nextLocation.pathname,i)||n.nextLocation.pathname;return sh(o.pathname,c)!=null||sh(o.pathname,a)!=null}new TextEncoder;const QI=({isAuth:t,logout:e})=>de.jsxs("nav",{className:"nav",children:[de.jsx(Ml,{to:"/",children:"Blog"}),t?de.jsxs(de.Fragment,{children:[de.jsx(Ml,{to:"/create-post",children:"Create Post"}),de.jsx("button",{className:"login-btn",onClick:e,children:"Sign Out"})]}):de.jsx(Ml,{to:"/login",children:"Login"})]});var k_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},XI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],f=t[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,f=c?t[o+1]:0,p=o+2<t.length,y=p?t[o+2]:0,w=a>>2,T=(a&3)<<4|f>>4;let S=(f&15)<<2|y>>6,O=y&63;p||(O=64,c||(S=64)),i.push(n[w],n[T],n[S],n[O])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ow(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const y=o<t.length?n[t.charAt(o)]:64;++o;const T=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||y==null||T==null)throw new JI;const S=a<<2|f>>4;if(i.push(S),y!==64){const O=f<<4&240|y>>2;if(i.push(O),T!==64){const F=y<<6&192|T;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZI=function(t){const e=ow(t);return aw.encodeByteArray(e,!0)},oh=function(t){return ZI(t).replace(/\./g,"")},lw=function(t){try{return aw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=()=>ek().__FIREBASE_DEFAULTS__,nk=()=>{if(typeof process>"u"||typeof k_>"u")return;const t=k_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lw(t[1]);return e&&JSON.parse(e)},Oh=()=>{try{return tk()||nk()||rk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uw=t=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ik=t=>{const e=uw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},cw=()=>{var t;return(t=Oh())===null||t===void 0?void 0:t.config},hw=t=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oh(JSON.stringify(n)),oh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ak(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function lk(){var t;const e=(t=Oh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ck(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dk(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fk(){return!lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pk(){try{return typeof indexedDB=="object"}catch{return!1}}function mk(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="FirebaseError";class gi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=gk,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?yk(a,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new gi(o,f,i)}}function yk(t,e){return t.replace(_k,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const _k=/\{\$([^}]+)}/g;function vk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ah(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],c=e[o];if(R_(a)&&R_(c)){if(!ah(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function R_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wk(t,e){const n=new Ek(t,e);return n.subscribe.bind(n)}class Ek{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Tk(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Yf),o.error===void 0&&(o.error=Yf),o.complete===void 0&&(o.complete=Yf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class qs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new sk;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kk(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&c.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ik(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ik(t){return t===Us?void 0:t}function kk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const Pk={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Ak=Oe.INFO,Ck={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Dk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=Ck[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=Ak,this._logHandler=Dk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Nk=(t,e)=>e.some(n=>t instanceof n);let P_,A_;function xk(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ok(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dw=new WeakMap,up=new WeakMap,fw=new WeakMap,qf=new WeakMap,Yp=new WeakMap;function Mk(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Xi(t.result)),o()},c=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&dw.set(n,t)}).catch(()=>{}),Yp.set(e,t),e}function Lk(t){if(up.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});up.set(t,e)}let cp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vk(t){cp=t(cp)}function bk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Gf(this),e,...n);return fw.set(i,e.sort?e.sort():[e]),Xi(i)}:Ok().includes(t)?function(...e){return t.apply(Gf(this),e),Xi(dw.get(this))}:function(...e){return Xi(t.apply(Gf(this),e))}}function Fk(t){return typeof t=="function"?bk(t):(t instanceof IDBTransaction&&Lk(t),Nk(t,xk())?new Proxy(t,cp):t)}function Xi(t){if(t instanceof IDBRequest)return Mk(t);if(qf.has(t))return qf.get(t);const e=Fk(t);return e!==t&&(qf.set(t,e),Yp.set(e,t)),e}const Gf=t=>Yp.get(t);function Uk(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),f=Xi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Xi(c.result),p.oldVersion,p.newVersion,Xi(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const jk=["get","getKey","getAll","getAllKeys","count"],zk=["put","add","delete","clear"],Kf=new Map;function C_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=zk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||jk.includes(n)))return;const a=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[n](...f),o&&p.done]))[0]};return Kf.set(e,a),a}Vk(t=>({...t,get:(e,n,i)=>C_(e,n)||t.get(e,n,i),has:(e,n)=>!!C_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Wk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hp="@firebase/app",D_="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Hp("@firebase/app"),$k="@firebase/app-compat",Hk="@firebase/analytics-compat",Yk="@firebase/analytics",qk="@firebase/app-check-compat",Gk="@firebase/app-check",Kk="@firebase/auth",Qk="@firebase/auth-compat",Xk="@firebase/database",Jk="@firebase/data-connect",Zk="@firebase/database-compat",eR="@firebase/functions",tR="@firebase/functions-compat",nR="@firebase/installations",rR="@firebase/installations-compat",iR="@firebase/messaging",sR="@firebase/messaging-compat",oR="@firebase/performance",aR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",hR="@firebase/storage-compat",dR="@firebase/firestore",fR="@firebase/vertexai",pR="@firebase/firestore-compat",mR="firebase",gR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",yR={[hp]:"fire-core",[$k]:"fire-core-compat",[Yk]:"fire-analytics",[Hk]:"fire-analytics-compat",[Gk]:"fire-app-check",[qk]:"fire-app-check-compat",[Kk]:"fire-auth",[Qk]:"fire-auth-compat",[Xk]:"fire-rtdb",[Jk]:"fire-data-connect",[Zk]:"fire-rtdb-compat",[eR]:"fire-fn",[tR]:"fire-fn-compat",[nR]:"fire-iid",[rR]:"fire-iid-compat",[iR]:"fire-fcm",[sR]:"fire-fcm-compat",[oR]:"fire-perf",[aR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[hR]:"fire-gcs-compat",[dR]:"fire-fst",[pR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,_R=new Map,fp=new Map;function N_(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if(fp.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,t);for(const n of lh.values())N_(n,t);for(const n of _R.values())N_(n,t);return!0}function qp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new su("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=gR;function pw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:dp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ji.create("bad-app-name",{appName:String(o)});if(n||(n=cw()),!n)throw Ji.create("no-options");const a=lh.get(o);if(a){if(ah(n,a.options)&&ah(i,a.config))return a;throw Ji.create("duplicate-app",{appName:o})}const c=new Rk(o);for(const p of fp.values())c.addComponent(p);const f=new wR(n,i,c);return lh.set(o,f),f}function mw(t=dp){const e=lh.get(t);if(!e&&t===dp&&cw())return pw();if(!e)throw Ji.create("no-app",{appName:t});return e}function Zi(t,e,n){var i;let o=(i=yR[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(f.join(" "));return}la(new qs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",TR=1,Bl="firebase-heartbeat-store";let Qf=null;function gw(){return Qf||(Qf=Uk(ER,TR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),Qf}async function SR(t){try{const n=(await gw()).transaction(Bl),i=await n.objectStore(Bl).get(yw(t));return await n.done,i}catch(e){if(e instanceof gi)ci.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(n.message)}}}async function x_(t,e){try{const i=(await gw()).transaction(Bl,"readwrite");await i.objectStore(Bl).put(e,yw(t)),await i.done}catch(n){if(n instanceof gi)ci.warn(n.message);else{const i=Ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(i.message)}}}function yw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=1024,kR=30*24*60*60*1e3;class RR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=O_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=kR}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=O_(),{heartbeatsToSend:i,unsentEntries:o}=PR(this._heartbeatsCache.heartbeats),a=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ci.warn(n),""}}}function O_(){return new Date().toISOString().substring(0,10)}function PR(t,e=IR){const n=[];let i=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),M_(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),M_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class AR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pk()?mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function M_(t){return oh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){la(new qs("platform-logger",e=>new Bk(e),"PRIVATE")),la(new qs("heartbeat",e=>new RR(e),"PRIVATE")),Zi(hp,D_,t),Zi(hp,D_,"esm2017"),Zi("fire-js","")}CR("");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,_w;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function R(){}R.prototype=I.prototype,D.D=I.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(C,x,L){for(var P=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)P[mt-2]=arguments[mt];return I.prototype[x].apply(C,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,R){R||(R=0);var C=Array(16);if(typeof I=="string")for(var x=0;16>x;++x)C[x]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(x=0;16>x;++x)C[x]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=D.g[0],R=D.g[1],x=D.g[2];var L=D.g[3],P=I+(L^R&(x^L))+C[0]+3614090360&4294967295;I=R+(P<<7&4294967295|P>>>25),P=L+(x^I&(R^x))+C[1]+3905402710&4294967295,L=I+(P<<12&4294967295|P>>>20),P=x+(R^L&(I^R))+C[2]+606105819&4294967295,x=L+(P<<17&4294967295|P>>>15),P=R+(I^x&(L^I))+C[3]+3250441966&4294967295,R=x+(P<<22&4294967295|P>>>10),P=I+(L^R&(x^L))+C[4]+4118548399&4294967295,I=R+(P<<7&4294967295|P>>>25),P=L+(x^I&(R^x))+C[5]+1200080426&4294967295,L=I+(P<<12&4294967295|P>>>20),P=x+(R^L&(I^R))+C[6]+2821735955&4294967295,x=L+(P<<17&4294967295|P>>>15),P=R+(I^x&(L^I))+C[7]+4249261313&4294967295,R=x+(P<<22&4294967295|P>>>10),P=I+(L^R&(x^L))+C[8]+1770035416&4294967295,I=R+(P<<7&4294967295|P>>>25),P=L+(x^I&(R^x))+C[9]+2336552879&4294967295,L=I+(P<<12&4294967295|P>>>20),P=x+(R^L&(I^R))+C[10]+4294925233&4294967295,x=L+(P<<17&4294967295|P>>>15),P=R+(I^x&(L^I))+C[11]+2304563134&4294967295,R=x+(P<<22&4294967295|P>>>10),P=I+(L^R&(x^L))+C[12]+1804603682&4294967295,I=R+(P<<7&4294967295|P>>>25),P=L+(x^I&(R^x))+C[13]+4254626195&4294967295,L=I+(P<<12&4294967295|P>>>20),P=x+(R^L&(I^R))+C[14]+2792965006&4294967295,x=L+(P<<17&4294967295|P>>>15),P=R+(I^x&(L^I))+C[15]+1236535329&4294967295,R=x+(P<<22&4294967295|P>>>10),P=I+(x^L&(R^x))+C[1]+4129170786&4294967295,I=R+(P<<5&4294967295|P>>>27),P=L+(R^x&(I^R))+C[6]+3225465664&4294967295,L=I+(P<<9&4294967295|P>>>23),P=x+(I^R&(L^I))+C[11]+643717713&4294967295,x=L+(P<<14&4294967295|P>>>18),P=R+(L^I&(x^L))+C[0]+3921069994&4294967295,R=x+(P<<20&4294967295|P>>>12),P=I+(x^L&(R^x))+C[5]+3593408605&4294967295,I=R+(P<<5&4294967295|P>>>27),P=L+(R^x&(I^R))+C[10]+38016083&4294967295,L=I+(P<<9&4294967295|P>>>23),P=x+(I^R&(L^I))+C[15]+3634488961&4294967295,x=L+(P<<14&4294967295|P>>>18),P=R+(L^I&(x^L))+C[4]+3889429448&4294967295,R=x+(P<<20&4294967295|P>>>12),P=I+(x^L&(R^x))+C[9]+568446438&4294967295,I=R+(P<<5&4294967295|P>>>27),P=L+(R^x&(I^R))+C[14]+3275163606&4294967295,L=I+(P<<9&4294967295|P>>>23),P=x+(I^R&(L^I))+C[3]+4107603335&4294967295,x=L+(P<<14&4294967295|P>>>18),P=R+(L^I&(x^L))+C[8]+1163531501&4294967295,R=x+(P<<20&4294967295|P>>>12),P=I+(x^L&(R^x))+C[13]+2850285829&4294967295,I=R+(P<<5&4294967295|P>>>27),P=L+(R^x&(I^R))+C[2]+4243563512&4294967295,L=I+(P<<9&4294967295|P>>>23),P=x+(I^R&(L^I))+C[7]+1735328473&4294967295,x=L+(P<<14&4294967295|P>>>18),P=R+(L^I&(x^L))+C[12]+2368359562&4294967295,R=x+(P<<20&4294967295|P>>>12),P=I+(R^x^L)+C[5]+4294588738&4294967295,I=R+(P<<4&4294967295|P>>>28),P=L+(I^R^x)+C[8]+2272392833&4294967295,L=I+(P<<11&4294967295|P>>>21),P=x+(L^I^R)+C[11]+1839030562&4294967295,x=L+(P<<16&4294967295|P>>>16),P=R+(x^L^I)+C[14]+4259657740&4294967295,R=x+(P<<23&4294967295|P>>>9),P=I+(R^x^L)+C[1]+2763975236&4294967295,I=R+(P<<4&4294967295|P>>>28),P=L+(I^R^x)+C[4]+1272893353&4294967295,L=I+(P<<11&4294967295|P>>>21),P=x+(L^I^R)+C[7]+4139469664&4294967295,x=L+(P<<16&4294967295|P>>>16),P=R+(x^L^I)+C[10]+3200236656&4294967295,R=x+(P<<23&4294967295|P>>>9),P=I+(R^x^L)+C[13]+681279174&4294967295,I=R+(P<<4&4294967295|P>>>28),P=L+(I^R^x)+C[0]+3936430074&4294967295,L=I+(P<<11&4294967295|P>>>21),P=x+(L^I^R)+C[3]+3572445317&4294967295,x=L+(P<<16&4294967295|P>>>16),P=R+(x^L^I)+C[6]+76029189&4294967295,R=x+(P<<23&4294967295|P>>>9),P=I+(R^x^L)+C[9]+3654602809&4294967295,I=R+(P<<4&4294967295|P>>>28),P=L+(I^R^x)+C[12]+3873151461&4294967295,L=I+(P<<11&4294967295|P>>>21),P=x+(L^I^R)+C[15]+530742520&4294967295,x=L+(P<<16&4294967295|P>>>16),P=R+(x^L^I)+C[2]+3299628645&4294967295,R=x+(P<<23&4294967295|P>>>9),P=I+(x^(R|~L))+C[0]+4096336452&4294967295,I=R+(P<<6&4294967295|P>>>26),P=L+(R^(I|~x))+C[7]+1126891415&4294967295,L=I+(P<<10&4294967295|P>>>22),P=x+(I^(L|~R))+C[14]+2878612391&4294967295,x=L+(P<<15&4294967295|P>>>17),P=R+(L^(x|~I))+C[5]+4237533241&4294967295,R=x+(P<<21&4294967295|P>>>11),P=I+(x^(R|~L))+C[12]+1700485571&4294967295,I=R+(P<<6&4294967295|P>>>26),P=L+(R^(I|~x))+C[3]+2399980690&4294967295,L=I+(P<<10&4294967295|P>>>22),P=x+(I^(L|~R))+C[10]+4293915773&4294967295,x=L+(P<<15&4294967295|P>>>17),P=R+(L^(x|~I))+C[1]+2240044497&4294967295,R=x+(P<<21&4294967295|P>>>11),P=I+(x^(R|~L))+C[8]+1873313359&4294967295,I=R+(P<<6&4294967295|P>>>26),P=L+(R^(I|~x))+C[15]+4264355552&4294967295,L=I+(P<<10&4294967295|P>>>22),P=x+(I^(L|~R))+C[6]+2734768916&4294967295,x=L+(P<<15&4294967295|P>>>17),P=R+(L^(x|~I))+C[13]+1309151649&4294967295,R=x+(P<<21&4294967295|P>>>11),P=I+(x^(R|~L))+C[4]+4149444226&4294967295,I=R+(P<<6&4294967295|P>>>26),P=L+(R^(I|~x))+C[11]+3174756917&4294967295,L=I+(P<<10&4294967295|P>>>22),P=x+(I^(L|~R))+C[2]+718787259&4294967295,x=L+(P<<15&4294967295|P>>>17),P=R+(L^(x|~I))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(x+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+L&4294967295}i.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var R=I-this.blockSize,C=this.B,x=this.h,L=0;L<I;){if(x==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<I;)if(C[x++]=D.charCodeAt(L++),x==this.blockSize){o(this,C),x=0;break}}else for(;L<I;)if(C[x++]=D[L++],x==this.blockSize){o(this,C),x=0;break}}this.h=x,this.o+=I},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var R=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=R&255,R/=256;for(this.u(D),D=Array(16),I=R=0;4>I;++I)for(var C=0;32>C;C+=8)D[R++]=this.g[I]>>>C&255;return D};function a(D,I){var R=f;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=I(D)}function c(D,I){this.h=I;for(var R=[],C=!0,x=D.length-1;0<=x;x--){var L=D[x]|0;C&&L==I||(R[x]=L,C=!1)}this.g=R}var f={};function p(D){return-128<=D&&128>D?a(D,function(I){return new c([I|0],0>I?-1:0)}):new c([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return j(y(-D));for(var I=[],R=1,C=0;D>=R;C++)I[C]=D/R|0,R*=4294967296;return new c(I,0)}function w(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return j(w(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(I,8)),C=T,x=0;x<D.length;x+=8){var L=Math.min(8,D.length-x),P=parseInt(D.substring(x,x+L),I);8>L?(L=y(Math.pow(I,L)),C=C.j(L).add(y(P))):(C=C.j(R),C=C.add(y(P)))}return C}var T=p(0),S=p(1),O=p(16777216);t=c.prototype,t.m=function(){if(W(this))return-j(this).m();for(var D=0,I=1,R=0;R<this.g.length;R++){var C=this.i(R);D+=(0<=C?C:4294967296+C)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(F(this))return"0";if(W(this))return"-"+j(this).toString(D);for(var I=y(Math.pow(D,6)),R=this,C="";;){var x=pe(R,I).g;R=Y(R,x.j(I));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=x,F(R))return L+C;for(;6>L.length;)L="0"+L;C=L+C}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function F(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function W(D){return D.h==-1}t.l=function(D){return D=Y(this,D),W(D)?-1:F(D)?0:1};function j(D){for(var I=D.g.length,R=[],C=0;C<I;C++)R[C]=~D.g[C];return new c(R,~D.h).add(S)}t.abs=function(){return W(this)?j(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],C=0,x=0;x<=I;x++){var L=C+(this.i(x)&65535)+(D.i(x)&65535),P=(L>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);C=P>>>16,L&=65535,P&=65535,R[x]=P<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Y(D,I){return D.add(j(I))}t.j=function(D){if(F(this)||F(D))return T;if(W(this))return W(D)?j(this).j(j(D)):j(j(this).j(D));if(W(D))return j(this.j(j(D)));if(0>this.l(O)&&0>D.l(O))return y(this.m()*D.m());for(var I=this.g.length+D.g.length,R=[],C=0;C<2*I;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<D.g.length;x++){var L=this.i(C)>>>16,P=this.i(C)&65535,mt=D.i(x)>>>16,Ht=D.i(x)&65535;R[2*C+2*x]+=P*Ht,X(R,2*C+2*x),R[2*C+2*x+1]+=L*Ht,X(R,2*C+2*x+1),R[2*C+2*x+1]+=P*mt,X(R,2*C+2*x+1),R[2*C+2*x+2]+=L*mt,X(R,2*C+2*x+2)}for(C=0;C<I;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=I;C<2*I;C++)R[C]=0;return new c(R,0)};function X(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function re(D,I){this.g=D,this.h=I}function pe(D,I){if(F(I))throw Error("division by zero");if(F(D))return new re(T,T);if(W(D))return I=pe(j(D),I),new re(j(I.g),j(I.h));if(W(I))return I=pe(D,j(I)),new re(j(I.g),I.h);if(30<D.g.length){if(W(D)||W(I))throw Error("slowDivide_ only works with positive integers.");for(var R=S,C=I;0>=C.l(D);)R=Ce(R),C=Ce(C);var x=Re(R,1),L=Re(C,1);for(C=Re(C,2),R=Re(R,2);!F(C);){var P=L.add(C);0>=P.l(D)&&(x=x.add(R),L=P),C=Re(C,1),R=Re(R,1)}return I=Y(D,x.j(I)),new re(x,I)}for(x=T;0<=D.l(I);){for(R=Math.max(1,Math.floor(D.m()/I.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),L=y(R),P=L.j(I);W(P)||0<P.l(D);)R-=C,L=y(R),P=L.j(I);F(L)&&(L=S),x=x.add(L),D=Y(D,P)}return new re(x,D)}t.A=function(D){return pe(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],C=0;C<I;C++)R[C]=this.i(C)&D.i(C);return new c(R,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],C=0;C<I;C++)R[C]=this.i(C)|D.i(C);return new c(R,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),R=[],C=0;C<I;C++)R[C]=this.i(C)^D.i(C);return new c(R,this.h^D.h)};function Ce(D){for(var I=D.g.length+1,R=[],C=0;C<I;C++)R[C]=D.i(C)<<1|D.i(C-1)>>>31;return new c(R,D.h)}function Re(D,I){var R=I>>5;I%=32;for(var C=D.g.length-R,x=[],L=0;L<C;L++)x[L]=0<I?D.i(L+R)>>>I|D.i(L+R+1)<<32-I:D.i(L+R);return new c(x,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_w=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,$s=c}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vw,Dl,ww,Hc,pp,Ew,Tw,Sw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var V=u[E];if(!(V in _))break e;_=_[V]}u=u[u.length-1],E=_[u],m=m(E),m!=E&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var _=0,E=!1,V={next:function(){if(!E&&_<u.length){var B=_++;return{value:m(B,u[B]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),u.apply(m,V)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function O(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function F(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(E,V,B){for(var te=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)te[Ke-2]=arguments[Ke];return m.prototype[V].apply(E,te)}}function W(u){const m=u.length;if(0<m){const _=Array(m);for(let E=0;E<m;E++)_[E]=u[E];return _}return[]}function j(u,m){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(p(E)){const V=u.length||0,B=E.length||0;u.length=V+B;for(let te=0;te<B;te++)u[V+te]=E[te]}else u.push(E)}}class Y{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){return/^[\s\xa0]*$/.test(u)}function re(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function pe(u){return pe[" "](u),u}pe[" "]=function(){};var Ce=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Re(u,m,_){for(const E in u)m.call(_,u[E],E,u)}function D(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let _,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(_ in E)u[_]=E[_];for(let B=0;B<R.length;B++)_=R[B],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function L(u){f.setTimeout(()=>{throw u},0)}function P(){var u=_e;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,_){const E=Ht.get();E.set(m,_),this.h?this.h.next=E:this.g=E,this.h=E}}var Ht=new Y(()=>new Yt,u=>u.reset());class Yt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,ne=!1,_e=new mt,oe=()=>{const u=f.Promise.resolve(void 0);Qe=()=>{u.then(M)}};var M=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){L(_)}var m=Ht;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ne=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u}();function Ne(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ce){e:{try{pe(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}F(Ne,ge);var Fe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ze(u,m,_,E,V){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!E,this.ha=V,this.key=++qe,this.da=this.fa=!1}function xt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Or(u){this.src=u,this.g={},this.h=0}Or.prototype.add=function(u,m,_,E,V){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var te=vi(u,m,E,V);return-1<te?(m=u[te],_||(m.fa=!1)):(m=new Ze(m,this.src,B,!!E,V),m.fa=_,u.push(m)),m};function eo(u,m){var _=m.type;if(_ in u.g){var E=u.g[_],V=Array.prototype.indexOf.call(E,m,void 0),B;(B=0<=V)&&Array.prototype.splice.call(E,V,1),B&&(xt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function vi(u,m,_,E){for(var V=0;V<u.length;++V){var B=u[V];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==E)return V}return-1}var cs="closure_lm_"+(1e6*Math.random()|0),to={};function Da(u,m,_,E,V){if(Array.isArray(m)){for(var B=0;B<m.length;B++)Da(u,m[B],_,E,V);return null}return _=Oa(_),u&&u[Ye]?u.K(m,_,y(E)?!!E.capture:!1,V):Na(u,m,_,!1,E,V)}function Na(u,m,_,E,V,B){if(!m)throw Error("Invalid event type");var te=y(V)?!!V.capture:!!V,Ke=ro(u);if(Ke||(u[cs]=Ke=new Or(u)),_=Ke.add(m,_,E,te,B),_.proxy)return _;if(E=_u(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)De||(V=te),V===void 0&&(V=!1),u.addEventListener(m.toString(),E,V);else if(u.attachEvent)u.attachEvent(Lr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function _u(){function u(_){return m.call(u.src,u.listener,_)}const m=xa;return u}function no(u,m,_,E,V){if(Array.isArray(m))for(var B=0;B<m.length;B++)no(u,m[B],_,E,V);else E=y(E)?!!E.capture:!!E,_=Oa(_),u&&u[Ye]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],_=vi(B,_,E,V),-1<_&&(xt(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=ro(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vi(m,_,E,V)),(_=-1<u?m[u]:null)&&Mr(_))}function Mr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ye])eo(m.i,u);else{var _=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(_,E,u.capture):m.detachEvent?m.detachEvent(Lr(_),E):m.addListener&&m.removeListener&&m.removeListener(E),(_=ro(m))?(eo(_,u),_.h==0&&(_.src=null,m[cs]=null)):xt(u)}}}function Lr(u){return u in to?to[u]:to[u]="on"+u}function xa(u,m){if(u.da)u=!0;else{m=new Ne(m,this);var _=u.listener,E=u.ha||u.src;u.fa&&Mr(u),u=_.call(E,m)}return u}function ro(u){return u=u[cs],u instanceof Or?u:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oa(u){return typeof u=="function"?u:(u[io]||(u[io]=function(m){return u.handleEvent(m)}),u[io])}function St(){q.call(this),this.i=new Or(this),this.M=this,this.F=null}F(St,q),St.prototype[Ye]=!0,St.prototype.removeEventListener=function(u,m,_,E){no(this,u,m,_,E)};function It(u,m){var _,E=u.F;if(E)for(_=[];E;E=E.F)_.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var V=m;m=new ge(E,u),C(m,V)}if(V=!0,_)for(var B=_.length-1;0<=B;B--){var te=m.g=_[B];V=Vr(te,E,!0,m)&&V}if(te=m.g=u,V=Vr(te,E,!0,m)&&V,V=Vr(te,E,!1,m)&&V,_)for(B=0;B<_.length;B++)te=m.g=_[B],V=Vr(te,E,!1,m)&&V}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],E=0;E<_.length;E++)xt(_[E]);delete u.g[m],u.h--}}this.F=null},St.prototype.K=function(u,m,_,E){return this.i.add(String(u),m,!1,_,E)},St.prototype.L=function(u,m,_,E){return this.i.add(String(u),m,!0,_,E)};function Vr(u,m,_,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,B=0;B<m.length;++B){var te=m[B];if(te&&!te.da&&te.capture==_){var Ke=te.listener,kt=te.ha||te.src;te.fa&&eo(u.i,te),V=Ke.call(kt,E)!==!1&&V}}return V&&!E.defaultPrevented}function Ma(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function wi(u){u.g=Ma(()=>{u.g=null,u.i&&(u.i=!1,wi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class hs extends q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:wi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(u){q.call(this),this.h=u,this.g={}}F(ds,q);var La=[];function Va(u){Re(u.g,function(m,_){this.g.hasOwnProperty(_)&&Mr(m)},u),u.g={}}ds.prototype.N=function(){ds.aa.N.call(this),Va(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ba=f.JSON.stringify,Fa=f.JSON.parse,Ua=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function fs(){}fs.prototype.h=null;function so(u){return u.h||(u.h=u.i())}function oo(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){ge.call(this,"d")}F(ur,ge);function ao(){ge.call(this,"c")}F(ao,ge);var cr={},ja=null;function ps(){return ja=ja||new St}cr.La="serverreachability";function za(u){ge.call(this,cr.La,u)}F(za,ge);function br(u){const m=ps();It(m,new za(m))}cr.STAT_EVENT="statevent";function Ba(u,m){ge.call(this,cr.STAT_EVENT,u),this.stat=m}F(Ba,ge);function gt(u){const m=ps();It(m,new Ba(m,u))}cr.Ma="timingevent";function lo(u,m){ge.call(this,cr.Ma,u),this.size=m}F(lo,ge);function Bn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function gs(u,m,_,E,V,B){u.info(function(){if(u.g)if(B)for(var te="",Ke=B.split("&"),kt=0;kt<Ke.length;kt++){var Ue=Ke[kt].split("=");if(1<Ue.length){var Ot=Ue[0];Ue=Ue[1];var wt=Ot.split("_");te=2<=wt.length&&wt[1]=="type"?te+(Ot+"="+Ue+"&"):te+(Ot+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+m+`
`+_+`
`+te})}function uo(u,m,_,E,V,B,te){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+m+`
`+_+`
`+B+" "+te})}function Wn(u,m,_,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+dd(u,_)+(E?" "+E:"")})}function Wa(u,m){u.info(function(){return"TIMEOUT: "+m})}ms.prototype.info=function(){};function dd(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var E=_[u];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var te=1;te<V.length;te++)V[te]=""}}}}return ba(_)}catch{return m}}var co={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function ys(){}F(ys,fs),ys.prototype.g=function(){return new XMLHttpRequest},ys.prototype.i=function(){return{}},$n=new ys;function Hn(u,m,_,E){this.j=u,this.i=m,this.l=_,this.R=E||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wu}function wu(){this.i=null,this.g="",this.h=!1}var $a={},ho={};function fo(u,m,_){u.L=1,u.v=ki(wn(m)),u.m=_,u.P=!0,Ha(u,null)}function Ha(u,m){u.F=Date.now(),et(u),u.A=wn(u.v);var _=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Pi(_.i,"t",E),u.C=0,_=u.j.J,u.h=new wu,u.g=Fu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new hs(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,E=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(La[0]=V.toString()),V=La);for(var B=0;B<V.length;B++){var te=Da(_,V[B],E||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),br(),gs(u.i,u.u,u.A,u.l,u.R,u.m)}Hn.prototype.ca=function(u){u=u.target;const m=this.M;m&&un(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const wt=un(this.g);var m=this.g.Ba();const xn=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Xa(this.g)))){this.J||wt!=4||m==7||(m==8||0>=xn?br(3):br(2)),_s(this);var _=this.g.Z();this.X=_;t:if(Eu(this)){var E=Xa(this.g);u="";var V=E.length,B=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),Ei(this);var te="";break t}this.h.i=new f.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(B&&m==V-1)});E.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=_==200,uo(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,kt=this.g;if((Ke=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ke)){var Ue=Ke;break t}}Ue=null}if(_=Ue)Wn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,_);else{this.o=!1,this.s=3,gt(12),Dn(this),Ei(this);break e}}if(this.P){_=!0;let Tn;for(;!this.J&&this.C<te.length;)if(Tn=fd(this,te),Tn==ho){wt==4&&(this.s=4,gt(14),_=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==$a){this.s=4,gt(15),Wn(this.i,this.l,te,"[Invalid Chunk]"),_=!1;break}else Wn(this.i,this.l,Tn,null),Ya(this,Tn);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||te.length!=0||this.h.h||(this.s=1,gt(16),_=!1),this.o=this.o&&_,!_)Wn(this.i,this.l,te,"[Invalid Chunked Response]"),Dn(this),Ei(this);else if(0<te.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Za(Ot),Ot.M=!0,gt(11))}}else Wn(this.i,this.l,te,null),Ya(this,te);wt==4&&Dn(this),this.o&&!this.J&&(wt==4?Io(this.j,this):(this.o=!1,et(this)))}else vo(this.g),_==400&&0<te.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Dn(this),Ei(this)}}}catch{}finally{}};function Eu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fd(u,m){var _=u.C,E=m.indexOf(`
`,_);return E==-1?ho:(_=Number(m.substring(_,E)),isNaN(_)?$a:(E+=1,E+_>m.length?ho:(m=m.slice(E,E+_),u.C=E+_,m)))}Hn.prototype.cancel=function(){this.J=!0,Dn(this)};function et(u){u.S=Date.now()+u.I,Tu(u,u.I)}function Tu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Bn(S(u.ba,u),m)}function _s(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Wa(this.i,this.A),this.L!=2&&(br(),gt(17)),Dn(this),this.s=2,Ei(this)):Tu(this,this.S-u)};function Ei(u){u.j.G==0||u.J||Io(u.j,u)}function Dn(u){_s(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Va(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ya(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||nn(_.h,u))){if(!u.K&&nn(_.h,u)&&_.G==3){try{var E=_.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)So(_),Qn(_);else break e;To(_),gt(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=Bn(S(_.Za,_),6e3));if(1>=Iu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Br(_,11)}else if((u.K||_.g==u)&&So(_),!X(m))for(V=_.Da.g.parse(m),m=0;m<V.length;m++){let Ue=V[m];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const Ot=Ue[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const wt=Ue[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const xn=Ue[5];xn!=null&&typeof xn=="number"&&0<xn&&(E=1.5*xn,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Tn=u.g;if(Tn){const ks=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var B=E.h;B.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(qa(B,B.h),B.h=null))}if(E.D){const Ro=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(E.ya=Ro,Je(E.I,E.D,Ro))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var te=u;if(E.qa=bu(E,E.J?E.ia:null,E.W),te.K){ku(E.h,te);var Ke=te,kt=E.L;kt&&(Ke.I=kt),Ke.B&&(_s(Ke),et(Ke)),E.g=te}else Is(E);0<_.i.length&&pr(_)}else Ue[0]!="stop"&&Ue[0]!="close"||Br(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Br(_,7):Ut(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}br(4)}catch{}}var Su=class{constructor(u,m){this.g=u,this.map=m}};function vs(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Iu(u){return u.h?1:u.g?u.g.size:0}function nn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qa(u,m){u.g?u.g.add(m):u.h=m}function ku(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vs.prototype.cancel=function(){if(this.i=Ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ru(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return W(u.i)}function po(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,E=0;E<_;E++)m.push(u[E]);return m}m=[],_=0;for(E in u)m[_++]=u[E];return m}function mo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const E in u)m[_++]=E;return m}}}function Ti(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=mo(u),E=po(u),V=E.length,B=0;B<V;B++)m.call(void 0,E[B],_&&_[B],u)}var ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pd(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var E=u[_].indexOf("="),V=null;if(0<=E){var B=u[_].substring(0,E);V=u[_].substring(E+1)}else B=u[_];m(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Fr){this.h=u.h,Es(this,u.j),this.o=u.o,this.g=u.g,Si(this,u.s),this.l=u.l;var m=u.i,_=new hr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ii(this,_),this.m=u.m}else u&&(m=String(u).match(ws))?(this.h=!1,Es(this,m[1]||"",!0),this.o=Ve(m[2]||""),this.g=Ve(m[3]||"",!0),Si(this,m[4]),this.l=Ve(m[5]||"",!0),Ii(this,m[6]||"",!0),this.m=Ve(m[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}Fr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ri(m,go,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ri(m,go,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ri(_,_.charAt(0)=="/"?Cu:Au,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ri(_,Ga)),u.join("")};function wn(u){return new Fr(u)}function Es(u,m,_){u.j=_?Ve(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Si(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ii(u,m,_){m instanceof hr?(u.i=m,dr(u.i,u.h)):(_||(m=Ri(m,Du)),u.i=new hr(m,u.h))}function Je(u,m,_){u.i.set(m,_)}function ki(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ri(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Pu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var go=/[#\/\?@]/g,Au=/[#\?:]/g,Cu=/[#\?]/g,Du=/[#\?@]/g,Ga=/#/g;function hr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ft(u){u.g||(u.g=new Map,u.h=0,u.i&&pd(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=hr.prototype,t.add=function(u,m){Ft(this),this.i=null,u=Nn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Yn(u,m){Ft(u),m=Nn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qn(u,m){return Ft(u),m=Nn(u,m),u.g.has(m)}t.forEach=function(u,m){Ft(this),this.g.forEach(function(_,E){_.forEach(function(V){u.call(m,V,E,this)},this)},this)},t.na=function(){Ft(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let E=0;E<m.length;E++){const V=u[E];for(let B=0;B<V.length;B++)_.push(m[E])}return _},t.V=function(u){Ft(this);let m=[];if(typeof u=="string")qn(this,u)&&(m=m.concat(this.g.get(Nn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},t.set=function(u,m){return Ft(this),this.i=null,u=Nn(this,u),qn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Pi(u,m,_){Yn(u,m),0<_.length&&(u.i=null,u.g.set(Nn(u,m),W(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var E=m[_];const B=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var V=B;te[E]!==""&&(V+="="+encodeURIComponent(String(te[E]))),u.push(V)}}return this.i=u.join("&")};function Nn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function dr(u,m){m&&!u.j&&(Ft(u),u.i=null,u.g.forEach(function(_,E){var V=E.toLowerCase();E!=V&&(Yn(this,E),Pi(this,V,_))},u)),u.j=m}function md(u,m){const _=new ms;if(f.Image){const E=new Image;E.onload=O(ln,_,"TestLoadImage: loaded",!0,m,E),E.onerror=O(ln,_,"TestLoadImage: error",!1,m,E),E.onabort=O(ln,_,"TestLoadImage: abort",!1,m,E),E.ontimeout=O(ln,_,"TestLoadImage: timeout",!1,m,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Nu(u,m){const _=new ms,E=new AbortController,V=setTimeout(()=>{E.abort(),ln(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(V),B.ok?ln(_,"TestPingServer: ok",!0,m):ln(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),ln(_,"TestPingServer: error",!1,m)})}function ln(u,m,_,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(_)}catch{}}function gd(){this.g=new Ua}function xu(u,m,_){const E=_||"";try{Ti(u,function(V,B){let te=V;y(V)&&(te=ba(V)),m.push(E+B+"="+encodeURIComponent(te))})}catch(V){throw m.push(E+"type="+encodeURIComponent("_badmap")),V}}function Ur(u){this.l=u.Ub||null,this.j=u.eb||!1}F(Ur,fs),Ur.prototype.g=function(){return new Ts(this.l,this.j)},Ur.prototype.i=function(u){return function(){return u}}({});function Ts(u,m){St.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ts,St),t=Ts.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ou(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ou(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Kn(this),this.readyState==3&&Ou(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},t.Qa=function(u){this.g&&(this.response=u,Gn(this))},t.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jr(u){let m="";return Re(u,function(_,E){m+=E,m+=":",m+=_,m+=`\r
`}),m}function Ai(u,m,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=jr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Je(u,m,_))}function ot(u){St.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(ot,St);var yd=/^https?$/i,Ka=["POST","PUT"];t=ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?so(this.o):so($n),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ss(this,B);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)_.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())_.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),V=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ka,m,void 0))||E||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of _)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_o(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Ss(this,B)}};function Ss(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,yo(u),En(u)}function yo(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,It(this,"complete"),It(this,"abort"),En(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},t.bb=function(){Qa(this)};function Qa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||un(u)!=4||u.Z()!=2)){if(u.u&&un(u)==4)Ma(u.Ea,0,u);else if(It(u,"readystatechange"),un(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var E;if(E=te===0){var V=String(u.D).match(ws)[1]||null;!V&&f.self&&f.self.location&&(V=f.self.location.protocol.slice(0,-1)),E=!yd.test(V?V.toLowerCase():"")}_=E}if(_)It(u,"complete"),It(u,"success");else{u.m=6;try{var B=2<un(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",yo(u)}}finally{En(u)}}}}function En(u,m){if(u.g){_o(u);const _=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||It(u,"ready");try{_.onreadystatechange=E}catch{}}}function _o(u){u.I&&(f.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function un(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fa(m)}};function Xa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vo(u){const m={};u=(u.g&&2<=un(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(X(u[E]))continue;var _=x(u[E]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[V]||[];m[V]=B,B.push(_)}D(m,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ja(u){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,u),this.cb=fr("retryDelaySeedMs",1e4,u),this.Wa=fr("forwardChannelMaxRetries",2,u),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vs(u&&u.concurrentRequestLimit),this.Da=new gd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ja.prototype,t.la=8,t.G=1,t.connect=function(u,m,_,E){gt(0),this.W=u,this.H=m||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=bu(this,null,this.W),pr(this)};function Ut(u){if(wo(u),u.G==3){var m=u.U++,_=wn(u.I);if(Je(_,"SID",u.K),Je(_,"RID",m),Je(_,"TYPE","terminate"),zr(u,_),m=new Hn(u,u.j,m),m.L=2,m.v=ki(wn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.v,_=!0),_||(m.g=Fu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),et(m)}Vu(u)}function Qn(u){u.g&&(Za(u),u.g.cancel(),u.g=null)}function wo(u){Qn(u),u.u&&(f.clearTimeout(u.u),u.u=null),So(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function pr(u){if(!vn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Qe||oe(),ne||(Qe(),ne=!0),_e.add(m,u),u.B=0}}function _d(u,m){return Iu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Bn(S(u.Ga,u,m),Lu(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Hn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=I(B),C(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Ci(this,V,m),_=wn(this.I),Je(_,"RID",u),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),zr(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(jr(B)))+"&"+m:this.m&&Ai(_,this.m,B)),qa(this.h,V),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",m),Je(_,"SID","null"),V.T=!0,fo(V,_,null)):fo(V,_,m),this.G=2}}else this.G==3&&(u?Eo(this,u):this.i.length==0||vn(this.h)||Eo(this))};function Eo(u,m){var _;m?_=m.l:_=u.U++;const E=wn(u.I);Je(E,"SID",u.K),Je(E,"RID",_),Je(E,"AID",u.T),zr(u,E),u.m&&u.o&&Ai(E,u.m,u.o),_=new Hn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ci(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qa(u.h,_),fo(_,E,m)}function zr(u,m){u.H&&Re(u.H,function(_,E){Je(m,E,_)}),u.l&&Ti({},function(_,E){Je(m,E,_)})}function Ci(u,m,_){_=Math.min(u.i.length,_);var E=u.l?S(u.l.Na,u.l,u):null;e:{var V=u.i;let B=-1;for(;;){const te=["count="+_];B==-1?0<_?(B=V[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let Ke=!0;for(let kt=0;kt<_;kt++){let Ue=V[kt].g;const Ot=V[kt].map;if(Ue-=B,0>Ue)B=Math.max(0,V[kt].g-100),Ke=!1;else try{xu(Ot,te,"req"+Ue+"_")}catch{E&&E(Ot)}}if(Ke){E=te.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,E}function Is(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Qe||oe(),ne||(Qe(),ne=!0),_e.add(m,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Bn(S(u.Fa,u),Lu(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Bn(S(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Qn(this),Mu(this))};function Za(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Mu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=wn(u.qa);Je(m,"RID","rpc"),Je(m,"SID",u.K),Je(m,"AID",u.T),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(m,"TO",u.ja),Je(m,"TYPE","xmlhttp"),zr(u,m),u.m&&u.o&&Ai(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ki(wn(m)),_.m=null,_.P=!0,Ha(_,u)}t.Za=function(){this.C!=null&&(this.C=null,Qn(this),To(this),gt(19))};function So(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Io(u,m){var _=null;if(u.g==m){So(u),Za(u),u.g=null;var E=2}else if(nn(u.h,m))_=m.D,ku(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var V=u.B;E=ps(),It(E,new lo(E,_)),pr(u)}else Is(u);else if(V=m.s,V==3||V==0&&0<m.X||!(E==1&&_d(u,m)||E==2&&To(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),V){case 1:Br(u,5);break;case 4:Br(u,10);break;case 3:Br(u,6);break;default:Br(u,2)}}}function Lu(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Br(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),E=u.Xa;const V=!E;E=new Fr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Es(E,"https"),ki(E),V?md(E.toString(),_):Nu(E.toString(),_)}else gt(2);u.G=0,u.l&&u.l.sa(m),Vu(u),wo(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Vu(u){if(u.G=0,u.ka=[],u.l){const m=Ru(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function bu(u,m,_){var E=_ instanceof Fr?wn(_):new Fr(_);if(E.g!="")m&&(E.g=m+"."+E.g),Si(E,E.s);else{var V=f.location;E=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var B=new Fr(null);E&&Es(B,E),m&&(B.g=m),V&&Si(B,V),_&&(B.l=_),E=B}return _=u.D,m=u.ya,_&&m&&Je(E,_,m),Je(E,"VER",u.la),zr(u,E),E}function Fu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ot(new Ur({eb:_})):new ot(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function el(){}t=el.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ko(){}ko.prototype.g=function(u,m){return new rn(u,m)};function rn(u,m){St.call(this),this.g=new Ja(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!X(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new mr(this)}F(rn,St),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ut(this.g)},rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ba(u),u=_);m.i.push(new Su(m.Ya++,u)),m.G==3&&pr(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,rn.aa.N.call(this)};function Uu(u){ur.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(Uu,ur);function ju(){ao.call(this),this.status=1}F(ju,ao);function mr(u){this.g=u}F(mr,el),mr.prototype.ua=function(){It(this.g,"a")},mr.prototype.ta=function(u){It(this.g,new Uu(u))},mr.prototype.sa=function(u){It(this.g,new ju)},mr.prototype.ra=function(){It(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Sw=function(){return new ko},Tw=function(){return ps()},Ew=cr,pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,Hc=co,vu.COMPLETE="complete",ww=vu,oo.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",St.prototype.listen=St.prototype.K,Dl=oo,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,vw=ot}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const V_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Hp("@firebase/firestore");function Go(){return Gs.logLevel}function ae(t,...e){if(Gs.logLevel<=Oe.DEBUG){const n=e.map(Gp);Gs.debug(`Firestore (${Ea}): ${t}`,...n)}}function hi(t,...e){if(Gs.logLevel<=Oe.ERROR){const n=e.map(Gp);Gs.error(`Firestore (${Ea}): ${t}`,...n)}}function ua(t,...e){if(Gs.logLevel<=Oe.WARN){const n=e.map(Gp);Gs.warn(`Firestore (${Ea}): ${t}`,...n)}}function Gp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function Ge(t,e){t||Se()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class NR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xR{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let a=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ai,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ai)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new Iw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Jt(e)}}class OR{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MR{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new OR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);const i=a=>{a.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new LR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=bR(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%e.length))}return i}}function be(t,e){return t<e?-1:t>e?1:0}function ca(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Dt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Dt(0,0))}static max(){return new ke(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(),i===void 0?i=e.length-n:i>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Wl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=e.get(o),c=n.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends Wl{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Wl{construct(e,n,i){return new Wt(e,n,i)}static isValidIdentifier(e){return FR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new me(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new me(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(a(),o++)}if(a(),c)throw new me(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ut.fromString(e))}static fromName(e){return new Ee(ut.fromString(e).popFirst(5))}static empty(){return new Ee(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ut(e.slice()))}}function UR(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new Dt(n+1,0):new Dt(n,i));return new rs(o,Ee.empty(),e)}function jR(t){return new rs(t.readTime,t.key,-1)}class rs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new rs(ke.min(),Ee.empty(),-1)}static max(){return new rs(ke.max(),Ee.empty(),-1)}}function zR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==BR)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,i)=>{n(e)})}static reject(e){return new H((n,i)=>{i(e)})}static waitFor(e){return new H((n,i)=>{let o=0,a=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++a,c&&a===o&&n()},p=>i(p))}),c=!0,a===o&&n()})}static or(e){let n=H.resolve(!1);for(const i of e)n=n.next(o=>o?H.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(e,n){return new H((i,o)=>{const a=e.length,c=new Array(a);let f=0;for(let p=0;p<a;p++){const y=p;n(e[y]).next(w=>{c[y]=w,++f,f===a&&i(c)},w=>o(w))}})}static doWhile(e,n){return new H((i,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):i()};a()})}}function $R(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mh.oe=-1;function Lh(t){return t==null}function uh(t){return t===0&&1/t==-1/0}function HR(t){return typeof t=="number"&&Number.isInteger(t)&&!uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=b_(e)),e=qR(t.get(n),e);return b_(e)}function qR(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function b_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Bt.RED,this.left=o??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Bt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,i,o,a){return this}insert(e,n,i){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Nt(Wt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Pw("Invalid base64 string: "+a):a}}(e);return new $t(n)}static fromUint8Array(e){const n=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const GR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=GR.exec(t);if(Ge(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vh(t){const e=t.mapValue.fields.__previous_value__;return Kp(e)?Vh(e):e}function $l(t){const e=is(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,i,o,a,c,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class Hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kp(t)?4:XR(t)?9007199254740991:QR(t)?10:11:Se()}function kr(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=is(o.timestampValue),f=is(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return ss(o.bytesValue).isEqual(ss(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return vt(o.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return vt(o.integerValue)===vt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=vt(o.doubleValue),f=vt(a.doubleValue);return c===f?uh(c)===uh(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return ca(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(F_(c)!==F_(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!kr(c[p],f[p])))return!1;return!0}(t,e);default:return Se()}}function Yl(t,e){return(t.values||[]).find(n=>kr(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=os(t),i=os(e);if(n!==i)return be(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(a,c){const f=vt(a.integerValue||a.doubleValue),p=vt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(t,e);case 3:return j_(t.timestampValue,e.timestampValue);case 4:return j_($l(t),$l(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(a,c){const f=ss(a),p=ss(c);return f.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),p=c.split("/");for(let y=0;y<f.length&&y<p.length;y++){const w=be(f[y],p[y]);if(w!==0)return w}return be(f.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const f=be(vt(a.latitude),vt(c.latitude));return f!==0?f:be(vt(a.longitude),vt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z_(t.arrayValue,e.arrayValue);case 10:return function(a,c){var f,p,y,w;const T=a.fields||{},S=c.fields||{},O=(f=T.value)===null||f===void 0?void 0:f.arrayValue,F=(p=S.value)===null||p===void 0?void 0:p.arrayValue,W=be(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((w=F==null?void 0:F.values)===null||w===void 0?void 0:w.length)||0);return W!==0?W:z_(O,F)}(t.mapValue,e.mapValue);case 11:return function(a,c){if(a===bc.mapValue&&c===bc.mapValue)return 0;if(a===bc.mapValue)return 1;if(c===bc.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const S=be(p[T],w[T]);if(S!==0)return S;const O=ha(f[p[T]],y[w[T]]);if(O!==0)return O}return be(p.length,w.length)}(t.mapValue,e.mapValue);default:throw Se()}}function j_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=is(t),i=is(e),o=be(n.seconds,i.seconds);return o!==0?o:be(n.nanos,i.nanos)}function z_(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=ha(n[o],i[o]);if(a)return a}return be(n.length,i.length)}function da(t){return mp(t)}function mp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=is(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=mp(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${mp(n.fields[c])}`;return o+"}"}(t.mapValue):Se()}function Yc(t){switch(os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(t);return e?16+Yc(e):16;case 5:return 2*t.stringValue.length;case 6:return ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Yc(a),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return ls(i.fields,(a,c)=>{o+=a.length+Yc(c)}),o}(t.mapValue);default:throw Se()}}function gp(t){return!!t&&"integerValue"in t}function Qp(t){return!!t&&"arrayValue"in t}function B_(t){return!!t&&"nullValue"in t}function W_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qc(t){return!!t&&"mapValue"in t}function QR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ll(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Wt.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=f.popLast()}c?i[f.lastSegment()]=Ll(c):o.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ls(n,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new _n(Ll(this.value))}}function Aw(t){const e=[];return ls(t.fields,(n,i)=>{const o=new Wt([n]);if(qc(i)){const a=Aw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,i,o,a,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Zt(e,0,ke.min(),ke.min(),ke.min(),_n.empty(),0)}static newFoundDocument(e,n,i,o){return new Zt(e,1,n,ke.min(),i,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,ke.min(),ke.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,ke.min(),ke.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.position=e,this.inclusive=n}}function $_(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),n.key):i=ha(c,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function H_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function JR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{}class At extends Cw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new eP(e,n,i):n==="array-contains"?new rP(e,i):n==="in"?new iP(e,i):n==="not-in"?new sP(e,i):n==="array-contains-any"?new oP(e,i):new At(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new tP(e,i):new nP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ha(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends Cw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rr(e,n)}matches(e){return Dw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Dw(t){return t.op==="and"}function Nw(t){return ZR(t)&&Dw(t)}function ZR(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function yp(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+da(t.value);if(Nw(t))return t.filters.map(e=>yp(e)).join(",");{const e=t.filters.map(n=>yp(n)).join(",");return`${t.op}(${e})`}}function xw(t,e){return t instanceof At?function(i,o){return o instanceof At&&i.op===o.op&&i.field.isEqual(o.field)&&kr(i.value,o.value)}(t,e):t instanceof Rr?function(i,o){return o instanceof Rr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,f)=>a&&xw(c,o.filters[f]),!0):!1}(t,e):void Se()}function Ow(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(Ow).join(" ,")+"}"}(t):"Filter"}class eP extends At{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class tP extends At{constructor(e,n){super(e,"in",n),this.keys=Mw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nP extends At{constructor(e,n){super(e,"not-in",n),this.keys=Mw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class rP extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qp(n)&&Yl(n.arrayValue,this.value)}}class iP extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class sP extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yl(this.value.arrayValue,n)}}class oP extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Yl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n=null,i=[],o=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.ue=null}}function Y_(t,e=null,n=[],i=[],o=null,a=null,c=null){return new aP(t,e,n,i,o,a,c)}function Xp(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>yp(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>da(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>da(i)).join(",")),e.ue=n}return e.ue}function Jp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H_(t.startAt,e.startAt)&&H_(t.endAt,e.endAt)}function _p(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n=null,i=[],o=[],a=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lP(t,e,n,i,o,a,c,f){return new bh(t,e,n,i,o,a,c,f)}function Zp(t){return new bh(t)}function q_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uP(t){return t.collectionGroup!==null}function Vl(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Nt(Wt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new hh(a,i))}),n.has(Wt.keyField().canonicalString())||e.ce.push(new hh(Wt.keyField(),i))}return e.ce}function Er(t){const e=Pe(t);return e.le||(e.le=cP(e,Vl(t))),e.le}function cP(t,e){if(t.limitType==="F")return Y_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new hh(o.field,a)});const n=t.endAt?new ch(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ch(t.startAt.position,t.startAt.inclusive):null;return Y_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function vp(t,e,n){return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return Jp(Er(t),Er(e))&&t.limitType===e.limitType}function Lw(t){return`${Xp(Er(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>Ow(o)).join(", ")}]`),Lh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>da(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>da(o)).join(",")),`Target(${i})`}(Er(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ee.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,o){for(const a of Vl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const y=$_(c,f,p);return c.inclusive?y<=0:y<0}(i.startAt,Vl(i),o)||i.endAt&&!function(c,f,p){const y=$_(c,f,p);return c.inclusive?y>=0:y>0}(i.endAt,Vl(i),o))}(t,e)}function hP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vw(t){return(e,n)=>{let i=!1;for(const o of Vl(t)){const a=dP(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function dP(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(a,c,f){const p=c.data.field(a),y=f.data.field(a);return p!==null&&y!==null?ha(p,y):Se()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new ft(Ee.comparator);function di(){return fP}const bw=new ft(Ee.comparator);function Nl(...t){let e=bw;for(const n of t)e=e.insert(n.key,n);return e}function Fw(t){let e=bw;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function js(){return bl()}function Uw(){return bl()}function bl(){return new Xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const pP=new ft(Ee.comparator),mP=new Nt(Ee.comparator);function Me(...t){let e=mP;for(const n of t)e=e.add(n);return e}const gP=new Nt(be);function yP(){return gP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function jw(t){return{integerValue:""+t}}function _P(t,e){return HR(e)?jw(e):em(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function vP(t,e,n){return t instanceof ql?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Kp(a)&&(a=Vh(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(n,e):t instanceof Gl?Bw(t,e):t instanceof Kl?Ww(t,e):function(o,a){const c=zw(o,a),f=G_(c)+G_(o.Pe);return gp(c)&&gp(o.Pe)?jw(f):em(o.serializer,f)}(t,e)}function wP(t,e,n){return t instanceof Gl?Bw(t,e):t instanceof Kl?Ww(t,e):n}function zw(t,e){return t instanceof dh?function(i){return gp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class ql extends jh{}class Gl extends jh{constructor(e){super(),this.elements=e}}function Bw(t,e){const n=$w(e);for(const i of t.elements)n.some(o=>kr(o,i))||n.push(i);return{arrayValue:{values:n}}}class Kl extends jh{constructor(e){super(),this.elements=e}}function Ww(t,e){let n=$w(e);for(const i of t.elements)n=n.filter(o=>!kr(o,i));return{arrayValue:{values:n}}}class dh extends jh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function G_(t){return vt(t.integerValue||t.doubleValue)}function $w(t){return Qp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this.field=e,this.transform=n}}function TP(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Gl&&o instanceof Gl||i instanceof Kl&&o instanceof Kl?ca(i.elements,o.elements,kr):i instanceof dh&&o instanceof dh?kr(i.Pe,o.Pe):i instanceof ql&&o instanceof ql}(t.transform,e.transform)}class SP{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zh{}function Hw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tm(t.key,ir.none()):new au(t.key,t.data,ir.none());{const n=t.data,i=_n.empty();let o=new Nt(Wt.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new us(t.key,i,new Rn(o.toArray()),ir.none())}}function IP(t,e,n){t instanceof au?function(o,a,c){const f=o.value.clone(),p=Q_(o.fieldTransforms,a,c.transformResults);f.setAll(p),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof us?function(o,a,c){if(!Gc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Q_(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(Yw(o)),p.setAll(f),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,i){return t instanceof au?function(a,c,f,p){if(!Gc(a.precondition,c))return f;const y=a.value.clone(),w=X_(a.fieldTransforms,p,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(t,e,n,i):t instanceof us?function(a,c,f,p){if(!Gc(a.precondition,c))return f;const y=X_(a.fieldTransforms,p,c),w=c.data;return w.setAll(Yw(a)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(t,e,n,i):function(a,c,f){return Gc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function kP(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=zw(i.transform,o||null);a!=null&&(n===null&&(n=_n.empty()),n.set(i.field,a))}return n||null}function K_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ca(i,o,(a,c)=>TP(a,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class au extends zh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends zh{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Yw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Q_(t,e,n){const i=new Map;Ge(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,f=e.data.field(a.field);i.set(a.field,wP(c,f,n[o]))}return i}function X_(t,e,n){const i=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);i.set(o.field,vP(a,c,e))}return i}class tm extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RP extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&IP(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Fl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Fl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Uw();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=n.has(o.key)?null:f;const p=Hw(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(n,i)=>K_(n,i))&&ca(this.baseMutations,e.baseMutations,(n,i)=>K_(n,i))}}class nm{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ge(e.mutations.length===i.length);let o=function(){return pP}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new nm(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,je;function DP(t){switch(t){default:return Se();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function qw(t){if(t===void 0)return hi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Tt.OK:return Q.OK;case Tt.CANCELLED:return Q.CANCELLED;case Tt.UNKNOWN:return Q.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Q.INTERNAL;case Tt.UNAVAILABLE:return Q.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Q.NOT_FOUND;case Tt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Tt.ABORTED:return Q.ABORTED;case Tt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Tt.DATA_LOSS:return Q.DATA_LOSS;default:return Se()}}(je=Tt||(Tt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=new $s([4294967295,4294967295],0);function J_(t){const e=NP().encode(t),n=new _w;return n.update(e),new Uint8Array(n.digest())}function Z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $s([n,i],0),new $s([o,a],0)]}class rm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(i<0)throw new xl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=$s.fromNumber(this.Te)}Ee(e,n,i){let o=e.add(n.multiply($s.fromNumber(i)));return o.compare(xP)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=J_(e),[i,o]=Z_(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new rm(a,o,n);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Te===0)return;const n=J_(e),[i,o]=Z_(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Bh(ke.min(),o,new ft(be),di(),Me())}}class lu{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new lu(i,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,i,o){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=o}}class Gw{constructor(e,n){this.targetId=e,this.me=n}}class Kw{constructor(e,n,i=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class ev{constructor(){this.fe=0,this.ge=tv(),this.pe=$t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),n=Me(),i=Me();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Se()}}),new lu(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=tv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OP{constructor(e){this.Le=e,this.Be=new Map,this.ke=di(),this.qe=Fc(),this.Qe=Fc(),this.Ke=new ft(be)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.je(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,i=e.me.count,o=this.Ye(n);if(o){const a=o.target;if(_p(a))if(i===0){const c=new Ee(a.path);this.We(n,c,Zt.newNoDocument(c,ke.min()))}else Ge(i===1);else{const c=this.Ze(n);if(c!==i){const f=this.Xe(e),p=f?this.et(f,e,c):1;if(p!==0){this.He(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let c,f;try{c=ss(i).toUint8Array()}catch(p){if(p instanceof Pw)return ua("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new rm(c,o,a)}catch(p){return ua(p instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,n,i){return n.me.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const c=this.Le.nt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.We(n,a,null),o++)}),o}it(e){const n=new Map;this.Be.forEach((a,c)=>{const f=this.Ye(c);if(f){if(a.current&&_p(f.target)){const p=new Ee(f.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,Zt.newNoDocument(p,e))}a.be&&(n.set(c,a.ve()),a.Ce())}});let i=Me();this.Qe.forEach((a,c)=>{let f=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new Bh(e,n,this.Ke,this.ke,i);return this.ke=di(),this.qe=Fc(),this.Qe=Fc(),this.Ke=new ft(be),o}Ue(e,n){if(!this.je(e))return;const i=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,n)?o.Fe(n,1):o.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new ev,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Nt(be),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nt(be),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ev),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new ft(Ee.comparator)}function tv(){return new ft(Ee.comparator)}const MP={asc:"ASCENDING",desc:"DESCENDING"},LP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VP={and:"AND",or:"OR"};class bP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wp(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FP(t,e){return fh(t,e.toTimestamp())}function Tr(t){return Ge(!!t),ke.fromTimestamp(function(n){const i=is(n);return new Dt(i.seconds,i.nanos)}(t))}function im(t,e){return Ep(t,e).canonicalString()}function Ep(t,e){const n=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Xw(t){const e=ut.fromString(t);return Ge(nE(e)),e}function Tp(t,e){return im(t.databaseId,e.path)}function Xf(t,e){const n=Xw(e);if(n.get(1)!==t.databaseId.projectId)throw new me(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(Zw(n))}function Jw(t,e){return im(t.databaseId,e)}function UP(t){const e=Xw(t);return e.length===4?ut.emptyPath():Zw(e)}function Sp(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zw(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nv(t,e,n){return{name:Tp(t,e),fields:n.value.mapValue.fields}}function jP(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(Ge(w===void 0||typeof w=="string"),$t.fromBase64String(w||"")):(Ge(w===void 0||w instanceof Buffer||w instanceof Uint8Array),$t.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const w=y.code===void 0?Q.UNKNOWN:qw(y.code);return new me(w,y.message||"")}(c);n=new Kw(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Xf(t,i.document.name),a=Tr(i.document.updateTime),c=i.document.createTime?Tr(i.document.createTime):ke.min(),f=new _n({mapValue:{fields:i.document.fields}}),p=Zt.newFoundDocument(o,a,c,f),y=i.targetIds||[],w=i.removedTargetIds||[];n=new Kc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Xf(t,i.document),a=i.readTime?Tr(i.readTime):ke.min(),c=Zt.newNoDocument(o,a),f=i.removedTargetIds||[];n=new Kc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Xf(t,i.document),a=i.removedTargetIds||[];n=new Kc([],a,o,null)}else{if(!("filter"in e))return Se();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new CP(o,a),f=i.targetId;n=new Gw(f,c)}}return n}function zP(t,e){let n;if(e instanceof au)n={update:nv(t,e.key,e.value)};else if(e instanceof tm)n={delete:Tp(t,e.key)};else if(e instanceof us)n={update:nv(t,e.key,e.data),updateMask:QP(e.fieldMask)};else{if(!(e instanceof RP))return Se();n={verify:Tp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const f=c.transform;if(f instanceof ql)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Gl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Kl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof dh)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw Se()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:FP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(t,e.precondition)),n}function BP(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(o,a){let c=o.updateTime?Tr(o.updateTime):Tr(a);return c.isEqual(ke.min())&&(c=Tr(a)),new SP(c,o.transformResults||[])}(n,e))):[]}function WP(t,e){return{documents:[Jw(t,e.path)]}}function $P(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Jw(t,o);const a=function(y){if(y.length!==0)return tE(Rr.create(y,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(w=>function(S){return{field:Qo(S.field),direction:qP(S.dir)}}(w))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=wp(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:n,parent:o}}function HP(t){let e=UP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ge(i===1);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];n.where&&(a=function(T){const S=eE(T);return S instanceof Rr&&Nw(S)?S.getFilters():[S]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(S=>function(F){return new hh(Xo(F.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(S))}(n.orderBy));let f=null;n.limit&&(f=function(T){let S;return S=typeof T=="object"?T.value:T,Lh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(T){const S=!!T.before,O=T.values||[];return new ch(O,S)}(n.startAt));let y=null;return n.endAt&&(y=function(T){const S=!T.before,O=T.values||[];return new ch(O,S)}(n.endAt)),lP(e,o,c,a,f,"F",p,y)}function YP(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Xo(n.unaryFilter.field);return At.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Xo(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xo(n.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xo(n.unaryFilter.field);return At.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return At.create(Xo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(i=>eE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function qP(t){return MP[t]}function GP(t){return LP[t]}function KP(t){return VP[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return Wt.fromServerFormat(t.fieldPath)}function tE(t){return t instanceof At?function(n){if(n.op==="=="){if(W_(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(B_(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W_(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(B_(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:GP(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const i=n.getFilters().map(o=>tE(o));return i.length===1?i[0]:{compositeFilter:{op:KP(n.op),filters:i}}}(t):Se()}function QP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,i,o,a=ke.min(),c=ke.min(),f=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.ht=e}}function JP(t){const e=HP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.ln=new e1}addToCollectionParentIndex(e,n){return this.ln.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(rs.min())}updateCollectionGroup(e,n,i){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class e1{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Nt(ut.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Nt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new fa(0)}static Qn(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv([t,e],[n,i]){const o=be(t,n);return o===0?be(e,i):o}class t1{constructor(e){this.Gn=e,this.buffer=new Nt(iv),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();iv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n1{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sa(n)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ta(n)}await this.Yn(3e5)})}}class r1{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Mh.oe);const i=new t1(n);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Zn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(rv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let i,o,a,c,f,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,f=Date.now(),this.removeTargets(e,i,n))).next(T=>(a=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),Go()<=Oe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${a} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function i1(t,e){return new r1(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?H.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&Fl(i.mutation,o,Rn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Me()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Me()){const o=js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(a=>{let c=Nl();return a.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Me()))}populateOverlays(e,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,i,o){let a=di();const c=bl(),f=function(){return bl()}();return n.forEach((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof us)?a=a.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Fl(w.mutation,y,w.mutation.getFieldMask(),Dt.now())):c.set(y.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,w)=>c.set(y,w)),n.forEach((y,w)=>{var T;return f.set(y,new o1(w,(T=c.get(y))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,n){const i=bl();let o=new ft((c,f)=>c-f),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let w=i.get(p)||Rn.empty();w=f.applyToLocalView(y,w),i.set(p,w);const T=(o.get(f.batchId)||Me()).add(p);o=o.insert(f.batchId,T)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,w=p.value,T=Uw();w.forEach(S=>{if(!a.has(S)){const O=Hw(n.get(S),i.get(S));O!==null&&T.set(S,O),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return H.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):H.resolve(js());let f=-1,p=a;return c.next(y=>H.forEach(y,(w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),a.get(w)?H.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,Me())).next(w=>({batchId:f,changes:Fw(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(i=>{let o=Nl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let c=Nl();return this.indexManager.getCollectionParents(e,a).next(f=>H.forEach(f,p=>{const y=function(T,S){return new bh(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o))).next(c=>{a.forEach((p,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,Zt.newInvalidDocument(w)))});let f=Nl();return c.forEach((p,y)=>{const w=a.get(p);w!==void 0&&Fl(w.mutation,y,Rn.empty(),Dt.now()),Uh(n,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return H.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Tr(o.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(o){return{name:o.name,query:JP(o.bundledQuery),readTime:Tr(o.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.overlays=new ft(Ee.comparator),this.Er=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const i=js();return H.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,a)=>{this.Tt(e,n,a)}),H.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),H.resolve()}getOverlaysForCollection(e,n,i){const o=js(),a=n.length+1,c=new Ee(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return H.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new ft((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let w=a.get(y.largestBatchId);w===null&&(w=js(),a=a.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=js(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>f.set(y,w)),!(f.size()>=o)););return H.resolve(f)}Tt(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new AP(n,i));let a=this.Er.get(n);a===void 0&&(a=Me(),this.Er.set(n,a)),this.Er.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.dr=new Nt(bt.Ar),this.Rr=new Nt(bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const i=new bt(e,n);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.gr(new bt(e,n))}pr(e,n){e.forEach(i=>this.removeReference(i,n))}yr(e){const n=new Ee(new ut([])),i=new bt(n,e),o=new bt(n,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ee(new ut([])),i=new bt(n,e),o=new bt(n,e+1);let a=Me();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new bt(e,0),i=this.dr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ee.comparator(e.key,n.key)||be(e.br,n.br)}static Vr(e,n){return be(e.br,n.br)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Nt(bt.Ar)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PP(a,n,i,o);this.mutationQueue.push(c);for(const f of o)this.vr=this.vr.add(new bt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return H.resolve(c)}lookupMutationBatch(e,n){return H.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Fr(i),a=o<0?0:o;return H.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new bt(n,0),o=new bt(n,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const f=this.Cr(c.br);a.push(f)}),H.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Nt(be);return n.forEach(o=>{const a=new bt(o,0),c=new bt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],f=>{i=i.add(f.br)})}),H.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;Ee.isDocumentKey(a)||(a=a.child(""));const c=new bt(new Ee(a),0);let f=new Nt(be);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},c),H.resolve(this.Mr(f))}Mr(e){const n=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return H.forEach(n.mutations,o=>{const a=new bt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,n){const i=new bt(n,0),o=this.vr.firstAfterOrEqual(i);return H.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.Nr=e,this.docs=function(){return new ft(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return H.resolve(i?i.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let i=di();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Zt.newInvalidDocument(o))}),H.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=di();const c=n.path,f=new Ee(c.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||zR(jR(w),i)<=0||(o.has(w.key)||Uh(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return H.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Se()}Lr(e,n){return H.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new f1(this)}getSize(e){return H.resolve(this.size)}}class f1 extends s1{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),H.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.persistence=e,this.Br=new Xs(n=>Xp(n),Jp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.kr=0,this.qr=new sm,this.targetCount=0,this.Qr=fa.qn()}forEachTarget(e,n){return this.Br.forEach((i,o)=>n(o)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.kr&&(this.kr=n),H.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Un(n),H.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.Br.forEach((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),H.waitFor(a).next(()=>o)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const i=this.Br.get(n)||null;return H.resolve(i)}addMatchingKeys(e,n,i){return this.qr.mr(n,i),H.resolve()}removeMatchingKeys(e,n,i){this.qr.pr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),H.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const i=this.qr.Sr(n);return H.resolve(i)}containsKey(e,n){return H.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Mh(0),this.Ur=!1,this.Ur=!0,this.Wr=new c1,this.referenceDelegate=e(this),this.Gr=new p1(this),this.indexManager=new ZP,this.remoteDocumentCache=function(o){return new d1(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new XP(n),this.jr=new l1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Kr[e.toKey()];return i||(i=new h1(n,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,i){ae("MemoryPersistence","Starting transaction:",e);const o=new m1(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,n){return H.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,n)))}}class m1 extends WR{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.Zr=new sm,this.Xr=null}static ei(e){return new om(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,n,i){return this.Zr.addReference(i,n),this.ti.delete(i.toString()),H.resolve()}removeReference(e,n,i){return this.Zr.removeReference(i,n),this.ti.add(i.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),H.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ti,i=>{const o=Ee.fromPath(i);return this.ni(e,o).next(a=>{a||n.removeEntry(o,ke.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(i=>{i?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return H.or([()=>H.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.ri=new Xs(i=>YR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=i1(this,n)}static ei(e,n){return new ph(e,n)}Hr(){}Jr(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}nr(e){let n=0;return this.er(e,i=>{n++}).next(()=>n)}er(e,n){return H.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?H.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,n).next(f=>{f||(i++,a.removeEntry(c,ke.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),H.resolve()}removeReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yc(e.data.value)),n}ir(e,n,i){return H.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.ri.get(n);return H.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Wi=i,this.Gi=o}static zi(e,n){let i=Me(),o=Me();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new am(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return fk()?8:$R(tn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.Xi(e,n).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,n,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new g1;return this.ts(e,n,c).next(f=>{if(a.result=f,this.Hi)return this.ns(e,n,c,f.size)})}).next(()=>a.result)}ns(e,n,i,o){return i.documentReadCount<this.Ji?(Go()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),H.resolve()):(Go()<=Oe.DEBUG&&ae("QueryEngine","Query:",Ko(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Go()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):H.resolve())}Xi(e,n){if(q_(n))return H.resolve(null);let i=Er(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=vp(n,null,"F"),i=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Me(...a);return this.Zi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(n,f);return this.ss(n,y,c,p.readTime)?this.Xi(e,vp(n,null,"F")):this.os(e,y,n,p)}))})))}es(e,n,i,o){return q_(n)||o.isEqual(ke.min())?H.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(n,a);return this.ss(n,c,i,o)?H.resolve(null):(Go()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ko(n)),this.os(e,c,n,UR(o,-1)).next(f=>f))})}rs(e,n){let i=new Nt(Vw(e));return n.forEach((o,a)=>{Uh(e,a)&&(i=i.add(a))}),i}ss(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,n,i){return Go()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.Zi.getDocumentsMatchingQuery(e,n,rs.min(),i)}os(e,n,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,i,o){this.persistence=e,this._s=n,this.serializer=o,this.us=new ft(be),this.cs=new Xs(a=>Xp(a),Jp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function v1(t,e,n,i){return new _1(t,e,n,i)}async function iE(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.Ps(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let p=Me();for(const y of o){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of a){f.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return n.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:f}))})})}function w1(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=n.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,w){const T=y.batch,S=T.keys();let O=H.resolve();return S.forEach(F=>{O=O.next(()=>w.getEntry(p,F)).next(W=>{const j=y.docVersions.get(F);Ge(j!==null),W.version.compareTo(j)<0&&(T.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),w.addEntry(W)))})}),O.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Me();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function sE(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function E1(t,e){const n=Pe(t),i=e.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const f=[];e.targetChanges.forEach((w,T)=>{const S=o.get(T);if(!S)return;f.push(n.Gr.removeMatchingKeys(a,w.removedDocuments,T).next(()=>n.Gr.addMatchingKeys(a,w.addedDocuments,T)));let O=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken($t.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,i)),o=o.insert(T,O),function(W,j,Y){return W.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,O,w)&&f.push(n.Gr.updateTargetData(a,O))});let p=di(),y=Me();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))}),f.push(T1(a,c,e.documentUpdates).next(w=>{p=w.Is,y=w.Es})),!i.isEqual(ke.min())){const w=n.Gr.getLastRemoteSnapshotVersion(a).next(T=>n.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(w)}return H.waitFor(f).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(n.us=o,a))}function T1(t,e,n){let i=Me(),o=Me();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let c=di();return n.forEach((f,p)=>{const y=a.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function S1(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function I1(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Gr.getTargetData(i,e).next(a=>a?(o=a,H.resolve(o)):n.Gr.allocateTargetId(i).next(c=>(o=new Gi(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.us=n.us.insert(i.targetId,i),n.cs.set(e,i.targetId)),i})}async function Ip(t,e,n){const i=Pe(t),o=i.us.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Sa(c))throw c;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function sv(t,e,n){const i=Pe(t);let o=ke.min(),a=Me();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,w){const T=Pe(p),S=T.cs.get(w);return S!==void 0?H.resolve(T.us.get(S)):T.Gr.getTargetData(y,w)}(i,c,Er(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,n?o:ke.min(),n?a:Me())).next(f=>(k1(i,hP(e),f),{documents:f,ds:a})))}function k1(t,e,n){let i=t.ls.get(e)||ke.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.ls.set(e,i)}class ov{constructor(){this.activeTargetIds=yP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R1{constructor(){this._o=new ov,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,i){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ov,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Jf(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class D1 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+n.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(n,i,o,a,c){const f=Jf(),p=this.No(n,i.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,c),this.Bo(n,p,y,o).then(w=>(ae("RestConnection",`Received RPC '${n}' ${f}: `,w),w),w=>{throw ua("RestConnection",`RPC '${n}' ${f} failed with error: `,w,"url: ",p,"request:",o),w})}ko(n,i,o,a,c,f){return this.Oo(n,i,o,a,c)}Lo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>n[c]=a),o&&o.headers.forEach((a,c)=>n[c]=a)}No(n,i){const o=A1[n];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,i,o){const a=Jf();return new Promise((c,f)=>{const p=new vw;p.setWithCredentials(!0),p.listenOnce(ww.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Hc.NO_ERROR:const w=p.getResponseJson();ae(Xt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(w)),c(w);break;case Hc.TIMEOUT:ae(Xt,`RPC '${e}' ${a} timed out`),f(new me(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const T=p.getStatus();if(ae(Xt,`RPC '${e}' ${a} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const F=function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(Y)>=0?Y:Q.UNKNOWN}(O.status);f(new me(F,O.message))}else f(new me(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(Q.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ae(Xt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);ae(Xt,`RPC '${e}' ${a} sending request:`,o),p.send(n,"POST",y,i,15)})}qo(e,n,i){const o=Jf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Sw(),f=Tw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const w=a.join("");ae(Xt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=c.createWebChannel(w,p);let S=!1,O=!1;const F=new C1({Eo:j=>{O?ae(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(ae(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ae(Xt,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Ao:()=>T.close()}),W=(j,Y,X)=>{j.listen(Y,re=>{try{X(re)}catch(pe){setTimeout(()=>{throw pe},0)}})};return W(T,Dl.EventType.OPEN,()=>{O||(ae(Xt,`RPC '${e}' stream ${o} transport opened.`),F.So())}),W(T,Dl.EventType.CLOSE,()=>{O||(O=!0,ae(Xt,`RPC '${e}' stream ${o} transport closed`),F.Do())}),W(T,Dl.EventType.ERROR,j=>{O||(O=!0,ua(Xt,`RPC '${e}' stream ${o} transport errored:`,j),F.Do(new me(Q.UNAVAILABLE,"The operation could not be completed")))}),W(T,Dl.EventType.MESSAGE,j=>{var Y;if(!O){const X=j.data[0];Ge(!!X);const re=X,pe=(re==null?void 0:re.error)||((Y=re[0])===null||Y===void 0?void 0:Y.error);if(pe){ae(Xt,`RPC '${e}' stream ${o} received error:`,pe);const Ce=pe.status;let Re=function(R){const C=Tt[R];if(C!==void 0)return qw(C)}(Ce),D=pe.message;Re===void 0&&(Re=Q.INTERNAL,D="Unknown error status: "+Ce+" with message "+pe.message),O=!0,F.Do(new me(Re,D)),T.close()}else ae(Xt,`RPC '${e}' stream ${o} received:`,X),F.vo(X)}}),W(f,Ew.STAT_EVENT,j=>{j.stat===pp.PROXY?ae(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===pp.NOPROXY&&ae(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.bo()},0),F}}function Zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){return new bP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=n,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,i,o,a,c,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new oE(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===n&&this.I_(i,o)},i=>{e(()=>{const o=new me(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,n){const i=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N1 extends aE{constructor(e,n,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,c),this.serializer=a}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=jP(this.serializer,e),i=function(a){if(!("targetChange"in a))return ke.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?Tr(c.readTime):ke.min()}(e);return this.listener.R_(n,i)}V_(e){const n={};n.database=Sp(this.serializer),n.addTarget=function(a,c){let f;const p=c.target;if(f=_p(p)?{documents:WP(a,p)}:{query:$P(a,p).ct},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Qw(a,c.resumeToken);const y=wp(a,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(ke.min())>0){f.readTime=fh(a,c.snapshotVersion.toTimestamp());const y=wp(a,c.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=YP(this.serializer,e);i&&(n.labels=i),this.c_(n)}m_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.c_(n)}}class x1 extends aE{constructor(e,n,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=BP(e.writeResults,e.commitTime),i=Tr(e.commitTime);return this.listener.y_(i,n)}w_(){const e={};e.database=Sp(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>zP(this.serializer,i))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends class{}{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new me(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,Ep(n,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(Q.UNKNOWN,a.toString())})}ko(e,n,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.ko(e,Ep(n,i),o,c,f,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(Q.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class M1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(hi(n),this.C_=!1):ae("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{Js(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Pe(p);y.k_.add(4),await uu(y),y.K_.set("Unknown"),y.k_.delete(4),await $h(y)}(this))})}),this.K_=new M1(i,o)}}async function $h(t){if(Js(t))for(const e of t.q_)await e(!0)}async function uu(t){for(const e of t.q_)await e(!1)}function lE(t,e){const n=Pe(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),hm(n)?cm(n):Ia(n).s_()&&um(n,e))}function lm(t,e){const n=Pe(t),i=Ia(n);n.B_.delete(e),i.s_()&&uE(n,e),n.B_.size===0&&(i.s_()?i.a_():Js(n)&&n.K_.set("Unknown"))}function um(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ia(t).V_(e)}function uE(t,e){t.U_.xe(e),Ia(t).m_(e)}function cm(t){t.U_=new OP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ia(t).start(),t.K_.F_()}function hm(t){return Js(t)&&!Ia(t).i_()&&t.B_.size>0}function Js(t){return Pe(t).k_.size===0}function cE(t){t.U_=void 0}async function V1(t){t.K_.set("Online")}async function b1(t){t.B_.forEach((e,n)=>{um(t,e)})}async function F1(t,e){cE(t),hm(t)?(t.K_.O_(e),cm(t)):t.K_.set("Unknown")}async function U1(t,e,n){if(t.K_.set("Online"),e instanceof Kw&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const f of a.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.B_.delete(f),o.U_.removeTarget(f))}(t,e)}catch(i){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await mh(t,i)}else if(e instanceof Kc?t.U_.$e(e):e instanceof Gw?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ke.min()))try{const i=await sE(t.localStore);n.compareTo(i)>=0&&await function(a,c){const f=a.U_.it(c);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.B_.get(y);w&&a.B_.set(y,w.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,y)=>{const w=a.B_.get(p);if(!w)return;a.B_.set(p,w.withResumeToken($t.EMPTY_BYTE_STRING,w.snapshotVersion)),uE(a,p);const T=new Gi(w.target,p,y,w.sequenceNumber);um(a,T)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){ae("RemoteStore","Failed to raise snapshot:",i),await mh(t,i)}}async function mh(t,e,n){if(!Sa(e))throw e;t.k_.add(1),await uu(t),t.K_.set("Offline"),n||(n=()=>sE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await $h(t)})}function hE(t,e){return e().catch(n=>mh(t,n,e))}async function Hh(t){const e=Pe(t),n=as(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;j1(e);)try{const o=await S1(e.localStore,i);if(o===null){e.L_.length===0&&n.a_();break}i=o.batchId,z1(e,o)}catch(o){await mh(e,o)}dE(e)&&fE(e)}function j1(t){return Js(t)&&t.L_.length<10}function z1(t,e){t.L_.push(e);const n=as(t);n.s_()&&n.f_&&n.g_(e.mutations)}function dE(t){return Js(t)&&!as(t).i_()&&t.L_.length>0}function fE(t){as(t).start()}async function B1(t){as(t).w_()}async function W1(t){const e=as(t);for(const n of t.L_)e.g_(n.mutations)}async function $1(t,e,n){const i=t.L_.shift(),o=nm.from(i,e,n);await hE(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Hh(t)}async function H1(t,e){e&&as(t).f_&&await async function(i,o){if(function(c){return DP(c)&&c!==Q.ABORTED}(o.code)){const a=i.L_.shift();as(i).__(),await hE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Hh(i)}}(t,e),dE(t)&&fE(t)}async function lv(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const i=Js(n);n.k_.add(3),await uu(n),i&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await $h(n)}async function Y1(t,e){const n=Pe(t);e?(n.k_.delete(2),await $h(n)):e||(n.k_.add(2),await uu(n),n.K_.set("Unknown"))}function Ia(t){return t.W_||(t.W_=function(n,i,o){const a=Pe(n);return a.b_(),new N1(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Ro:V1.bind(null,t),mo:b1.bind(null,t),po:F1.bind(null,t),R_:U1.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),hm(t)?cm(t):t.K_.set("Unknown")):(await t.W_.stop(),cE(t))})),t.W_}function as(t){return t.G_||(t.G_=function(n,i,o){const a=Pe(n);return a.b_(),new x1(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:B1.bind(null,t),po:H1.bind(null,t),p_:W1.bind(null,t),y_:$1.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Hh(t)):(await t.G_.stop(),t.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const c=Date.now()+i,f=new dm(e,n,c,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fm(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Sa(t))return new me(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{static emptySet(e){return new ea(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=Nl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ea;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.z_=new ft(Ee.comparator)}track(e){const n=e.doc.key,i=this.z_.get(n);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(n,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(n):e.type===1&&i.type===2?this.z_=this.z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class pa{constructor(e,n,i,o,a,c,f,p,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,a){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new pa(e,n,ea.emptySet(n),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class G1{constructor(){this.queries=cv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,i){const o=Pe(n),a=o.queries;o.queries=cv(),a.forEach((c,f)=>{for(const p of f.J_)p.onError(i)})})(this,new me(Q.ABORTED,"Firestore shutting down"))}}function cv(){return new Xs(t=>Lw(t),Fh)}async function pE(t,e){const n=Pe(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new q1,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await n.onListen(o,!0);break;case 1:a.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const f=fm(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,a),a.J_.push(e),e.ea(n.onlineState),a.H_&&e.ta(a.H_)&&pm(n)}async function mE(t,e){const n=Pe(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function K1(t,e){const n=Pe(t);let i=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const f of c.J_)f.ta(o)&&(i=!0);c.H_=o}}i&&pm(n)}function Q1(t,e,n){const i=Pe(t),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(n);i.queries.delete(e)}function pm(t){t.X_.forEach(e=>{e.next()})}var kp,hv;(hv=kp||(kp={})).na="default",hv.Cache="cache";class gE{constructor(e,n,i){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new pa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const i=n!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.key=e}}class _E{constructor(e){this.key=e}}class X1{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=Vw(e),this.ma=new ea(this.Va)}get fa(){return this.da}ga(e,n){const i=n?n.pa:new uv,o=n?n.ma:this.ma;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const S=o.get(w),O=Uh(this.query,T)?T:null,F=!!S&&this.mutatedKeys.has(S.key),W=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;S&&O?S.data.isEqual(O.data)?F!==W&&(i.track({type:3,doc:O}),j=!0):this.ya(S,O)||(i.track({type:2,doc:O}),j=!0,(p&&this.Va(O,p)>0||y&&this.Va(O,y)<0)&&(f=!0)):!S&&O?(i.track({type:0,doc:O}),j=!0):S&&!O&&(i.track({type:1,doc:S}),j=!0,(p||y)&&(f=!0)),j&&(O?(c=c.add(O),a=W?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),i.track({type:1,doc:w})}return{ma:c,pa:i,ss:f,mutatedKeys:a}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((w,T)=>function(O,F){const W=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return W(O)-W(F)}(w.type,T.type)||this.Va(w.doc,T.doc)),this.wa(i),o=o!=null&&o;const f=n&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new pa(this.query,e.ma,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new uv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const n=[];return e.forEach(i=>{this.Ra.has(i)||n.push(new _E(i))}),this.Ra.forEach(i=>{e.has(i)||n.push(new yE(i))}),n}va(e){this.da=e.ds,this.Ra=Me();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return pa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class J1{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Z1{constructor(e){this.key=e,this.Fa=!1}}class eA{constructor(e,n,i,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Xs(f=>Lw(f),Fh),this.Oa=new Map,this.Na=new Set,this.La=new ft(Ee.comparator),this.Ba=new Map,this.ka=new sm,this.qa={},this.Qa=new Map,this.Ka=fa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function tA(t,e,n=!0){const i=IE(t);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await vE(i,e,n,!0),o}async function nA(t,e){const n=IE(t);await vE(n,e,!0,!1)}async function vE(t,e,n,i){const o=await I1(t.localStore,Er(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let f;return i&&(f=await rA(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&lE(t.remoteStore,o),f}async function rA(t,e,n,i,o){t.Ua=(T,S,O)=>async function(W,j,Y,X){let re=j.view.ga(Y);re.ss&&(re=await sv(W.localStore,j.query,!1).then(({documents:D})=>j.view.ga(D,re)));const pe=X&&X.targetChanges.get(j.targetId),Ce=X&&X.targetMismatches.get(j.targetId)!=null,Re=j.view.applyChanges(re,W.isPrimaryClient,pe,Ce);return fv(W,j.targetId,Re.ba),Re.snapshot}(t,T,S,O);const a=await sv(t.localStore,e,!0),c=new X1(e,a.ds),f=c.ga(a.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),y=c.applyChanges(f,t.isPrimaryClient,p);fv(t,n,y.ba);const w=new J1(e,n,c);return t.xa.set(e,w),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),y.snapshot}async function iA(t,e,n){const i=Pe(t),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!Fh(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&lm(i.remoteStore,o.targetId),Rp(i,o.targetId)}).catch(Ta)):(Rp(i,o.targetId),await Ip(i.localStore,o.targetId,!0))}async function sA(t,e){const n=Pe(t),i=n.xa.get(e),o=n.Oa.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),lm(n.remoteStore,i.targetId))}async function oA(t,e,n){const i=fA(t);try{const o=await function(c,f){const p=Pe(c),y=Dt.now(),w=f.reduce((O,F)=>O.add(F.key),Me());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let F=di(),W=Me();return p.hs.getEntries(O,w).next(j=>{F=j,F.forEach((Y,X)=>{X.isValidDocument()||(W=W.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,F)).next(j=>{T=j;const Y=[];for(const X of f){const re=kP(X,T.get(X.key).overlayedDocument);re!=null&&Y.push(new us(X.key,re,Aw(re.value.mapValue),ir.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,Y,f)}).next(j=>{S=j;const Y=j.applyToLocalDocumentSet(T,W);return p.documentOverlayCache.saveOverlays(O,j.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:Fw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let y=c.qa[c.currentUser.toKey()];y||(y=new ft(be)),y=y.insert(f,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,n),await cu(i,o.changes),await Hh(i.remoteStore)}catch(o){const a=fm(o,"Failed to persist write");n.reject(a)}}async function wE(t,e){const n=Pe(t);try{const i=await E1(n.localStore,e);e.targetChanges.forEach((o,a)=>{const c=n.Ba.get(a);c&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Ge(c.Fa):o.removedDocuments.size>0&&(Ge(c.Fa),c.Fa=!1))}),await cu(n,i,e)}catch(i){await Ta(i)}}function dv(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.xa.forEach((a,c)=>{const f=c.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Pe(c);p.onlineState=f;let y=!1;p.queries.forEach((w,T)=>{for(const S of T.J_)S.ea(f)&&(y=!0)}),y&&pm(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function aA(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new ft(Ee.comparator);c=c.insert(a,Zt.newNoDocument(a,ke.min()));const f=Me().add(a),p=new Bh(ke.min(),new Map,new ft(be),c,f);await wE(i,p),i.La=i.La.remove(a),i.Ba.delete(e),mm(i)}else await Ip(i.localStore,e,!1).then(()=>Rp(i,e,n)).catch(Ta)}async function lA(t,e){const n=Pe(t),i=e.batch.batchId;try{const o=await w1(n.localStore,e);TE(n,i,null),EE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await cu(n,o)}catch(o){await Ta(o)}}async function uA(t,e,n){const i=Pe(t);try{const o=await function(c,f){const p=Pe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,f).next(T=>(Ge(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(i.localStore,e);TE(i,e,n),EE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await cu(i,o)}catch(o){await Ta(o)}}function EE(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function TE(t,e,n){const i=Pe(t);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Rp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Oa.get(e))t.xa.delete(i),n&&t.Ma.Wa(i,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(i=>{t.ka.containsKey(i)||SE(t,i)})}function SE(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(lm(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),mm(t))}function fv(t,e,n){for(const i of n)i instanceof yE?(t.ka.addReference(i.key,e),cA(t,i)):i instanceof _E?(ae("SyncEngine","Document no longer in limbo: "+i.key),t.ka.removeReference(i.key,e),t.ka.containsKey(i.key)||SE(t,i.key)):Se()}function cA(t,e){const n=e.key,i=n.path.canonicalString();t.La.get(n)||t.Na.has(i)||(ae("SyncEngine","New document in limbo: "+n),t.Na.add(i),mm(t))}function mm(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Ee(ut.fromString(e)),i=t.Ka.next();t.Ba.set(i,new Z1(n)),t.La=t.La.insert(n,i),lE(t.remoteStore,new Gi(Er(Zp(n.path)),i,"TargetPurposeLimboResolution",Mh.oe))}}async function cu(t,e,n){const i=Pe(t),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{c.push(i.Ua(p,e,n).then(y=>{var w;if((y||n)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=n==null?void 0:n.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=am.zi(p.targetId,y);a.push(T)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const w=Pe(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>H.forEach(y,S=>H.forEach(S.Wi,O=>w.persistence.referenceDelegate.addReference(T,S.targetId,O)).next(()=>H.forEach(S.Gi,O=>w.persistence.referenceDelegate.removeReference(T,S.targetId,O)))))}catch(T){if(!Sa(T))throw T;ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const O=w.us.get(S),F=O.snapshotVersion,W=O.withLastLimboFreeSnapshotVersion(F);w.us=w.us.insert(S,W)}}}(i.localStore,a))}async function hA(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const i=await iE(n.localStore,e);n.currentUser=e,function(a,c){a.Qa.forEach(f=>{f.forEach(p=>{p.reject(new me(Q.CANCELLED,c))})}),a.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cu(n,i.Ts)}}function dA(t,e){const n=Pe(t),i=n.Ba.get(e);if(i&&i.Fa)return Me().add(i.key);{let o=Me();const a=n.Oa.get(e);if(!a)return o;for(const c of a){const f=n.xa.get(c);o=o.unionWith(f.view.fa)}return o}}function IE(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aA.bind(null,e),e.Ma.R_=K1.bind(null,e.eventManager),e.Ma.Wa=Q1.bind(null,e.eventManager),e}function fA(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uA.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return v1(this.persistence,new y1,e.initialUser,this.serializer)}ja(e){return new rE(om.ei,this.serializer)}za(e){return new R1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class pA extends gh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ge(this.persistence.referenceDelegate instanceof ph);const i=this.persistence.referenceDelegate.garbageCollector;return new n1(i,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new rE(i=>ph.ei(i,n),this.serializer)}}class Pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hA.bind(null,this.syncEngine),await Y1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G1}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),i=function(a){return new D1(a)}(e.databaseInfo);return function(a,c,f,p){return new O1(a,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,a,c,f){return new L1(i,o,a,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>dv(this.syncEngine,n,0),function(){return av.p()?new av:new P1}())}createSyncEngine(e,n){return function(o,a,c,f,p,y,w){const T=new eA(o,a,c,f,p,y);return w&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=Pe(o);ae("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await uu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{ae("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ae("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=fm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ep(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await iE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gA(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>lv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>lv(e.remoteStore,o)),t._onlineComponents=e}async function gA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await ep(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await ep(t,new gh)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await ep(t,new pA(void 0));return t._offlineComponents}async function RE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await pv(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await pv(t,new Pp))),t._onlineComponents}function yA(t){return RE(t).then(e=>e.syncEngine)}async function PE(t){const e=await RE(t),n=e.eventManager;return n.onListen=tA.bind(null,e.syncEngine),n.onUnlisten=iA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sA.bind(null,e.syncEngine),n}function _A(t,e,n={}){const i=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,f,p,y){const w=new kE({next:S=>{w.eu(),c.enqueueAndForget(()=>mE(a,T));const O=S.docs.has(f);!O&&S.fromCache?y.reject(new me(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&p&&p.source==="server"?y.reject(new me(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new gE(Zp(f.path),w,{includeMetadataChanges:!0,ua:!0});return pE(a,T)}(await PE(t),t.asyncQueue,e,n,i)),i.promise}function vA(t,e,n={}){const i=new ai;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,f,p,y){const w=new kE({next:S=>{w.eu(),c.enqueueAndForget(()=>mE(a,T)),S.fromCache&&p.source==="server"?y.reject(new me(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new gE(f,w,{includeMetadataChanges:!0,ua:!0});return pE(a,T)}(await PE(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t,e,n){if(!n)throw new me(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wA(t,e,n,i){if(e===!0&&i===!0)throw new me(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gv(t){if(!Ee.isDocumentKey(t))throw new me(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yv(t){if(Ee.isDocumentKey(t))throw new me(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gm(t);throw new me(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new DR;switch(i.type){case"firstParty":return new MR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=mv.get(n);i&&(ae("ComponentProvider","Removing Datastore"),mv.delete(n),i.terminate())}(this),Promise.resolve()}}function EA(t,e,n,i={}){var o;const a=(t=fi(t,Yh))._getSettings(),c=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Jt.MOCK_USER;else{f=ok(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new me(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jt(y)}t._authCredentials=new NR(new Iw(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qh(this.firestore,e,this._query)}}class Pn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class es extends qh{constructor(e,n,i){super(e,n,Zp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Ee(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function DE(t,e,...n){if(t=an(t),CE("collection","path",e),t instanceof Yh){const i=ut.fromString(e,...n);return yv(i),new es(t,null,i)}{if(!(t instanceof Pn||t instanceof es))throw new me(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return yv(i),new es(t.firestore,null,i)}}function yh(t,e,...n){if(t=an(t),arguments.length===1&&(e=kw.newId()),CE("doc","path",e),t instanceof Yh){const i=ut.fromString(e,...n);return gv(i),new Pn(t,null,new Ee(i))}{if(!(t instanceof Pn||t instanceof es))throw new me(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return gv(i),new Pn(t.firestore,t instanceof es?t.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new oE(this,"async_queue_retry"),this.fu=()=>{const i=Zf();i&&ae("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const n=Zf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new ai;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Sa(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw hi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=n,n}enqueueAfterDelay(e,n,i){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const o=dm.createAndSchedule(this,e,n,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class ka extends Yh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new vv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function TA(t,e){const n=typeof t=="object"?t:mw(),i=typeof t=="string"?t:"(default)",o=qp(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=ik("firestore");a&&EA(o,...a)}return o}function ym(t){if(t._terminated)throw new me(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SA(t),t._firestoreClient}function SA(t){var e,n,i;const o=t._freezeSettings(),a=function(f,p,y,w){return new KR(f,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,AE(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new mA(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ma($t.fromBase64String(e))}catch(n){throw new me(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ma($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=/^__.*__$/;class kA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class NE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class wm{constructor(e,n,i,o,a,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return _h(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(xE(this.Mu)&&IA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class RA{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Wh(e)}$u(e,n,i,o=!1){return new wm({Mu:e,methodName:n,Ku:i,path:Wt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OE(t){const e=t._freezeSettings(),n=Wh(t._databaseId);return new RA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PA(t,e,n,i,o,a={}){const c=t.$u(a.merge||a.mergeFields?2:0,e,n,o);Tm("Data must be an object, but it was:",c,i);const f=ME(i,c);let p,y;if(a.merge)p=new Rn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const T of a.mergeFields){const S=Ap(e,T,n);if(!c.contains(S))throw new me(Q.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);VE(w,S)||w.push(S)}p=new Rn(w),y=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=c.fieldTransforms;return new kA(new _n(f),p,y)}class Qh extends Kh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}class Em extends Kh{_toFieldTransform(e){return new EP(e.path,new ql)}isEqual(e){return e instanceof Em}}function AA(t,e,n,i){const o=t.$u(1,e,n);Tm("Data must be an object, but it was:",o,i);const a=[],c=_n.empty();ls(i,(p,y)=>{const w=Sm(e,p,n);y=an(y);const T=o.Bu(w);if(y instanceof Qh)a.push(w);else{const S=Xh(y,T);S!=null&&(a.push(w),c.set(w,S))}});const f=new Rn(a);return new NE(c,f,o.fieldTransforms)}function CA(t,e,n,i,o,a){const c=t.$u(1,e,n),f=[Ap(e,i,n)],p=[o];if(a.length%2!=0)throw new me(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)f.push(Ap(e,a[S])),p.push(a[S+1]);const y=[],w=_n.empty();for(let S=f.length-1;S>=0;--S)if(!VE(y,f[S])){const O=f[S];let F=p[S];F=an(F);const W=c.Bu(O);if(F instanceof Qh)y.push(O);else{const j=Xh(F,W);j!=null&&(y.push(O),w.set(O,j))}}const T=new Rn(y);return new NE(w,T,c.fieldTransforms)}function Xh(t,e){if(LE(t=an(t)))return Tm("Unsupported field value:",e,t),ME(t,e);if(t instanceof Kh)return function(i,o){if(!xE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const f of i){let p=Xh(f,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(t,e)}return function(i,o){if((i=an(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _P(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Dt.fromDate(i);return{timestampValue:fh(o.serializer,a)}}if(i instanceof Dt){const a=new Dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fh(o.serializer,a)}}if(i instanceof _m)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ma)return{bytesValue:Qw(o.serializer,i._byteString)};if(i instanceof Pn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:im(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof vm)return function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return em(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${gm(i)}`)}(t,e)}function ME(t,e){const n={};return Rw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(i,o)=>{const a=Xh(o,e.Ou(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function LE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof _m||t instanceof ma||t instanceof Pn||t instanceof Kh||t instanceof vm)}function Tm(t,e,n){if(!LE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=gm(n);throw i==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+i)}}function Ap(t,e,n){if((e=an(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return Sm(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}const DA=new RegExp("[~\\*/\\[\\]]");function Sm(t,e,n){if(e.search(DA)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new me(Q.INVALID_ARGUMENT,f+t+p)}function VE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NA extends bE{data(){return super.data()}}function FE(t,e){return typeof e=="string"?Sm(t,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OA{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ls(e,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,o;const a=(o=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>vt(c.doubleValue));return new vm(a)}convertGeoPoint(e){return new _m(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Vh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=is(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);Ge(nE(i));const o=new Hl(i.get(1),i.get(3)),a=new Ee(i.popFirst(5));return o.isEqual(n)||hi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UE extends bE{constructor(e,n,i,o,a,c){super(e,n,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(FE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Qc extends UE{data(e={}){return super.data(e)}}class LA{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Qc(this._firestore,this._userDataWriter,i.key,i,new Ol(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new Qc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ol(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const p=new Qc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ol(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:VA(f.type),doc:p,oldIndex:y,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){t=fi(t,Pn);const e=fi(t.firestore,ka);return _A(ym(e),t._key).then(n=>BA(e,t,n))}class jE extends OA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function FA(t){t=fi(t,qh);const e=fi(t.firestore,ka),n=ym(e),i=new jE(e);return xA(t._query),vA(n,t._query).then(o=>new LA(e,i,t,o))}function UA(t,e,n,...i){t=fi(t,Pn);const o=fi(t.firestore,ka),a=OE(o);let c;return c=typeof(e=an(e))=="string"||e instanceof Gh?CA(a,"updateDoc",t._key,e,n,i):AA(a,"updateDoc",t._key,e),Im(o,[c.toMutation(t._key,ir.exists(!0))])}function jA(t){return Im(fi(t.firestore,ka),[new tm(t._key,ir.none())])}function zA(t,e){const n=fi(t.firestore,ka),i=yh(t),o=MA(t.converter,e);return Im(n,[PA(OE(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,ir.exists(!1))]).then(()=>i)}function Im(t,e){return function(i,o){const a=new ai;return i.asyncQueue.enqueueAndForget(async()=>oA(await yA(i),o,a)),a.promise}(ym(t),e)}function BA(t,e,n){const i=n.docs.get(e._key),o=new jE(t);return new UE(t,o,e._key,i,new Ol(n.hasPendingWrites,n.fromCache),e.converter)}function WA(){return new Em("serverTimestamp")}(function(e,n=!0){(function(o){Ea=o})(wa),la(new qs("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),f=new ka(new xR(i.getProvider("auth-internal")),new VR(i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,w)}(c,o),c);return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Zi(V_,"4.7.5",e),Zi(V_,"4.7.5","esm2017")})();var $A="firebase",HA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi($A,HA,"app");function km(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function zE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YA=zE,BE=new su("auth","Firebase",zE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Hp("@firebase/auth");function qA(t,...e){vh.logLevel<=Oe.WARN&&vh.warn(`Auth (${wa}): ${t}`,...e)}function Xc(t,...e){vh.logLevel<=Oe.ERROR&&vh.error(`Auth (${wa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw Pm(t,...e)}function sr(t,...e){return Pm(t,...e)}function Rm(t,e,n){const i=Object.assign(Object.assign({},YA()),{[e]:n});return new su("auth","Firebase",i).create(e,{appName:t.name})}function Hs(t){return Rm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GA(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Pr(t,"argument-error"),Rm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pm(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return BE.create(t,...e)}function Ie(t,e,...n){if(!t)throw Pm(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xc(e),new Error(e)}function pi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KA(){return wv()==="http:"||wv()==="https:"}function wv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KA()||ck()||"connection"in navigator)?navigator.onLine:!0}function XA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=ak()||hk()}get(){return QA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new hu(3e4,6e4);function Cm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ra(t,e,n,i,o={}){return $E(t,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const f=ou(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const y=Object.assign({method:e,headers:p},a);return uk()||(y.referrerPolicy="no-referrer"),WE.fetch()(HE(t,t.config.apiHost,n,f),y)})}async function $E(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},JA),e);try{const o=new tC(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw jc(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const f=a.ok?c.errorMessage:c.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw jc(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw jc(t,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Rm(t,w,y);Pr(t,w)}}catch(o){if(o instanceof gi)throw o;Pr(t,"network-request-failed",{message:String(o)})}}async function eC(t,e,n,i,o={}){const a=await Ra(t,e,n,i,o);return"mfaPendingCredential"in a&&Pr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function HE(t,e,n,i){const o=`${e}${n}?${i}`;return t.config.emulator?Am(t.config,o):`${t.config.apiScheme}://${o}`}class tC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(sr(this.auth,"network-request-failed")),ZA.get())})}}function jc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=sr(t,e,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(t,e){return Ra(t,"POST","/v1/accounts:delete",e)}async function YE(t,e){return Ra(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rC(t,e=!1){const n=an(t),i=await n.getIdToken(e),o=Dm(i);Ie(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Ul(tp(o.auth_time)),issuedAtTime:Ul(tp(o.iat)),expirationTime:Ul(tp(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tp(t){return Number(t)*1e3}function Dm(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=lw(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ev(t){const e=Dm(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof gi&&iC(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function iC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){var e;const n=t.auth,i=await t.getIdToken(),o=await Ql(t,YE(n,{idToken:i}));Ie(o==null?void 0:o.users.length,n,"internal-error");const a=o.users[0];t._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?qE(a.providerUserInfo):[],f=aC(t.providerData,c),p=t.isAnonymous,y=!(t.email&&a.passwordHash)&&!(f!=null&&f.length),w=p?y:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Dp(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(t,T)}async function oC(t){const e=an(t);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aC(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function qE(t){return t.map(e=>{var{providerId:n}=e,i=km(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(t,e){const n=await $E(t,{},async()=>{const i=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=HE(t,o,"/v1/token",`key=${a}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",WE.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uC(t,e){return Ra(t,"POST","/v2/accounts:revokeToken",Cm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ev(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=Ev(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:a}=await lC(e,n);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:a}=n,c=new ta;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ie(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,a=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rC(this,e)}reload(){return oC(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Ql(this,nC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,a,c,f,p,y,w;const T=(i=n.displayName)!==null&&i!==void 0?i:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,O=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,F=(c=n.photoURL)!==null&&c!==void 0?c:void 0,W=(f=n.tenantId)!==null&&f!==void 0?f:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,X=(w=n.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:re,emailVerified:pe,isAnonymous:Ce,providerData:Re,stsTokenManager:D}=n;Ie(re&&D,e,"internal-error");const I=ta.fromJSON(this.name,D);Ie(typeof re=="string",e,"internal-error"),$i(T,e.name),$i(S,e.name),Ie(typeof pe=="boolean",e,"internal-error"),Ie(typeof Ce=="boolean",e,"internal-error"),$i(O,e.name),$i(F,e.name),$i(W,e.name),$i(j,e.name),$i(Y,e.name),$i(X,e.name);const R=new ni({uid:re,auth:e,email:S,emailVerified:pe,displayName:T,isAnonymous:Ce,photoURL:F,phoneNumber:O,tenantId:W,stsTokenManager:I,createdAt:Y,lastLoginAt:X});return Re&&Array.isArray(Re)&&(R.providerData=Re.map(C=>Object.assign({},C))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,n,i=!1){const o=new ta;o.updateFromServerResponse(n);const a=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await wh(a),a}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Ie(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?qE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new ta;f.updateFromIdToken(i);const p=new ni({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;function ri(t){pi(t instanceof Function,"Expected a class definition");let e=Tv.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GE.type="NONE";const Sv=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e,n){return`firebase:${t}:${e}:${n}`}class na{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Jc("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new na(ri(Sv),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||ri(Sv);const c=Jc(i,e.config.apiKey,e.name);let f=null;for(const y of n)try{const w=await y._get(c);if(w){const T=ni._fromJSON(e,w);y!==a&&(f=T),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new na(a,e,i):(a=p[0],f&&await a._set(c,f.toJSON()),await Promise.all(n.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new na(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if(QE(e))return"Safari";if((e.includes("chrome/")||XE(e))&&!e.includes("edge/"))return"Chrome";if(ZE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function KE(t=tn()){return/firefox\//i.test(t)}function QE(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XE(t=tn()){return/crios\//i.test(t)}function JE(t=tn()){return/iemobile/i.test(t)}function ZE(t=tn()){return/android/i.test(t)}function eT(t=tn()){return/blackberry/i.test(t)}function tT(t=tn()){return/webos/i.test(t)}function Nm(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cC(t=tn()){var e;return Nm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hC(){return dk()&&document.documentMode===10}function nT(t=tn()){return Nm(t)||ZE(t)||tT(t)||eT(t)||/windows phone/i.test(t)||JE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e=[]){let n;switch(t){case"Browser":n=Iv(tn());break;case"Worker":n=`${Iv(tn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((c,f)=>{try{const p=e(a);c(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t,e={}){return Ra(t,"GET","/v2/passwordPolicy",Cm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=6;class mC{constructor(e){var n,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:pC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,a,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YE(this,{idToken:e}),i=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Hs(this));const n=e?an(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fC(this),n=new mC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await uC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jh(t){return an(t)}class kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=wk(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yC(t){xm=t}function _C(t){return xm.loadJS(t)}function vC(){return xm.gapiScript}function wC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e){const n=qp(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(ah(a,e??{}))return o;Pr(o,"already-initialized")}return n.initialize({options:e})}function TC(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function SC(t,e,n){const i=Jh(t);Ie(i._canInitEmulator,i,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=iT(e),{host:c,port:f}=IC(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),kC()}function iT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IC(t){const e=iT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Rv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Rv(c)}}}function Rv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e){return eC(t,"POST","/v1/accounts:signInWithIdp",Cm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="http://localhost";class Ks extends sT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,a=km(n,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ks(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ra(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ra(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ra(e,n)}buildRequest(){const e={requestUri:RC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends du{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Zr.credential(n,i)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends du{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends du{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return qi.credential(n,i)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const a=await ni._fromIdTokenResponse(e,i,o),c=Pv(i);return new ga({user:a,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Pv(i);return new ga({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Pv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends gi{constructor(e,n,i,o){var a;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Eh(e,n,i,o)}}function oT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(t,a,e,i):a})}async function PC(t,e,n=!1){const i=await Ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(t,e,n=!1){const{auth:i}=t;if(ei(i.app))return Promise.reject(Hs(i));const o="reauthenticate";try{const a=await Ql(t,oT(i,o,e,t),n);Ie(a.idToken,i,"internal-error");const c=Dm(a.idToken);Ie(c,i,"internal-error");const{sub:f}=c;return Ie(t.uid===f,i,"user-mismatch"),ga._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Pr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t,e,n=!1){if(ei(t.app))return Promise.reject(Hs(t));const i="signIn",o=await oT(t,i,e),a=await ga._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(a.user),a}function DC(t,e,n,i){return an(t).onIdTokenChanged(e,n,i)}function NC(t,e,n){return an(t).beforeAuthStateChanged(e,n)}function xC(t){return an(t).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=1e3,MC=10;class lT extends aT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);hC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MC):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lT.type="LOCAL";const LC=lT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends aT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uT.type="SESSION";const cT=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Zh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async y=>y(n.origin,a)),p=await VC(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((f,p)=>{const y=Mm("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(S.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function FC(t){Sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function UC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zC(){return hT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebaseLocalStorageDb",BC=1,Sh="firebaseLocalStorage",fT="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(t,e){return t.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function WC(){const t=indexedDB.deleteDatabase(dT);return new fu(t).toPromise()}function Np(){const t=indexedDB.open(dT,BC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Sh,{keyPath:fT})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Sh)?e(i):(i.close(),await WC(),e(await Np()))})})}async function Av(t,e,n){const i=ed(t,!0).put({[fT]:e,value:n});return new fu(i).toPromise()}async function $C(t,e){const n=ed(t,!1).get(e),i=await new fu(n).toPromise();return i===void 0?null:i.value}function Cv(t,e){const n=ed(t,!0).delete(e);return new fu(n).toPromise()}const HC=800,YC=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>YC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(zC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await Av(e,Th,"1"),await Cv(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Av(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$C(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=ed(o,!1).getAll();return new fu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const qC=pT;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e){return e?ri(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends sT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GC(t){return CC(t.auth,new Lm(t),t.bypassAuthState)}function KC(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),AC(n,new Lm(t),t.bypassAuthState)}async function QC(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),PC(n,new Lm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:a,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GC;case"linkViaPopup":case"linkViaRedirect":return QC;case"reauthViaPopup":case"reauthViaRedirect":return KC;default:Pr(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new hu(2e3,1e4);async function JC(t,e,n){if(ei(t.app))return Promise.reject(sr(t,"operation-not-supported-in-this-environment"));const i=Jh(t);GA(t,e,Om);const o=mT(i,n);return new zs(i,"signInViaPopup",e,o).executeNotNull()}class zs extends gT{constructor(e,n,i,o,a){super(e,n,o,a),this.provider=i,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XC.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="pendingRedirect",Zc=new Map;class eD extends gT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const i=await tD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tD(t,e){const n=iD(e),i=rD(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function nD(t,e){Zc.set(t._key(),e)}function rD(t){return ri(t._redirectPersistence)}function iD(t){return Jc(ZC,t.config.apiKey,t.name)}async function sD(t,e,n=!1){if(ei(t.app))return Promise.reject(Hs(t));const i=Jh(t),o=mT(i,e),c=await new eD(i,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=10*60*1e3;class aD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!yT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(e))}saveEventToCache(e){this.cachedEventUids.add(Dv(e)),this.lastProcessedEventTime=Date.now()}}function Dv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e={}){return Ra(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hD=/^https?/;async function dD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uD(t);for(const n of e)try{if(fD(n))return}catch{}Pr(t,"unauthorized-domain")}function fD(t){const e=Cp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!hD.test(n))return!1;if(cD.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new hu(3e4,6e4);function Nv(){const t=Sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mD(t){return new Promise((e,n)=>{var i,o,a;function c(){Nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nv(),n(sr(t,"network-request-failed"))},timeout:pD.get()})}if(!((o=(i=Sr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Sr().gapi)===null||a===void 0)&&a.load)c();else{const f=wC("iframefcb");return Sr()[f]=()=>{gapi.load?c():n(sr(t,"network-request-failed"))},_C(`${vC()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw eh=null,e})}let eh=null;function gD(t){return eh=eh||mD(t),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new hu(5e3,15e3),_D="__/auth/iframe",vD="emulator/auth/iframe",wD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ED=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TD(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Am(e,vD):`https://${t.config.authDomain}/${_D}`,i={apiKey:e.apiKey,appName:t.name,v:wa},o=ED.get(t.config.apiHost);o&&(i.eid=o);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${ou(i).slice(1)}`}async function SD(t){const e=await gD(t),n=Sr().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:TD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wD,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=sr(t,"network-request-failed"),f=Sr().setTimeout(()=>{a(c)},yD.get());function p(){Sr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kD=500,RD=600,PD="_blank",AD="http://localhost";class xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CD(t,e,n,i=kD,o=RD){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},ID),{width:i.toString(),height:o.toString(),top:a,left:c}),y=tn().toLowerCase();n&&(f=XE(y)?PD:n),KE(y)&&(e=e||AD,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[O,F])=>`${S}${O}=${F},`,"");if(cC(y)&&f!=="_self")return DD(e||"",f),new xv(null);const T=window.open(e||"",f,w);Ie(T,t,"popup-blocked");try{T.focus()}catch{}return new xv(T)}function DD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="__/auth/handler",xD="emulator/auth/handler",OD=encodeURIComponent("fac");async function Ov(t,e,n,i,o,a){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:wa,eventId:o};if(e instanceof Om){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",vk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))c[w]=T}if(e instanceof du){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(c.scopes=w.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await t._getAppCheckToken(),y=p?`#${OD}=${encodeURIComponent(p)}`:"";return`${MD(t)}?${ou(f).slice(1)}${y}`}function MD({config:t}){return t.emulator?Am(t,xD):`https://${t.authDomain}/${ND}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class LD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cT,this._completeRedirectFn=sD,this._overrideRedirectResult=nD}async _openPopup(e,n,i,o){var a;pi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Ov(e,n,i,Cp(),o);return CD(e,c,Mm())}async _openRedirect(e,n,i,o){await this._originValidation(e);const a=await Ov(e,n,i,Cp(),o);return FC(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(pi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await SD(e),i=new aD(e);return n.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[np];c!==void 0&&n(!!c),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nT()||QE()||Nm()}}const VD=LD;var Mv="@firebase/auth",Lv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UD(t){la(new qs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(t)},y=new gC(i,o,a,p);return TC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),la(new qs("auth-internal",e=>{const n=Jh(e.getProvider("auth").getImmediate());return(i=>new bD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(Mv,Lv,FD(t)),Zi(Mv,Lv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=5*60,zD=hw("authIdTokenMaxAge")||jD;let Vv=null;const BD=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>zD)return;const o=n==null?void 0:n.token;Vv!==o&&(Vv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WD(t=mw()){const e=qp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EC(t,{popupRedirectResolver:VD,persistence:[qC,LC,cT]}),i=hw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=BD(a.toString());NC(n,c,()=>c(n.currentUser)),DC(n,f=>c(f))}}const o=uw("auth");return o&&SC(n,`http://${o}`),n}function $D(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yC({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const a=sr("internal-error");a.customData=o,n(a)},i.type="text/javascript",i.charset="UTF-8",$D().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UD("Browser");const HD={apiKey:"AIzaSyDEST921aiWwqG2s9AeVPftgEGcIsEGxHk",authDomain:"stelblogsite.firebaseapp.com",databaseURL:"https://stelblogsite-default-rtdb.firebaseio.com",projectId:"stelblogsite",storageBucket:"stelblogsite.appspot.com",messagingSenderId:"318855763352",appId:"1:318855763352:web:d944f5dfbdec90df4807ed"},_T=pw(HD),Xl=TA(_T),ia=WD(_T),YD=new Zr;var vT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bv=Ws.createContext&&Ws.createContext(vT),qD=["attr","size","title"];function GD(t,e){if(t==null)return{};var n=KD(t,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function KD(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Ih(){return Ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ih.apply(this,arguments)}function Fv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fv(Object(n),!0).forEach(function(i){QD(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function QD(t,e,n){return e=XD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XD(t){var e=JD(t,"string");return typeof e=="symbol"?e:e+""}function JD(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wT(t){return t&&t.map((e,n)=>Ws.createElement(e.tag,kh({key:n},e.attr),wT(e.child)))}function ET(t){return e=>Ws.createElement(ZD,Ih({attr:kh({},t.attr)},e),wT(t.child))}function ZD(t){var e=n=>{var{attr:i,size:o,title:a}=t,c=GD(t,qD),f=o||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),Ws.createElement("svg",Ih({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:p,style:kh(kh({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),a&&Ws.createElement("title",null,a),t.children)};return bv!==void 0?Ws.createElement(bv.Consumer,null,n=>e(n)):e(vT)}function eN(t){return ET({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function tN(t){return ET({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var TT;function ie(){return TT.apply(null,arguments)}function nN(t){TT=t}function or(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ys(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function $e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vm(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if($e(t,e))return!1;return!0}function gn(t){return t===void 0}function mi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function pu(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function ST(t,e){var n=[],i,o=t.length;for(i=0;i<o;++i)n.push(e(t[i],i));return n}function Ki(t,e){for(var n in e)$e(e,n)&&(t[n]=e[n]);return $e(e,"toString")&&(t.toString=e.toString),$e(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Nr(t,e,n,i){return YT(t,e,n,i,!0).utc()}function rN(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ae(t){return t._pf==null&&(t._pf=rN()),t._pf}var xp;Array.prototype.some?xp=Array.prototype.some:xp=function(t){var e=Object(this),n=e.length>>>0,i;for(i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};function bm(t){var e=null,n=!1,i=t._d&&!isNaN(t._d.getTime());if(i&&(e=Ae(t),n=xp.call(e.parsedDateParts,function(o){return o!=null}),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=i;else return i;return t._isValid}function td(t){var e=Nr(NaN);return t!=null?Ki(Ae(e),t):Ae(e).userInvalidated=!0,e}var Uv=ie.momentProperties=[],rp=!1;function Fm(t,e){var n,i,o,a=Uv.length;if(gn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),gn(e._i)||(t._i=e._i),gn(e._f)||(t._f=e._f),gn(e._l)||(t._l=e._l),gn(e._strict)||(t._strict=e._strict),gn(e._tzm)||(t._tzm=e._tzm),gn(e._isUTC)||(t._isUTC=e._isUTC),gn(e._offset)||(t._offset=e._offset),gn(e._pf)||(t._pf=Ae(e)),gn(e._locale)||(t._locale=e._locale),a>0)for(n=0;n<a;n++)i=Uv[n],o=e[i],gn(o)||(t[i]=o);return t}function mu(t){Fm(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),rp===!1&&(rp=!0,ie.updateOffset(this),rp=!1)}function ar(t){return t instanceof mu||t!=null&&t._isAMomentObject!=null}function IT(t){ie.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function jn(t,e){var n=!0;return Ki(function(){if(ie.deprecationHandler!=null&&ie.deprecationHandler(null,t),n){var i=[],o,a,c,f=arguments.length;for(a=0;a<f;a++){if(o="",typeof arguments[a]=="object"){o+=`
[`+a+"] ";for(c in arguments[0])$e(arguments[0],c)&&(o+=c+": "+arguments[0][c]+", ");o=o.slice(0,-2)}else o=arguments[a];i.push(o)}IT(t+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var jv={};function kT(t,e){ie.deprecationHandler!=null&&ie.deprecationHandler(t,e),jv[t]||(IT(e),jv[t]=!0)}ie.suppressDeprecationWarnings=!1;ie.deprecationHandler=null;function xr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function iN(t){var e,n;for(n in t)$e(t,n)&&(e=t[n],xr(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Op(t,e){var n=Ki({},t),i;for(i in e)$e(e,i)&&(Ys(t[i])&&Ys(e[i])?(n[i]={},Ki(n[i],t[i]),Ki(n[i],e[i])):e[i]!=null?n[i]=e[i]:delete n[i]);for(i in t)$e(t,i)&&!$e(e,i)&&Ys(t[i])&&(n[i]=Ki({},n[i]));return n}function Um(t){t!=null&&this.set(t)}var Mp;Object.keys?Mp=Object.keys:Mp=function(t){var e,n=[];for(e in t)$e(t,e)&&n.push(e);return n};var sN={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function oN(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return xr(i)?i.call(e,n):i}function Ar(t,e,n){var i=""+Math.abs(t),o=e-i.length,a=t>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var jm=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ip={},sa={};function ye(t,e,n,i){var o=i;typeof i=="string"&&(o=function(){return this[i]()}),t&&(sa[t]=o),e&&(sa[e[0]]=function(){return Ar(o.apply(this,arguments),e[1],e[2])}),n&&(sa[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function aN(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function lN(t){var e=t.match(jm),n,i;for(n=0,i=e.length;n<i;n++)sa[e[n]]?e[n]=sa[e[n]]:e[n]=aN(e[n]);return function(o){var a="",c;for(c=0;c<i;c++)a+=xr(e[c])?e[c].call(o,t):e[c];return a}}function th(t,e){return t.isValid()?(e=RT(e,t.localeData()),ip[e]=ip[e]||lN(e),ip[e](t)):t.localeData().invalidDate()}function RT(t,e){var n=5;function i(o){return e.longDateFormat(o)||o}for(zc.lastIndex=0;n>=0&&zc.test(t);)t=t.replace(zc,i),zc.lastIndex=0,n-=1;return t}var uN={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function cN(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(jm).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[t])}var hN="Invalid date";function dN(){return this._invalidDate}var fN="%d",pN=/\d{1,2}/;function mN(t){return this._ordinal.replace("%d",t)}var gN={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yN(t,e,n,i){var o=this._relativeTime[n];return xr(o)?o(t,e,n,i):o.replace(/%d/i,t)}function _N(t,e){var n=this._relativeTime[t>0?"future":"past"];return xr(n)?n(e):n.replace(/%s/i,e)}var zv={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function zn(t){return typeof t=="string"?zv[t]||zv[t.toLowerCase()]:void 0}function zm(t){var e={},n,i;for(i in t)$e(t,i)&&(n=zn(i),n&&(e[n]=t[i]));return e}var vN={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function wN(t){var e=[],n;for(n in t)$e(t,n)&&e.push({unit:n,priority:vN[n]});return e.sort(function(i,o){return i.priority-o.priority}),e}var PT=/\d/,An=/\d\d/,AT=/\d{3}/,Bm=/\d{4}/,nd=/[+-]?\d{6}/,st=/\d\d?/,CT=/\d\d\d\d?/,DT=/\d\d\d\d\d\d?/,rd=/\d{1,3}/,Wm=/\d{1,4}/,id=/[+-]?\d{1,6}/,Pa=/\d+/,sd=/[+-]?\d+/,EN=/Z|[+-]\d\d:?\d\d/gi,od=/Z|[+-]\d\d(?::?\d\d)?/gi,TN=/[+-]?\d+(\.\d{1,3})?/,gu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Aa=/^[1-9]\d?/,$m=/^([1-9]\d|\d)/,Rh;Rh={};function le(t,e,n){Rh[t]=xr(e)?e:function(i,o){return i&&n?n:e}}function SN(t,e){return $e(Rh,t)?Rh[t](e._strict,e._locale):new RegExp(IN(t))}function IN(t){return li(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,i,o,a){return n||i||o||a}))}function li(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Un(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Le(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Un(e)),n}var Lp={};function Xe(t,e){var n,i=e,o;for(typeof t=="string"&&(t=[t]),mi(e)&&(i=function(a,c){c[e]=Le(a)}),o=t.length,n=0;n<o;n++)Lp[t[n]]=i}function yu(t,e){Xe(t,function(n,i,o,a){o._w=o._w||{},e(n,o._w,o,a)})}function kN(t,e,n){e!=null&&$e(Lp,t)&&Lp[t](e,n._a,n,t)}function ad(t){return t%4===0&&t%100!==0||t%400===0}var en=0,ii=1,wr=2,Ct=3,rr=4,si=5,Bs=6,RN=7,PN=8;ye("Y",0,0,function(){var t=this.year();return t<=9999?Ar(t,4):"+"+t});ye(0,["YY",2],0,function(){return this.year()%100});ye(0,["YYYY",4],0,"year");ye(0,["YYYYY",5],0,"year");ye(0,["YYYYYY",6,!0],0,"year");le("Y",sd);le("YY",st,An);le("YYYY",Wm,Bm);le("YYYYY",id,nd);le("YYYYYY",id,nd);Xe(["YYYYY","YYYYYY"],en);Xe("YYYY",function(t,e){e[en]=t.length===2?ie.parseTwoDigitYear(t):Le(t)});Xe("YY",function(t,e){e[en]=ie.parseTwoDigitYear(t)});Xe("Y",function(t,e){e[en]=parseInt(t,10)});function jl(t){return ad(t)?366:365}ie.parseTwoDigitYear=function(t){return Le(t)+(Le(t)>68?1900:2e3)};var NT=Ca("FullYear",!0);function AN(){return ad(this.year())}function Ca(t,e){return function(n){return n!=null?(xT(this,t,n),ie.updateOffset(this,e),this):Jl(this,t)}}function Jl(t,e){if(!t.isValid())return NaN;var n=t._d,i=t._isUTC;switch(e){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function xT(t,e,n){var i,o,a,c,f;if(!(!t.isValid()||isNaN(n))){switch(i=t._d,o=t._isUTC,e){case"Milliseconds":return void(o?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(o?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(o?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(o?i.setUTCHours(n):i.setHours(n));case"Date":return void(o?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}a=n,c=t.month(),f=t.date(),f=f===29&&c===1&&!ad(a)?28:f,o?i.setUTCFullYear(a,c,f):i.setFullYear(a,c,f)}}function CN(t){return t=zn(t),xr(this[t])?this[t]():this}function DN(t,e){if(typeof t=="object"){t=zm(t);var n=wN(t),i,o=n.length;for(i=0;i<o;i++)this[n[i].unit](t[n[i].unit])}else if(t=zn(t),xr(this[t]))return this[t](e);return this}function NN(t,e){return(t%e+e)%e}var _t;Array.prototype.indexOf?_t=Array.prototype.indexOf:_t=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Hm(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=NN(e,12);return t+=(e-n)/12,n===1?ad(t)?29:28:31-n%7%2}ye("M",["MM",2],"Mo",function(){return this.month()+1});ye("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});ye("MMMM",0,0,function(t){return this.localeData().months(this,t)});le("M",st,Aa);le("MM",st,An);le("MMM",function(t,e){return e.monthsShortRegex(t)});le("MMMM",function(t,e){return e.monthsRegex(t)});Xe(["M","MM"],function(t,e){e[ii]=Le(t)-1});Xe(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);o!=null?e[ii]=o:Ae(n).invalidMonth=t});var xN="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),OT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ON=gu,MN=gu;function LN(t,e){return t?or(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||MT).test(e)?"format":"standalone"][t.month()]:or(this._months)?this._months:this._months.standalone}function VN(t,e){return t?or(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[MT.test(e)?"format":"standalone"][t.month()]:or(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function bN(t,e,n){var i,o,a,c=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=Nr([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?e==="MMM"?(o=_t.call(this._shortMonthsParse,c),o!==-1?o:null):(o=_t.call(this._longMonthsParse,c),o!==-1?o:null):e==="MMM"?(o=_t.call(this._shortMonthsParse,c),o!==-1?o:(o=_t.call(this._longMonthsParse,c),o!==-1?o:null)):(o=_t.call(this._longMonthsParse,c),o!==-1?o:(o=_t.call(this._shortMonthsParse,c),o!==-1?o:null))}function FN(t,e,n){var i,o,a;if(this._monthsParseExact)return bN.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=Nr([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[i].test(t))return i;if(n&&e==="MMM"&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function LT(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Le(e);else if(e=t.localeData().monthsParse(e),!mi(e))return t}var n=e,i=t.date();return i=i<29?i:Math.min(i,Hm(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,i):t._d.setMonth(n,i),t}function VT(t){return t!=null?(LT(this,t),ie.updateOffset(this,!0),this):Jl(this,"Month")}function UN(){return Hm(this.year(),this.month())}function jN(t){return this._monthsParseExact?($e(this,"_monthsRegex")||bT.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):($e(this,"_monthsShortRegex")||(this._monthsShortRegex=ON),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function zN(t){return this._monthsParseExact?($e(this,"_monthsRegex")||bT.call(this),t?this._monthsStrictRegex:this._monthsRegex):($e(this,"_monthsRegex")||(this._monthsRegex=MN),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function bT(){function t(p,y){return y.length-p.length}var e=[],n=[],i=[],o,a,c,f;for(o=0;o<12;o++)a=Nr([2e3,o]),c=li(this.monthsShort(a,"")),f=li(this.months(a,"")),e.push(c),n.push(f),i.push(f),i.push(c);e.sort(t),n.sort(t),i.sort(t),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function BN(t,e,n,i,o,a,c){var f;return t<100&&t>=0?(f=new Date(t+400,e,n,i,o,a,c),isFinite(f.getFullYear())&&f.setFullYear(t)):f=new Date(t,e,n,i,o,a,c),f}function Zl(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ph(t,e,n){var i=7+e-n,o=(7+Zl(t,0,i).getUTCDay()-e)%7;return-o+i-1}function FT(t,e,n,i,o){var a=(7+n-i)%7,c=Ph(t,i,o),f=1+7*(e-1)+a+c,p,y;return f<=0?(p=t-1,y=jl(p)+f):f>jl(t)?(p=t+1,y=f-jl(t)):(p=t,y=f),{year:p,dayOfYear:y}}function eu(t,e,n){var i=Ph(t.year(),e,n),o=Math.floor((t.dayOfYear()-i-1)/7)+1,a,c;return o<1?(c=t.year()-1,a=o+ui(c,e,n)):o>ui(t.year(),e,n)?(a=o-ui(t.year(),e,n),c=t.year()+1):(c=t.year(),a=o),{week:a,year:c}}function ui(t,e,n){var i=Ph(t,e,n),o=Ph(t+1,e,n);return(jl(t)-i+o)/7}ye("w",["ww",2],"wo","week");ye("W",["WW",2],"Wo","isoWeek");le("w",st,Aa);le("ww",st,An);le("W",st,Aa);le("WW",st,An);yu(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=Le(t)});function WN(t){return eu(t,this._week.dow,this._week.doy).week}var $N={dow:0,doy:6};function HN(){return this._week.dow}function YN(){return this._week.doy}function qN(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function GN(t){var e=eu(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ye("d",0,"do","day");ye("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});ye("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});ye("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});ye("e",0,0,"weekday");ye("E",0,0,"isoWeekday");le("d",st);le("e",st);le("E",st);le("dd",function(t,e){return e.weekdaysMinRegex(t)});le("ddd",function(t,e){return e.weekdaysShortRegex(t)});le("dddd",function(t,e){return e.weekdaysRegex(t)});yu(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);o!=null?e.d=o:Ae(n).invalidWeekday=t});yu(["d","e","E"],function(t,e,n,i){e[i]=Le(t)});function KN(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function QN(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ym(t,e){return t.slice(e,7).concat(t.slice(0,e))}var XN="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),UT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),JN="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ZN=gu,ex=gu,tx=gu;function nx(t,e){var n=or(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Ym(n,this._week.dow):t?n[t.day()]:n}function rx(t){return t===!0?Ym(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function ix(t){return t===!0?Ym(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function sx(t,e,n){var i,o,a,c=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=Nr([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?e==="dddd"?(o=_t.call(this._weekdaysParse,c),o!==-1?o:null):e==="ddd"?(o=_t.call(this._shortWeekdaysParse,c),o!==-1?o:null):(o=_t.call(this._minWeekdaysParse,c),o!==-1?o:null):e==="dddd"?(o=_t.call(this._weekdaysParse,c),o!==-1||(o=_t.call(this._shortWeekdaysParse,c),o!==-1)?o:(o=_t.call(this._minWeekdaysParse,c),o!==-1?o:null)):e==="ddd"?(o=_t.call(this._shortWeekdaysParse,c),o!==-1||(o=_t.call(this._weekdaysParse,c),o!==-1)?o:(o=_t.call(this._minWeekdaysParse,c),o!==-1?o:null)):(o=_t.call(this._minWeekdaysParse,c),o!==-1||(o=_t.call(this._weekdaysParse,c),o!==-1)?o:(o=_t.call(this._shortWeekdaysParse,c),o!==-1?o:null))}function ox(t,e,n){var i,o,a;if(this._weekdaysParseExact)return sx.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=Nr([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[i].test(t))return i;if(n&&e==="ddd"&&this._shortWeekdaysParse[i].test(t))return i;if(n&&e==="dd"&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function ax(t){if(!this.isValid())return t!=null?this:NaN;var e=Jl(this,"Day");return t!=null?(t=KN(t,this.localeData()),this.add(t-e,"d")):e}function lx(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function ux(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=QN(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function cx(t){return this._weekdaysParseExact?($e(this,"_weekdaysRegex")||qm.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):($e(this,"_weekdaysRegex")||(this._weekdaysRegex=ZN),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function hx(t){return this._weekdaysParseExact?($e(this,"_weekdaysRegex")||qm.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):($e(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ex),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function dx(t){return this._weekdaysParseExact?($e(this,"_weekdaysRegex")||qm.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):($e(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tx),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qm(){function t(w,T){return T.length-w.length}var e=[],n=[],i=[],o=[],a,c,f,p,y;for(a=0;a<7;a++)c=Nr([2e3,1]).day(a),f=li(this.weekdaysMin(c,"")),p=li(this.weekdaysShort(c,"")),y=li(this.weekdays(c,"")),e.push(f),n.push(p),i.push(y),o.push(f),o.push(p),o.push(y);e.sort(t),n.sort(t),i.sort(t),o.sort(t),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Gm(){return this.hours()%12||12}function fx(){return this.hours()||24}ye("H",["HH",2],0,"hour");ye("h",["hh",2],0,Gm);ye("k",["kk",2],0,fx);ye("hmm",0,0,function(){return""+Gm.apply(this)+Ar(this.minutes(),2)});ye("hmmss",0,0,function(){return""+Gm.apply(this)+Ar(this.minutes(),2)+Ar(this.seconds(),2)});ye("Hmm",0,0,function(){return""+this.hours()+Ar(this.minutes(),2)});ye("Hmmss",0,0,function(){return""+this.hours()+Ar(this.minutes(),2)+Ar(this.seconds(),2)});function jT(t,e){ye(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}jT("a",!0);jT("A",!1);function zT(t,e){return e._meridiemParse}le("a",zT);le("A",zT);le("H",st,$m);le("h",st,Aa);le("k",st,Aa);le("HH",st,An);le("hh",st,An);le("kk",st,An);le("hmm",CT);le("hmmss",DT);le("Hmm",CT);le("Hmmss",DT);Xe(["H","HH"],Ct);Xe(["k","kk"],function(t,e,n){var i=Le(t);e[Ct]=i===24?0:i});Xe(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Xe(["h","hh"],function(t,e,n){e[Ct]=Le(t),Ae(n).bigHour=!0});Xe("hmm",function(t,e,n){var i=t.length-2;e[Ct]=Le(t.substr(0,i)),e[rr]=Le(t.substr(i)),Ae(n).bigHour=!0});Xe("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Ct]=Le(t.substr(0,i)),e[rr]=Le(t.substr(i,2)),e[si]=Le(t.substr(o)),Ae(n).bigHour=!0});Xe("Hmm",function(t,e,n){var i=t.length-2;e[Ct]=Le(t.substr(0,i)),e[rr]=Le(t.substr(i))});Xe("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[Ct]=Le(t.substr(0,i)),e[rr]=Le(t.substr(i,2)),e[si]=Le(t.substr(o))});function px(t){return(t+"").toLowerCase().charAt(0)==="p"}var mx=/[ap]\.?m?\.?/i,gx=Ca("Hours",!0);function yx(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var BT={calendar:sN,longDateFormat:uN,invalidDate:hN,ordinal:fN,dayOfMonthOrdinalParse:pN,relativeTime:gN,months:xN,monthsShort:OT,week:$N,weekdays:XN,weekdaysMin:JN,weekdaysShort:UT,meridiemParse:mx},lt={},Pl={},tu;function _x(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function Bv(t){return t&&t.toLowerCase().replace("_","-")}function vx(t){for(var e=0,n,i,o,a;e<t.length;){for(a=Bv(t[e]).split("-"),n=a.length,i=Bv(t[e+1]),i=i?i.split("-"):null;n>0;){if(o=ld(a.slice(0,n).join("-")),o)return o;if(i&&i.length>=n&&_x(a,i)>=n-1)break;n--}e++}return tu}function wx(t){return!!(t&&t.match("^[^/\\\\]*$"))}function ld(t){var e=null,n;if(lt[t]===void 0&&typeof ih<"u"&&ih&&ih.exports&&wx(t))try{e=tu._abbr,n=require,n("./locale/"+t),ts(e)}catch{lt[t]=null}return lt[t]}function ts(t,e){var n;return t&&(gn(e)?n=yi(t):n=Km(t,e),n?tu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),tu._abbr}function Km(t,e){if(e!==null){var n,i=BT;if(e.abbr=t,lt[t]!=null)kT("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=lt[t]._config;else if(e.parentLocale!=null)if(lt[e.parentLocale]!=null)i=lt[e.parentLocale]._config;else if(n=ld(e.parentLocale),n!=null)i=n._config;else return Pl[e.parentLocale]||(Pl[e.parentLocale]=[]),Pl[e.parentLocale].push({name:t,config:e}),null;return lt[t]=new Um(Op(i,e)),Pl[t]&&Pl[t].forEach(function(o){Km(o.name,o.config)}),ts(t),lt[t]}else return delete lt[t],null}function Ex(t,e){if(e!=null){var n,i,o=BT;lt[t]!=null&&lt[t].parentLocale!=null?lt[t].set(Op(lt[t]._config,e)):(i=ld(t),i!=null&&(o=i._config),e=Op(o,e),i==null&&(e.abbr=t),n=new Um(e),n.parentLocale=lt[t],lt[t]=n),ts(t)}else lt[t]!=null&&(lt[t].parentLocale!=null?(lt[t]=lt[t].parentLocale,t===ts()&&ts(t)):lt[t]!=null&&delete lt[t]);return lt[t]}function yi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return tu;if(!or(t)){if(e=ld(t),e)return e;t=[t]}return vx(t)}function Tx(){return Mp(lt)}function Qm(t){var e,n=t._a;return n&&Ae(t).overflow===-2&&(e=n[ii]<0||n[ii]>11?ii:n[wr]<1||n[wr]>Hm(n[en],n[ii])?wr:n[Ct]<0||n[Ct]>24||n[Ct]===24&&(n[rr]!==0||n[si]!==0||n[Bs]!==0)?Ct:n[rr]<0||n[rr]>59?rr:n[si]<0||n[si]>59?si:n[Bs]<0||n[Bs]>999?Bs:-1,Ae(t)._overflowDayOfYear&&(e<en||e>wr)&&(e=wr),Ae(t)._overflowWeeks&&e===-1&&(e=RN),Ae(t)._overflowWeekday&&e===-1&&(e=PN),Ae(t).overflow=e),t}var Sx=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ix=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kx=/Z|[+-]\d\d(?::?\d\d)?/,Bc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],sp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Rx=/^\/?Date\((-?\d+)/i,Px=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ax={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function WT(t){var e,n,i=t._i,o=Sx.exec(i)||Ix.exec(i),a,c,f,p,y=Bc.length,w=sp.length;if(o){for(Ae(t).iso=!0,e=0,n=y;e<n;e++)if(Bc[e][1].exec(o[1])){c=Bc[e][0],a=Bc[e][2]!==!1;break}if(c==null){t._isValid=!1;return}if(o[3]){for(e=0,n=w;e<n;e++)if(sp[e][1].exec(o[3])){f=(o[2]||" ")+sp[e][0];break}if(f==null){t._isValid=!1;return}}if(!a&&f!=null){t._isValid=!1;return}if(o[4])if(kx.exec(o[4]))p="Z";else{t._isValid=!1;return}t._f=c+(f||"")+(p||""),Jm(t)}else t._isValid=!1}function Cx(t,e,n,i,o,a){var c=[Dx(t),OT.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return a&&c.push(parseInt(a,10)),c}function Dx(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Nx(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xx(t,e,n){if(t){var i=UT.indexOf(t),o=new Date(e[0],e[1],e[2]).getDay();if(i!==o)return Ae(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Ox(t,e,n){if(t)return Ax[t];if(e)return 0;var i=parseInt(n,10),o=i%100,a=(i-o)/100;return a*60+o}function $T(t){var e=Px.exec(Nx(t._i)),n;if(e){if(n=Cx(e[4],e[3],e[2],e[5],e[6],e[7]),!xx(e[1],n,t))return;t._a=n,t._tzm=Ox(e[8],e[9],e[10]),t._d=Zl.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ae(t).rfc2822=!0}else t._isValid=!1}function Mx(t){var e=Rx.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(WT(t),t._isValid===!1)delete t._isValid;else return;if($T(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ie.createFromInputFallback(t)}ie.createFromInputFallback=jn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Jo(t,e,n){return t??e??n}function Lx(t){var e=new Date(ie.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Xm(t){var e,n,i=[],o,a,c;if(!t._d){for(o=Lx(t),t._w&&t._a[wr]==null&&t._a[ii]==null&&Vx(t),t._dayOfYear!=null&&(c=Jo(t._a[en],o[en]),(t._dayOfYear>jl(c)||t._dayOfYear===0)&&(Ae(t)._overflowDayOfYear=!0),n=Zl(c,0,t._dayOfYear),t._a[ii]=n.getUTCMonth(),t._a[wr]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=i[e]=o[e];for(;e<7;e++)t._a[e]=i[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ct]===24&&t._a[rr]===0&&t._a[si]===0&&t._a[Bs]===0&&(t._nextDay=!0,t._a[Ct]=0),t._d=(t._useUTC?Zl:BN).apply(null,i),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ct]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==a&&(Ae(t).weekdayMismatch=!0)}}function Vx(t){var e,n,i,o,a,c,f,p,y;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(a=1,c=4,n=Jo(e.GG,t._a[en],eu(it(),1,4).year),i=Jo(e.W,1),o=Jo(e.E,1),(o<1||o>7)&&(p=!0)):(a=t._locale._week.dow,c=t._locale._week.doy,y=eu(it(),a,c),n=Jo(e.gg,t._a[en],y.year),i=Jo(e.w,y.week),e.d!=null?(o=e.d,(o<0||o>6)&&(p=!0)):e.e!=null?(o=e.e+a,(e.e<0||e.e>6)&&(p=!0)):o=a),i<1||i>ui(n,a,c)?Ae(t)._overflowWeeks=!0:p!=null?Ae(t)._overflowWeekday=!0:(f=FT(n,i,o,a,c),t._a[en]=f.year,t._dayOfYear=f.dayOfYear)}ie.ISO_8601=function(){};ie.RFC_2822=function(){};function Jm(t){if(t._f===ie.ISO_8601){WT(t);return}if(t._f===ie.RFC_2822){$T(t);return}t._a=[],Ae(t).empty=!0;var e=""+t._i,n,i,o,a,c,f=e.length,p=0,y,w;for(o=RT(t._f,t._locale).match(jm)||[],w=o.length,n=0;n<w;n++)a=o[n],i=(e.match(SN(a,t))||[])[0],i&&(c=e.substr(0,e.indexOf(i)),c.length>0&&Ae(t).unusedInput.push(c),e=e.slice(e.indexOf(i)+i.length),p+=i.length),sa[a]?(i?Ae(t).empty=!1:Ae(t).unusedTokens.push(a),kN(a,i,t)):t._strict&&!i&&Ae(t).unusedTokens.push(a);Ae(t).charsLeftOver=f-p,e.length>0&&Ae(t).unusedInput.push(e),t._a[Ct]<=12&&Ae(t).bigHour===!0&&t._a[Ct]>0&&(Ae(t).bigHour=void 0),Ae(t).parsedDateParts=t._a.slice(0),Ae(t).meridiem=t._meridiem,t._a[Ct]=bx(t._locale,t._a[Ct],t._meridiem),y=Ae(t).era,y!==null&&(t._a[en]=t._locale.erasConvertYear(y,t._a[en])),Xm(t),Qm(t)}function bx(t,e,n){var i;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(i=t.isPM(n),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function Fx(t){var e,n,i,o,a,c,f=!1,p=t._f.length;if(p===0){Ae(t).invalidFormat=!0,t._d=new Date(NaN);return}for(o=0;o<p;o++)a=0,c=!1,e=Fm({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[o],Jm(e),bm(e)&&(c=!0),a+=Ae(e).charsLeftOver,a+=Ae(e).unusedTokens.length*10,Ae(e).score=a,f?a<i&&(i=a,n=e):(i==null||a<i||c)&&(i=a,n=e,c&&(f=!0));Ki(t,n||e)}function Ux(t){if(!t._d){var e=zm(t._i),n=e.day===void 0?e.date:e.day;t._a=ST([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),Xm(t)}}function jx(t){var e=new mu(Qm(HT(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function HT(t){var e=t._i,n=t._f;return t._locale=t._locale||yi(t._l),e===null||n===void 0&&e===""?td({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ar(e)?new mu(Qm(e)):(pu(e)?t._d=e:or(n)?Fx(t):n?Jm(t):zx(t),bm(t)||(t._d=null),t))}function zx(t){var e=t._i;gn(e)?t._d=new Date(ie.now()):pu(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Mx(t):or(e)?(t._a=ST(e.slice(0),function(n){return parseInt(n,10)}),Xm(t)):Ys(e)?Ux(t):mi(e)?t._d=new Date(e):ie.createFromInputFallback(t)}function YT(t,e,n,i,o){var a={};return(e===!0||e===!1)&&(i=e,e=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(Ys(t)&&Vm(t)||or(t)&&t.length===0)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=t,a._f=e,a._strict=i,jx(a)}function it(t,e,n,i){return YT(t,e,n,i,!1)}var Bx=jn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=it.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:td()}),Wx=jn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=it.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:td()});function qT(t,e){var n,i;if(e.length===1&&or(e[0])&&(e=e[0]),!e.length)return it();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function $x(){var t=[].slice.call(arguments,0);return qT("isBefore",t)}function Hx(){var t=[].slice.call(arguments,0);return qT("isAfter",t)}var Yx=function(){return Date.now?Date.now():+new Date},Al=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qx(t){var e,n=!1,i,o=Al.length;for(e in t)if($e(t,e)&&!(_t.call(Al,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(i=0;i<o;++i)if(t[Al[i]]){if(n)return!1;parseFloat(t[Al[i]])!==Le(t[Al[i]])&&(n=!0)}return!0}function Gx(){return this._isValid}function Kx(){return lr(NaN)}function ud(t){var e=zm(t),n=e.year||0,i=e.quarter||0,o=e.month||0,a=e.week||e.isoWeek||0,c=e.day||0,f=e.hour||0,p=e.minute||0,y=e.second||0,w=e.millisecond||0;this._isValid=qx(e),this._milliseconds=+w+y*1e3+p*6e4+f*1e3*60*60,this._days=+c+a*7,this._months=+o+i*3+n*12,this._data={},this._locale=yi(),this._bubble()}function nh(t){return t instanceof ud}function Vp(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Qx(t,e,n){var i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0,c;for(c=0;c<i;c++)Le(t[c])!==Le(e[c])&&a++;return a+o}function GT(t,e){ye(t,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+Ar(~~(n/60),2)+e+Ar(~~n%60,2)})}GT("Z",":");GT("ZZ","");le("Z",od);le("ZZ",od);Xe(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Zm(od,t)});var Xx=/([\+\-]|\d\d)/gi;function Zm(t,e){var n=(e||"").match(t),i,o,a;return n===null?null:(i=n[n.length-1]||[],o=(i+"").match(Xx)||["-",0,0],a=+(o[1]*60)+Le(o[2]),a===0?0:o[0]==="+"?a:-a)}function eg(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(ar(t)||pu(t)?t.valueOf():it(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),ie.updateOffset(n,!1),n):it(t).local()}function bp(t){return-Math.round(t._d.getTimezoneOffset())}ie.updateOffset=function(){};function Jx(t,e,n){var i=this._offset||0,o;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Zm(od,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(o=bp(this)),this._offset=t,this._isUTC=!0,o!=null&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?XT(this,lr(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ie.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:bp(this)}function Zx(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function eO(t){return this.utcOffset(0,t)}function tO(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(bp(this),"m")),this}function nO(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Zm(EN,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function rO(t){return this.isValid()?(t=t?it(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function iO(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function sO(){if(!gn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Fm(t,this),t=HT(t),t._a?(e=t._isUTC?Nr(t._a):it(t._a),this._isDSTShifted=this.isValid()&&Qx(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function oO(){return this.isValid()?!this._isUTC:!1}function aO(){return this.isValid()?this._isUTC:!1}function KT(){return this.isValid()?this._isUTC&&this._offset===0:!1}var lO=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,uO=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function lr(t,e){var n=t,i=null,o,a,c;return nh(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:mi(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(i=lO.exec(t))?(o=i[1]==="-"?-1:1,n={y:0,d:Le(i[wr])*o,h:Le(i[Ct])*o,m:Le(i[rr])*o,s:Le(i[si])*o,ms:Le(Vp(i[Bs]*1e3))*o}):(i=uO.exec(t))?(o=i[1]==="-"?-1:1,n={y:Fs(i[2],o),M:Fs(i[3],o),w:Fs(i[4],o),d:Fs(i[5],o),h:Fs(i[6],o),m:Fs(i[7],o),s:Fs(i[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(c=cO(it(n.from),it(n.to)),n={},n.ms=c.milliseconds,n.M=c.months),a=new ud(n),nh(t)&&$e(t,"_locale")&&(a._locale=t._locale),nh(t)&&$e(t,"_isValid")&&(a._isValid=t._isValid),a}lr.fn=ud.prototype;lr.invalid=Kx;function Fs(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Wv(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function cO(t,e){var n;return t.isValid()&&e.isValid()?(e=eg(e,t),t.isBefore(e)?n=Wv(t,e):(n=Wv(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function QT(t,e){return function(n,i){var o,a;return i!==null&&!isNaN(+i)&&(kT(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),o=lr(n,i),XT(this,o,t),this}}function XT(t,e,n,i){var o=e._milliseconds,a=Vp(e._days),c=Vp(e._months);t.isValid()&&(i=i??!0,c&&LT(t,Jl(t,"Month")+c*n),a&&xT(t,"Date",Jl(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&ie.updateOffset(t,a||c))}var hO=QT(1,"add"),dO=QT(-1,"subtract");function JT(t){return typeof t=="string"||t instanceof String}function fO(t){return ar(t)||pu(t)||JT(t)||mi(t)||mO(t)||pO(t)||t===null||t===void 0}function pO(t){var e=Ys(t)&&!Vm(t),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,a,c=i.length;for(o=0;o<c;o+=1)a=i[o],n=n||$e(t,a);return e&&n}function mO(t){var e=or(t),n=!1;return e&&(n=t.filter(function(i){return!mi(i)&&JT(t)}).length===0),e&&n}function gO(t){var e=Ys(t)&&!Vm(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,a;for(o=0;o<i.length;o+=1)a=i[o],n=n||$e(t,a);return e&&n}function yO(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function _O(t,e){arguments.length===1&&(arguments[0]?fO(arguments[0])?(t=arguments[0],e=void 0):gO(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||it(),i=eg(n,this).startOf("day"),o=ie.calendarFormat(this,i)||"sameElse",a=e&&(xr(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,it(n)))}function vO(){return new mu(this)}function wO(t,e){var n=ar(t)?t:it(t);return this.isValid()&&n.isValid()?(e=zn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function EO(t,e){var n=ar(t)?t:it(t);return this.isValid()&&n.isValid()?(e=zn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function TO(t,e,n,i){var o=ar(t)?t:it(t),a=ar(e)?e:it(e);return this.isValid()&&o.isValid()&&a.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(i[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function SO(t,e){var n=ar(t)?t:it(t),i;return this.isValid()&&n.isValid()?(e=zn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function IO(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function kO(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function RO(t,e,n){var i,o,a;if(!this.isValid())return NaN;if(i=eg(t,this),!i.isValid())return NaN;switch(o=(i.utcOffset()-this.utcOffset())*6e4,e=zn(e),e){case"year":a=rh(this,i)/12;break;case"month":a=rh(this,i);break;case"quarter":a=rh(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-o)/864e5;break;case"week":a=(this-i-o)/6048e5;break;default:a=this-i}return n?a:Un(a)}function rh(t,e){if(t.date()<e.date())return-rh(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),i=t.clone().add(n,"months"),o,a;return e-i<0?(o=t.clone().add(n-1,"months"),a=(e-i)/(i-o)):(o=t.clone().add(n+1,"months"),a=(e-i)/(o-i)),-(n+a)||0}ie.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ie.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function PO(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function AO(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?th(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):xr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",th(n,"Z")):th(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function CO(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,i,o,a;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",a=e+'[")]',this.format(n+i+o+a)}function DO(t){t||(t=this.isUtc()?ie.defaultFormatUtc:ie.defaultFormat);var e=th(this,t);return this.localeData().postformat(e)}function NO(t,e){return this.isValid()&&(ar(t)&&t.isValid()||it(t).isValid())?lr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xO(t){return this.from(it(),t)}function OO(t,e){return this.isValid()&&(ar(t)&&t.isValid()||it(t).isValid())?lr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function MO(t){return this.to(it(),t)}function ZT(t){var e;return t===void 0?this._locale._abbr:(e=yi(t),e!=null&&(this._locale=e),this)}var e0=jn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function t0(){return this._locale}var Ah=1e3,oa=60*Ah,Ch=60*oa,n0=(365*400+97)*24*Ch;function aa(t,e){return(t%e+e)%e}function r0(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-n0:new Date(t,e,n).valueOf()}function i0(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-n0:Date.UTC(t,e,n)}function LO(t){var e,n;if(t=zn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?i0:r0,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=aa(e+(this._isUTC?0:this.utcOffset()*oa),Ch);break;case"minute":e=this._d.valueOf(),e-=aa(e,oa);break;case"second":e=this._d.valueOf(),e-=aa(e,Ah);break}return this._d.setTime(e),ie.updateOffset(this,!0),this}function VO(t){var e,n;if(t=zn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?i0:r0,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Ch-aa(e+(this._isUTC?0:this.utcOffset()*oa),Ch)-1;break;case"minute":e=this._d.valueOf(),e+=oa-aa(e,oa)-1;break;case"second":e=this._d.valueOf(),e+=Ah-aa(e,Ah)-1;break}return this._d.setTime(e),ie.updateOffset(this,!0),this}function bO(){return this._d.valueOf()-(this._offset||0)*6e4}function FO(){return Math.floor(this.valueOf()/1e3)}function UO(){return new Date(this.valueOf())}function jO(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function zO(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function BO(){return this.isValid()?this.toISOString():null}function WO(){return bm(this)}function $O(){return Ki({},Ae(this))}function HO(){return Ae(this).overflow}function YO(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ye("N",0,0,"eraAbbr");ye("NN",0,0,"eraAbbr");ye("NNN",0,0,"eraAbbr");ye("NNNN",0,0,"eraName");ye("NNNNN",0,0,"eraNarrow");ye("y",["y",1],"yo","eraYear");ye("y",["yy",2],0,"eraYear");ye("y",["yyy",3],0,"eraYear");ye("y",["yyyy",4],0,"eraYear");le("N",tg);le("NN",tg);le("NNN",tg);le("NNNN",rM);le("NNNNN",iM);Xe(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){var o=n._locale.erasParse(t,i,n._strict);o?Ae(n).era=o:Ae(n).invalidEra=t});le("y",Pa);le("yy",Pa);le("yyy",Pa);le("yyyy",Pa);le("yo",sM);Xe(["y","yy","yyy","yyyy"],en);Xe(["yo"],function(t,e,n,i){var o;n._locale._eraYearOrdinalRegex&&(o=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[en]=n._locale.eraYearOrdinalParse(t,o):e[en]=parseInt(t,10)});function qO(t,e){var n,i,o,a=this._eras||yi("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":o=ie(a[n].since).startOf("day"),a[n].since=o.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=ie(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf();break}}return a}function GO(t,e,n){var i,o,a=this.eras(),c,f,p;for(t=t.toUpperCase(),i=0,o=a.length;i<o;++i)if(c=a[i].name.toUpperCase(),f=a[i].abbr.toUpperCase(),p=a[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(f===t)return a[i];break;case"NNNN":if(c===t)return a[i];break;case"NNNNN":if(p===t)return a[i];break}else if([c,f,p].indexOf(t)>=0)return a[i]}function KO(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ie(t.since).year():ie(t.since).year()+(e-t.offset)*n}function QO(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].name;return""}function XO(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].narrow;return""}function JO(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].abbr;return""}function ZO(){var t,e,n,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-ie(o[t].since).year())*n+o[t].offset;return this.year()}function eM(t){return $e(this,"_erasNameRegex")||ng.call(this),t?this._erasNameRegex:this._erasRegex}function tM(t){return $e(this,"_erasAbbrRegex")||ng.call(this),t?this._erasAbbrRegex:this._erasRegex}function nM(t){return $e(this,"_erasNarrowRegex")||ng.call(this),t?this._erasNarrowRegex:this._erasRegex}function tg(t,e){return e.erasAbbrRegex(t)}function rM(t,e){return e.erasNameRegex(t)}function iM(t,e){return e.erasNarrowRegex(t)}function sM(t,e){return e._eraYearOrdinalRegex||Pa}function ng(){var t=[],e=[],n=[],i=[],o,a,c,f,p,y=this.eras();for(o=0,a=y.length;o<a;++o)c=li(y[o].name),f=li(y[o].abbr),p=li(y[o].narrow),e.push(c),t.push(f),n.push(p),i.push(c),i.push(f),i.push(p);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ye(0,["gg",2],0,function(){return this.weekYear()%100});ye(0,["GG",2],0,function(){return this.isoWeekYear()%100});function cd(t,e){ye(0,[t,t.length],0,e)}cd("gggg","weekYear");cd("ggggg","weekYear");cd("GGGG","isoWeekYear");cd("GGGGG","isoWeekYear");le("G",sd);le("g",sd);le("GG",st,An);le("gg",st,An);le("GGGG",Wm,Bm);le("gggg",Wm,Bm);le("GGGGG",id,nd);le("ggggg",id,nd);yu(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=Le(t)});yu(["gg","GG"],function(t,e,n,i){e[i]=ie.parseTwoDigitYear(t)});function oM(t){return s0.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function aM(t){return s0.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function lM(){return ui(this.year(),1,4)}function uM(){return ui(this.isoWeekYear(),1,4)}function cM(){var t=this.localeData()._week;return ui(this.year(),t.dow,t.doy)}function hM(){var t=this.localeData()._week;return ui(this.weekYear(),t.dow,t.doy)}function s0(t,e,n,i,o){var a;return t==null?eu(this,i,o).year:(a=ui(t,i,o),e>a&&(e=a),dM.call(this,t,e,n,i,o))}function dM(t,e,n,i,o){var a=FT(t,e,n,i,o),c=Zl(a.year,0,a.dayOfYear);return this.year(c.getUTCFullYear()),this.month(c.getUTCMonth()),this.date(c.getUTCDate()),this}ye("Q",0,"Qo","quarter");le("Q",PT);Xe("Q",function(t,e){e[ii]=(Le(t)-1)*3});function fM(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ye("D",["DD",2],"Do","date");le("D",st,Aa);le("DD",st,An);le("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Xe(["D","DD"],wr);Xe("Do",function(t,e){e[wr]=Le(t.match(st)[0])});var o0=Ca("Date",!0);ye("DDD",["DDDD",3],"DDDo","dayOfYear");le("DDD",rd);le("DDDD",AT);Xe(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Le(t)});function pM(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ye("m",["mm",2],0,"minute");le("m",st,$m);le("mm",st,An);Xe(["m","mm"],rr);var mM=Ca("Minutes",!1);ye("s",["ss",2],0,"second");le("s",st,$m);le("ss",st,An);Xe(["s","ss"],si);var gM=Ca("Seconds",!1);ye("S",0,0,function(){return~~(this.millisecond()/100)});ye(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ye(0,["SSS",3],0,"millisecond");ye(0,["SSSS",4],0,function(){return this.millisecond()*10});ye(0,["SSSSS",5],0,function(){return this.millisecond()*100});ye(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ye(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ye(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ye(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});le("S",rd,PT);le("SS",rd,An);le("SSS",rd,AT);var Qi,a0;for(Qi="SSSS";Qi.length<=9;Qi+="S")le(Qi,Pa);function yM(t,e){e[Bs]=Le(("0."+t)*1e3)}for(Qi="S";Qi.length<=9;Qi+="S")Xe(Qi,yM);a0=Ca("Milliseconds",!1);ye("z",0,0,"zoneAbbr");ye("zz",0,0,"zoneName");function _M(){return this._isUTC?"UTC":""}function vM(){return this._isUTC?"Coordinated Universal Time":""}var Z=mu.prototype;Z.add=hO;Z.calendar=_O;Z.clone=vO;Z.diff=RO;Z.endOf=VO;Z.format=DO;Z.from=NO;Z.fromNow=xO;Z.to=OO;Z.toNow=MO;Z.get=CN;Z.invalidAt=HO;Z.isAfter=wO;Z.isBefore=EO;Z.isBetween=TO;Z.isSame=SO;Z.isSameOrAfter=IO;Z.isSameOrBefore=kO;Z.isValid=WO;Z.lang=e0;Z.locale=ZT;Z.localeData=t0;Z.max=Wx;Z.min=Bx;Z.parsingFlags=$O;Z.set=DN;Z.startOf=LO;Z.subtract=dO;Z.toArray=jO;Z.toObject=zO;Z.toDate=UO;Z.toISOString=AO;Z.inspect=CO;typeof Symbol<"u"&&Symbol.for!=null&&(Z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Z.toJSON=BO;Z.toString=PO;Z.unix=FO;Z.valueOf=bO;Z.creationData=YO;Z.eraName=QO;Z.eraNarrow=XO;Z.eraAbbr=JO;Z.eraYear=ZO;Z.year=NT;Z.isLeapYear=AN;Z.weekYear=oM;Z.isoWeekYear=aM;Z.quarter=Z.quarters=fM;Z.month=VT;Z.daysInMonth=UN;Z.week=Z.weeks=qN;Z.isoWeek=Z.isoWeeks=GN;Z.weeksInYear=cM;Z.weeksInWeekYear=hM;Z.isoWeeksInYear=lM;Z.isoWeeksInISOWeekYear=uM;Z.date=o0;Z.day=Z.days=ax;Z.weekday=lx;Z.isoWeekday=ux;Z.dayOfYear=pM;Z.hour=Z.hours=gx;Z.minute=Z.minutes=mM;Z.second=Z.seconds=gM;Z.millisecond=Z.milliseconds=a0;Z.utcOffset=Jx;Z.utc=eO;Z.local=tO;Z.parseZone=nO;Z.hasAlignedHourOffset=rO;Z.isDST=iO;Z.isLocal=oO;Z.isUtcOffset=aO;Z.isUtc=KT;Z.isUTC=KT;Z.zoneAbbr=_M;Z.zoneName=vM;Z.dates=jn("dates accessor is deprecated. Use date instead.",o0);Z.months=jn("months accessor is deprecated. Use month instead",VT);Z.years=jn("years accessor is deprecated. Use year instead",NT);Z.zone=jn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Zx);Z.isDSTShifted=jn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",sO);function wM(t){return it(t*1e3)}function EM(){return it.apply(null,arguments).parseZone()}function l0(t){return t}var He=Um.prototype;He.calendar=oN;He.longDateFormat=cN;He.invalidDate=dN;He.ordinal=mN;He.preparse=l0;He.postformat=l0;He.relativeTime=yN;He.pastFuture=_N;He.set=iN;He.eras=qO;He.erasParse=GO;He.erasConvertYear=KO;He.erasAbbrRegex=tM;He.erasNameRegex=eM;He.erasNarrowRegex=nM;He.months=LN;He.monthsShort=VN;He.monthsParse=FN;He.monthsRegex=zN;He.monthsShortRegex=jN;He.week=WN;He.firstDayOfYear=YN;He.firstDayOfWeek=HN;He.weekdays=nx;He.weekdaysMin=ix;He.weekdaysShort=rx;He.weekdaysParse=ox;He.weekdaysRegex=cx;He.weekdaysShortRegex=hx;He.weekdaysMinRegex=dx;He.isPM=px;He.meridiem=yx;function Dh(t,e,n,i){var o=yi(),a=Nr().set(i,e);return o[n](a,t)}function u0(t,e,n){if(mi(t)&&(e=t,t=void 0),t=t||"",e!=null)return Dh(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Dh(t,i,n,"month");return o}function rg(t,e,n,i){typeof t=="boolean"?(mi(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,mi(e)&&(n=e,e=void 0),e=e||"");var o=yi(),a=t?o._week.dow:0,c,f=[];if(n!=null)return Dh(e,(n+a)%7,i,"day");for(c=0;c<7;c++)f[c]=Dh(e,(c+a)%7,i,"day");return f}function TM(t,e){return u0(t,e,"months")}function SM(t,e){return u0(t,e,"monthsShort")}function IM(t,e,n){return rg(t,e,n,"weekdays")}function kM(t,e,n){return rg(t,e,n,"weekdaysShort")}function RM(t,e,n){return rg(t,e,n,"weekdaysMin")}ts("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Le(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ie.lang=jn("moment.lang is deprecated. Use moment.locale instead.",ts);ie.langData=jn("moment.langData is deprecated. Use moment.localeData instead.",yi);var Xr=Math.abs;function PM(){var t=this._data;return this._milliseconds=Xr(this._milliseconds),this._days=Xr(this._days),this._months=Xr(this._months),t.milliseconds=Xr(t.milliseconds),t.seconds=Xr(t.seconds),t.minutes=Xr(t.minutes),t.hours=Xr(t.hours),t.months=Xr(t.months),t.years=Xr(t.years),this}function c0(t,e,n,i){var o=lr(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function AM(t,e){return c0(this,t,e,1)}function CM(t,e){return c0(this,t,e,-1)}function $v(t){return t<0?Math.floor(t):Math.ceil(t)}function DM(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,o,a,c,f,p;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=$v(Fp(n)+e)*864e5,e=0,n=0),i.milliseconds=t%1e3,o=Un(t/1e3),i.seconds=o%60,a=Un(o/60),i.minutes=a%60,c=Un(a/60),i.hours=c%24,e+=Un(c/24),p=Un(h0(e)),n+=p,e-=$v(Fp(p)),f=Un(n/12),n%=12,i.days=e,i.months=n,i.years=f,this}function h0(t){return t*4800/146097}function Fp(t){return t*146097/4800}function NM(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=zn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+i/864e5,n=this._months+h0(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Fp(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+t)}}function _i(t){return function(){return this.as(t)}}var d0=_i("ms"),xM=_i("s"),OM=_i("m"),MM=_i("h"),LM=_i("d"),VM=_i("w"),bM=_i("M"),FM=_i("Q"),UM=_i("y"),jM=d0;function zM(){return lr(this)}function BM(t){return t=zn(t),this.isValid()?this[t+"s"]():NaN}function Zs(t){return function(){return this.isValid()?this._data[t]:NaN}}var WM=Zs("milliseconds"),$M=Zs("seconds"),HM=Zs("minutes"),YM=Zs("hours"),qM=Zs("days"),GM=Zs("months"),KM=Zs("years");function QM(){return Un(this.days()/7)}var Jr=Math.round,Zo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function XM(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function JM(t,e,n,i){var o=lr(t).abs(),a=Jr(o.as("s")),c=Jr(o.as("m")),f=Jr(o.as("h")),p=Jr(o.as("d")),y=Jr(o.as("M")),w=Jr(o.as("w")),T=Jr(o.as("y")),S=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||c<=1&&["m"]||c<n.m&&["mm",c]||f<=1&&["h"]||f<n.h&&["hh",f]||p<=1&&["d"]||p<n.d&&["dd",p];return n.w!=null&&(S=S||w<=1&&["w"]||w<n.w&&["ww",w]),S=S||y<=1&&["M"]||y<n.M&&["MM",y]||T<=1&&["y"]||["yy",T],S[2]=e,S[3]=+t>0,S[4]=i,XM.apply(null,S)}function ZM(t){return t===void 0?Jr:typeof t=="function"?(Jr=t,!0):!1}function e2(t,e){return Zo[t]===void 0?!1:e===void 0?Zo[t]:(Zo[t]=e,t==="s"&&(Zo.ss=e-1),!0)}function t2(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=Zo,o,a;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(i=Object.assign({},Zo,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),o=this.localeData(),a=JM(this,!n,i,o),n&&(a=o.pastFuture(+this,a)),o.postformat(a)}var op=Math.abs;function qo(t){return(t>0)-(t<0)||+t}function hd(){if(!this.isValid())return this.localeData().invalidDate();var t=op(this._milliseconds)/1e3,e=op(this._days),n=op(this._months),i,o,a,c,f=this.asSeconds(),p,y,w,T;return f?(i=Un(t/60),o=Un(i/60),t%=60,i%=60,a=Un(n/12),n%=12,c=t?t.toFixed(3).replace(/\.?0+$/,""):"",p=f<0?"-":"",y=qo(this._months)!==qo(f)?"-":"",w=qo(this._days)!==qo(f)?"-":"",T=qo(this._milliseconds)!==qo(f)?"-":"",p+"P"+(a?y+a+"Y":"")+(n?y+n+"M":"")+(e?w+e+"D":"")+(o||i||t?"T":"")+(o?T+o+"H":"")+(i?T+i+"M":"")+(t?T+c+"S":"")):"P0D"}var ze=ud.prototype;ze.isValid=Gx;ze.abs=PM;ze.add=AM;ze.subtract=CM;ze.as=NM;ze.asMilliseconds=d0;ze.asSeconds=xM;ze.asMinutes=OM;ze.asHours=MM;ze.asDays=LM;ze.asWeeks=VM;ze.asMonths=bM;ze.asQuarters=FM;ze.asYears=UM;ze.valueOf=jM;ze._bubble=DM;ze.clone=zM;ze.get=BM;ze.milliseconds=WM;ze.seconds=$M;ze.minutes=HM;ze.hours=YM;ze.days=qM;ze.weeks=QM;ze.months=GM;ze.years=KM;ze.humanize=t2;ze.toISOString=hd;ze.toString=hd;ze.toJSON=hd;ze.locale=ZT;ze.localeData=t0;ze.toIsoString=jn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hd);ze.lang=e0;ye("X",0,0,"unix");ye("x",0,0,"valueOf");le("x",sd);le("X",TN);Xe("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Xe("x",function(t,e,n){n._d=new Date(Le(t))});//! moment.js
ie.version="2.30.1";nN(it);ie.fn=Z;ie.min=$x;ie.max=Hx;ie.now=Yx;ie.utc=Nr;ie.unix=wM;ie.months=TM;ie.isDate=pu;ie.locale=ts;ie.invalid=td;ie.duration=lr;ie.isMoment=ar;ie.weekdays=IM;ie.parseZone=EM;ie.localeData=yi;ie.isDuration=nh;ie.monthsShort=SM;ie.weekdaysMin=RM;ie.defineLocale=Km;ie.updateLocale=Ex;ie.locales=Tx;ie.weekdaysShort=kM;ie.normalizeUnits=zn;ie.relativeTimeRounding=ZM;ie.relativeTimeThreshold=e2;ie.calendarFormat=yO;ie.prototype=Z;ie.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const n2=({isAuth:t})=>{const e=va(),[n,i]=$.useState([]),[o,a]=$.useState(!0),c=DE(Xl,"All-posts");$.useEffect(()=>{(async()=>{const w=await FA(c);i(w.docs.map(T=>({...T.data(),id:T.id}))),a(!1)})()},[]);const f=async y=>{if(window.confirm("Are you sure you want to delete this post ?")){const w=yh(Xl,"All-posts",y);await jA(w),i(n.filter(T=>T.id!==y))}},p=y=>{e(`/edit-post/${y}`)};return de.jsx("div",{className:"homePage",children:o?de.jsx("div",{className:"spinner",children:"Loading..."}):n.length===0?de.jsx("div",{className:"noPosts",children:"No posts available"}):n.map(y=>{var w;return de.jsxs("div",{className:"post",children:[de.jsxs("div",{className:"postHeader",children:[de.jsx("div",{className:"title",children:de.jsx("h1",{children:y.title})}),de.jsx("div",{className:"deletePost",children:t&&y.author.id===ia.currentUser.uid&&de.jsxs(de.Fragment,{children:[de.jsxs("button",{onClick:()=>{f(y.id)},children:[" ",de.jsx(eN,{size:20,color:"white"})," "]}),de.jsx("button",{onClick:()=>{p(y.id)},children:de.jsx(tN,{size:20,color:"white"})})]})})]}),de.jsx("div",{className:"postTextContainer",children:y.postText}),de.jsxs("h3",{className:"user-name",children:["@",(w=y.author)==null?void 0:w.name]}),de.jsx("p",{children:ie(y.timestamp.seconds*1e3).format("MMMM Do YYYY, h:mm:ss a")})]},y.id)})})},r2=({setIsAuth:t})=>{let e=va();const n=()=>{JC(ia,YD).then(i=>{localStorage.setItem("isAuth",!0),t(!0),e("/create-post")}).catch(i=>{console.log(i.message)})};return de.jsxs("div",{className:"loginPage",children:[de.jsx("p",{children:"Sign in with Google"}),de.jsx("button",{className:"login-with-google-btn",onClick:n,children:" Sign in with Google "})]})},i2=({isAuth:t})=>{const e=va(),[n,i]=$.useState(""),[o,a]=$.useState(""),[c,f]=$.useState(!1),p=DE(Xl,"All-posts"),y=async w=>{w.preventDefault(),f(!0),await zA(p,{author:{name:ia.currentUser.displayName,id:ia.currentUser.uid,email:ia.currentUser.email},title:n,postText:o,timestamp:WA()}),f(!1),e("/")};return $.useEffect(()=>{t||e("/login")},[t]),de.jsxs("div",{className:"createPostPage",children:[de.jsxs("form",{className:"cpContainer",onSubmit:y,children:[de.jsx("h1",{children:"Create New Post"}),de.jsxs("div",{className:"inputGp",children:[de.jsx("label",{htmlFor:"",children:"Title:"}),de.jsx("input",{required:!0,type:"text",placeholder:"Title...",onChange:w=>i(w.target.value)})]}),de.jsxs("div",{className:"inputGp",children:[de.jsx("label",{htmlFor:"",children:"Post:"}),de.jsx("textarea",{name:"",required:!0,placeholder:"Post...",onChange:w=>a(w.target.value),id:"",cols:"30",rows:"10"})]}),de.jsx("button",{type:"submit",disabled:c,children:c?"Submitting...":"Submit Post"})]}),c&&de.jsx("div",{className:"spinner",children:"Loading..."})]})},s2=()=>{const{id:t}=tI(),e=va(),[n,i]=$.useState(""),[o,a]=$.useState(""),[c,f]=$.useState(!1);$.useEffect(()=>{(async()=>{const w=yh(Xl,"All-posts",t),T=await bA(w);if(T.exists()){const S=T.data();i(S.title),a(S.postText)}})()},[t]);const p=async y=>{y.preventDefault(),f(!0);const w=yh(Xl,"All-posts",t);await UA(w,{title:n,postText:o}),f(!1),e("/")};return de.jsxs("div",{className:"createPostPage",children:[de.jsxs("form",{className:"cpContainer",onSubmit:p,children:[de.jsx("h1",{children:" Update New Post"}),de.jsxs("div",{className:"inputGp",children:[de.jsx("label",{htmlFor:"",children:"Title:"}),de.jsx("input",{required:!0,type:"text",placeholder:"Title...",value:n,onChange:y=>i(y.target.value)})]}),de.jsxs("div",{className:"inputGp",children:[de.jsx("label",{htmlFor:"",children:"Post:"}),de.jsx("textarea",{name:"",required:!0,placeholder:"Post...",value:o,onChange:y=>a(y.target.value),id:"",cols:"30",rows:"10"})]}),de.jsx("button",{type:"submit",disabled:c,children:c?"Updating...":"Update Post"})]}),c&&de.jsx("div",{className:"spinner",children:"Updating..."})]})},o2=()=>{const t=va(),[e,n]=$.useState(localStorage.getItem("isAuth")),i=()=>{window.confirm("Are you sure you want to sign out?")&&xC(ia).then(()=>{localStorage.removeItem("isAuth"),n(!1),t("/")}).catch(o=>{console.log(o.message)})};return de.jsxs("div",{children:[de.jsx(QI,{isAuth:e,logout:i}),de.jsxs(gI,{children:[de.jsx(Cl,{path:"/",element:de.jsx(n2,{isAuth:e})}),de.jsx(Cl,{path:"/login",element:de.jsx(r2,{setIsAuth:n})}),de.jsx(Cl,{path:"/create-post",element:de.jsx(i2,{isAuth:e})}),de.jsx(Cl,{path:"/edit-post/:id",element:de.jsx(s2,{isAuth:e})})]})]})};kS.createRoot(document.getElementById("root")).render(de.jsx(jI,{children:de.jsx(o2,{})}))});export default a2();
